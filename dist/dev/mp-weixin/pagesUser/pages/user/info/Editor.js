"use strict";var e=require("../../../../common/vendor.js");if(!Array){const p=e.resolveComponent("uni-forms-item"),u=e.resolveComponent("uni-forms");(p+u)()}const B=()=>"../../../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js",E=()=>"../../../../uni_modules/uni-forms/components/uni-forms/uni-forms.js";Math||(B+q+E)();const q=()=>"./PickerRegion.js",L={setup(p){const u=e.useStore();let i=e.computed$1(()=>u.state.user.userInfo).value,a=e.reactive({avatar:i.avatar,nickname:"",gender:"1",birthday:"",location:{provinceCode:"",cityCode:""},hometown:{provinceCode:"",cityCode:""},schoolName:"",job:"",motto:"",photos:null}),y={nickname:{rules:[{required:!0,errorMessage:"\u8BF7\u8F93\u5165\u6635\u79F0"}]}};const d=e.ref(null),b=o=>{console.log("form=e==",o),d.value.validate().then(n=>{console.log("\u8868\u5355\u6570\u636E\u4FE1\u606F\uFF1A",n)}).catch(n=>{console.log("\u8868\u5355\u9519\u8BEF\u4FE1\u606F\uFF1A",n)})},g="/static/images/default_avatar.png";let r=e.reactive(i.photos);e.watch(r,(o,n)=>{console.log("images.value===",o.value),a.photos=o});const $=o=>o.filter(t=>t).length;console.log("images===",r);const l=e.ref(i.avatar);e.watch(l,(o,n)=>{a.avatar=o});const h=o=>{e.index.chooseImage({success:n=>{console.log("chooseImageRes===",n);const{tempFilePaths:t,tempFiles:s}=n;console.log("tempFilePaths[0]===",t[0]),r[o]=t[0],console.log("images===",r)}})},I=(o,n)=>{if(console.log("item, index===",o,n),o){let t=["\u7F16\u8F91"];n>0&&(t=["\u8BBE\u4E3A\u5934\u50CF","\u7F16\u8F91","\u5220\u9664"]),e.index.showActionSheet({itemList:t,success:function(s){console.log("\u9009\u4E2D\u4E86\u7B2C"+(s.tapIndex+1)+"\u4E2A\u6309\u94AE"),s.tapIndex===0&&(r[n]=r[0],r[0]=o,l.value=o),s.tapIndex===1&&h(n)},fail:function(s){console.log(s.errMsg)}});return}h(n)},m=o=>{const n=new Date;let t=n.getFullYear(),s=n.getMonth()+1,c=n.getDate();return o==="start"?t=t-60:o==="end"&&(t=t+2),s=s>9?s:"0"+s,c=c>9?c:"0"+c,`${t}-${s}-${c}`},v=m({format:!0});console.log("currentDate===",v),a.birthday=v;let w=m("start"),P=m("end");const j=o=>{a.birthday=o.detail.value},D=e.ref("1"),k=()=>{e.index.showActionSheet({itemList:["\u7537","\u5973"],success:function(o){console.log("\u9009\u4E2D\u4E86\u7B2C"+(o.tapIndex+1)+"\u4E2A\u6309\u94AE")},fail:function(o){console.log(o.errMsg)}})},F=o=>{console.log("obj=====",o);const{provinceCode:n,cityCode:t}=o;a.location.provinceCode=n,a.location.cityCode=t},N=o=>{console.log("obj.home=====",o);const{provinceCode:n,cityCode:t}=o;a.hometown.provinceCode=n,a.hometown.cityCode=t},{hash:A}=location,f=A.split("?")[1];if(f){const o=f.split("=")[1];o&&(a.schoolName=decodeURI(o))}console.log("ops==",f);const M=()=>{e.index.navigateTo({url:"/pages/user/info/School"})},S=o=>{a.schoolName=o};let _=e.ref(["IT/\u4E92\u8054\u7F51/\u901A\u4FE1","\u91D1\u878D","\u5DE5\u4E1A\u5236\u9020\u4E1A","\u6559\u80B2/\u79D1\u7814","\u516C\u5171\u4E8B\u4E1A\u5355\u4F4D","\u533B\u836F/\u5065\u5EB7","\u5A92\u4F53/\u516C\u5173","\u5F71\u89C6/\u5A31\u4E50","\u96F6\u552E","\u9910\u996E/\u9152\u5E97","\u5176\u4ED6"]),C=e.ref(0);const x=o=>{const{detail:{value:n}}=o;C.value=n,a.job=_.value[n]};return(o,n)=>({a:l.value?l.value:g,b:e.p({name:"avatar"}),c:e.t($(e.unref(r))),d:e.t(e.unref(r).length),e:e.f(e.unref(r),(t,s,c)=>e.e({a:t||g,b:!t&&e.unref(r)[s-1]||s===0&&!e.unref(r)[0]},!t&&e.unref(r)[s-1]||s===0&&!e.unref(r)[0]?{}:{},{c:e.o$1(U=>I(t,s)),d:s})),f:e.p({name:"photos"}),g:e.unref(a).motto,h:e.o$1(t=>e.unref(a).motto=t.detail.value),i:e.p({name:"motto"}),j:e.unref(a).nickname,k:e.o$1(t=>e.unref(a).nickname=t.detail.value),l:e.p({label:"\u6635\u79F0",name:"nickname"}),m:e.t(D.value),n:e.o$1(k),o:e.p({label:"\u6027\u522B",name:"gender"}),p:e.t(e.unref(a).birthday),q:e.unref(a).birthday,r:e.unref(w),s:e.unref(P),t:e.o$1(j),v:e.p({label:"\u51FA\u751F\u65E5\u671F",name:"birthday"}),w:e.o$1(F),x:e.p({propsProvinceCode:"440000",propsCityCode:"440300"}),y:e.p({label:"\u6240\u5728\u5730",name:"location"}),z:e.o$1(N),A:e.p({propsProvinceCode:"430000",propsCityCode:"430700"}),B:e.p({label:"\u5BB6\u4E61",name:"hometown"}),C:e.t(e.unref(a).schoolName?e.unref(a).schoolName:"\u8BF7\u9009\u62E9\u5B66\u6821"),D:e.o$1(M),E:e.o$1(S),F:e.p({label:"\u5B66\u6821",name:"schoolName"}),G:e.t(e.unref(a).job?e.unref(a).job:"\u8BF7\u9009\u62E9\u804C\u4E1A"),H:e.unref(_),I:e.unref(C),J:e.o$1(x),K:e.p({label:"\u804C\u4E1A",name:"job"}),L:e.sr(d,"4ff6606e-0",{k:"form"}),M:e.p({modelValue:e.unref(a),rules:e.unref(y)}),N:e.o$1(b)})}};var R=e._export_sfc(L,[["__scopeId","data-v-4ff6606e"],["__file","C:/myself/social/social/src/pagesUser/pages/user/info/Editor.vue"]]);wx.createPage(R);
//# sourceMappingURL=Editor.js.map
