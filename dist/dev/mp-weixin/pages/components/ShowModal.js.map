{"version":3,"file":"ShowModal.js","sources":["../../../../../src/pages/components/ShowModal.vue","../../../../../uniComponent:/QzovbXlzZWxmL3NvY2lhbC9zb2NpYWwvc3JjL3BhZ2VzL2NvbXBvbmVudHMvU2hvd01vZGFsLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"_showModal\">\r\n    <view class=\"_shade\"></view>\r\n    <view class=\"_modalBox\">\r\n      <view class=\"_modal\">\r\n        <!-- <slot name=\"title\"> -->\r\n        <view class=\"title-wraper\">\r\n            <view class=\"title\"><text>{{ props.title }}</text></view>\r\n              <!-- <svg class=\"close-icon\" aria-hidden=\"true\" @click.stop=\"onClose\">\r\n              <use xlink:href=\"#icon-guanbi1\"></use>\r\n              </svg> -->\r\n              <span class=\"iconfont close-icon\" @click.stop=\"onClose\">&#xe723;</span>\r\n          </view>\r\n        <!-- </slot> -->\r\n        <view class=\"content-hint\"\r\n          >{{props.content}}</view\r\n        >\r\n        <uni-forms ref=\"form\" :modelValue=\"formData\">\r\n          <!-- <slot name=\"content\"> -->\r\n          <uni-forms-item name=\"username\">\r\n            <radio-group name=\"radio\" @change=\"radioChange\">\r\n              <label> <radio value=\"Aiden\" :checked=\"formData.username === 'Aiden'\" /><text>Aiden</text> </label>\r\n              <label> <radio value=\"Lucy\" /><text>Lucy</text> </label>\r\n            </radio-group>\r\n          </uni-forms-item>\r\n          <!-- </slot> -->\r\n        </uni-forms>\r\n        <!-- <slot name=\"btn\"> -->\r\n        <view class=\"btnbox\">\r\n          <button @click=\"submitForm\" type=\"primary\" class=\"btn\">确定</button>\r\n        </view>\r\n        <!-- </slot> -->\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"showModal\",\r\n};\r\n</script>\r\n\r\n<script setup>\r\nimport { ref, reactive} from \"vue\";\r\nimport { exampleLogin } from '@/api/user.js'\r\nimport { setToken } from \"@/utils/auth.js\";\r\nimport { useStore } from \"vuex\";\r\nconst store = useStore();\r\n\r\nconst props = defineProps({\r\n  title: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  content: {\r\n    type: String,\r\n    default: ''\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['close'])\r\n\r\nconst form = ref(null);\r\nlet formData = reactive({\r\n  username: 'Aiden',\r\n});\r\n\r\nconst radioChange = (e) => {\r\n  const {\r\n    detail: { value },\r\n  } = e;\r\n  form.value.setValue(\"username\", value);\r\n};\r\n\r\nconst onClose = () => {\r\n    emit('close')\r\n}\r\n\r\nconst submitForm = () => {\r\n  form.value\r\n    .validate()\r\n    .then((res) => {\r\n      const params = {\r\n        username: res.username,\r\n        password: '111111'\r\n      };\r\n      console.log('params=======', params)\r\n      exampleLogin(params).then(res => {\r\n        console.log(\"res========\", res);\r\n        const { code, token } = res.data;\r\n        if (code === 200) {\r\n          emit('close')\r\n          console.log(\"成功\");\r\n          setToken(token);\r\n          store.dispatch(\"user/GetUserInfo\");\r\n          uni.reLaunch({\r\n            url: \"/pages/index/index\",\r\n          });\r\n        }\r\n      })\r\n    //   setGender(params).then((data) => {\r\n    //     console.log(\"data===\", data);\r\n    //     store.dispatch(\"user/GetUserInfo\");\r\n    //   });\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"表单错误信息：\", err);\r\n    });\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .uni-forms-item__content {\r\n  justify-content: center !important;\r\n  .uni-label-pointer {\r\n    margin-left: 40rpx;\r\n  }\r\n}\r\n._showModal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 10000;\r\n  .content-hint {\r\n    margin: 40rpx 0;\r\n    color: #363636;\r\n    text-align: center;\r\n  }\r\n  ._shade {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    background: #000;\r\n    opacity: 0.6;\r\n    z-index: 11000;\r\n  }\r\n  ._modalBox {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 12000;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    ._modal {\r\n      flex: none;\r\n      width: 70%;\r\n      // min-height:200upx;\r\n      background: #fff;\r\n      border-radius: 10rpx;\r\n      .title-wraper {\r\n          display:flex;\r\n          align-items: center;\r\n        height: 40rpx;\r\n        line-height: 40rpx;\r\n        // text-align: center;\r\n        font-size: 32rpx;\r\n        font-weight: bold;\r\n        padding: 15rpx 0 0;\r\n        color: #363636;\r\n        // border-bottom: 1upx solid #e1e1e1;\r\n        .title{\r\n            align-self: center;\r\n            flex-basis: 80%;\r\n            display: flex;\r\n            justify-content: center;\r\n            padding-left: 20%;\r\n        }\r\n        .close-icon{\r\n            width: 1.2em;\r\n            height: 1.2em;\r\n            vertical-align: -0.15em;\r\n            fill: currentColor;\r\n            overflow: hidden;\r\n            align-self: flex-end;\r\n            flex-basis: 20%;\r\n        }\r\n      }\r\n      .content {\r\n        padding: 30rpx;\r\n        font-size: 24rpx;\r\n        color: #666;\r\n        line-height: 35rpx;\r\n        text-align: center;\r\n      }\r\n      .btnbox {\r\n        display: flex;\r\n        .btn {\r\n          font-size: 30rpx;\r\n          text-align: center;\r\n          flex: auto;\r\n          line-height: 80rpx;\r\n          border-top: 1rpx solid #e1e1e1;\r\n          border-right: 1rpx solid #e1e1e1;\r\n        }\r\n        .btn:last-child {\r\n          border-right: none;\r\n        }\r\n        .cancel {\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import Component from 'C:/myself/social/social/src/pages/components/ShowModal.vue'\nwx.createComponent(Component)"],"names":["useStore","ref","reactive","exampleLogin","setToken","uni"],"mappings":";;;;;;;;;;;;;;;AAsCA,oBAAe;AAAA,EACb,MAAM;AACR;;;;;;;;;;;;;;;AAQA,UAAM,QAAQA;AAed,UAAM,OAAOC,kBAAI,IAAI;AACrB,QAAI,WAAWC,uBAAS;AAAA,MACtB,UAAU;AAAA,IACZ,CAAC;AAED,UAAM,cAAc,CAAC,MAAM;AACzB,YAAM;AAAA,QACJ,QAAQ,EAAE;AAAA,UACR;AACJ,WAAK,MAAM,SAAS,YAAY,KAAK;AAAA,IACvC;AAEA,UAAM,UAAU,MAAM;AAClB,WAAK,OAAO;AAAA,IAChB;AAEA,UAAM,aAAa,MAAM;AACvB,WAAK,MACF,WACA,KAAK,CAAC,QAAQ;AACb,cAAM,SAAS;AAAA,UACb,UAAU,IAAI;AAAA,UACd,UAAU;AAAA;AAEZ,gBAAQ,IAAI,iBAAiB,MAAM;AACnCC,8BAAa,MAAM,EAAE,KAAK,UAAO;AAC/B,kBAAQ,IAAI,eAAe,IAAG;AAC9B,gBAAM,EAAE,MAAM,UAAU,KAAI;AAC5B,cAAI,SAAS,KAAK;AAChB,iBAAK,OAAO;AACZ,oBAAQ,IAAI,cAAI;AAChBC,gCAAS,KAAK;AACd,kBAAM,SAAS,kBAAkB;AACjCC,gCAAI,SAAS;AAAA,cACX,KAAK;AAAA,aACN;AAAA;SAEJ;AAAA,OAKF,EACA,MAAM,CAAC,QAAQ;AACd,gBAAQ,IAAI,8CAAW,GAAG;AAAA,OAC3B;AAAA,IACL;;;;;;;;;;;;;;;;;;;;;;;AC5GA,GAAG,gBAAgB,SAAS;"}