{"version":3,"file":"InfoList.js","sources":["../../../../../src/pages/components/InfoList.vue","../../../../../uniComponent:/QzovbXlzZWxmL3NvY2lhbC9zb2NpYWwvc3JjL3BhZ2VzL2NvbXBvbmVudHMvSW5mb0xpc3QudnVl"],"sourcesContent":["<!--\r\n * @Author: Aiden(戴林波)\r\n * @Date: 2022-03-01 13:17:37\r\n * @LastEditTime: 2022-06-22 14:07:03\r\n * @LastEditors: Aiden(戴林波)\r\n * @Description: \r\n * @Email: jason_dlb@sina.cn\r\n-->\r\n<template>\r\n  <view class=\"info-list\">\r\n    <!-- <uni-list>\r\n      <uni-list-item\r\n        v-for=\"item in infoList\"\r\n        :key=\"item.id\"\r\n        :title=\"item.username\"\r\n        :note=\"item.title\"\r\n        :thumb=\"item.avatar\"\r\n        thumb-size=\"lg\"\r\n      ></uni-list-item>\r\n    </uni-list> -->\r\n    <view class=\"ul\">\r\n      <view class=\"li\" v-for=\"item in infoList\" :key=\"item.id\"  @click=\"goDetail(item)\">\r\n        <view class=\"comment\">\r\n          <!-- <svg class=\"replay-icon\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-pinglunhuifu\"></use>\r\n          </svg> -->\r\n          <span class=\"iconfont replay-icon\">&#xe653;</span>\r\n          <view><text>{{item.comments || 0}}</text></view>\r\n        </view>\r\n        <view class=\"publish-info\">\r\n          <view class=\"title\">{{ item.title }} </view>\r\n          <view class=\"userinfo\">\r\n            <image\r\n              class=\"avatar\"\r\n              mode=\"aspectFit\"\r\n              :src=\"item.avatar || ''\"\r\n            ></image>\r\n            <text class=\"username\">{{ item.username }}</text>\r\n            <text class=\"update-time\"\r\n              >{{ $filters.commentTime(item.create_time || '') }}&nbsp;更新</text\r\n            >\r\n          </view>\r\n        </view>\r\n        <view class=\"img\">\r\n            <image\r\n              class=\"img-url\"\r\n              mode=\"aspectFit\"\r\n              :src=\"item.url || ''\"\r\n            ></image>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"infoList\",\r\n};\r\n</script>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch } from \"vue\";\r\nconst props = defineProps({\r\n  list: {\r\n    type: Array,\r\n    default: [],\r\n  },\r\n  activeIndex: {\r\n    type: Number,\r\n    default: 0\r\n  }\r\n});\r\nlet infoList = ref([]);\r\n\r\nconst goDetail = (item) => {\r\n  console.log('item=', item)\r\n  if(props.activeIndex === 0){\r\n    uni.navigateTo({\r\n    url: `/pages/user/info/PublicDetail?id=${item.id}&hobby=${item.hobby}`\r\n  });\r\n  } else {\r\n    uni.navigateTo({\r\n      url: `/pages/user/info/LikeDetail?id=${item.id}&hobby=${item.hobby}`\r\n    });\r\n  }\r\n}\r\n\r\nwatch(\r\n  () => props.list,\r\n  (state) => {\r\n    console.log(\"state=\", state);\r\n    infoList.value = state;\r\n  },\r\n  {\r\n    deep: true,\r\n  }\r\n);\r\n\r\nonMounted(() => {\r\n  console.log(\"props=\", props);\r\n\r\n  // console.log(\"infoList.value=\", infoList.value);\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.li {\r\n  display: flex;\r\n  padding: 20rpx;\r\n  border-bottom: 1rpx solid #ccc;\r\n  .img{\r\n    margin-left: 20rpx;\r\n    width: 133rpx;\r\n    height: 100rpx;\r\n    .img-url{\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n.publish-info {\r\n  margin-left: 40rpx;\r\n  .title {\r\n    font-size: 36rpx;\r\n    font-weight: 600;\r\n    color: #363636;\r\n  }\r\n}\r\n\r\n.userinfo {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 24rpx;\r\n  color: #363636;\r\n  .avatar {\r\n    width: 50rpx;\r\n    height: 50rpx;\r\n    border-radius: 10rpx;\r\n  }\r\n  .username,\r\n  .update-time {\r\n    margin-left: 30rpx;\r\n  }\r\n}\r\n  .replay-icon{\r\n    width: 1.2rem;\r\n    height: 1.2rem;\r\n  }\r\n</style>\r\n","import Component from 'C:/myself/social/social/src/pages/components/InfoList.vue'\nwx.createComponent(Component)"],"names":["ref","uni","watch","onMounted"],"mappings":";;AAwDA,oBAAe;AAAA,EACb,MAAM;AACR;;;;;;;;;;;;;;AAeA,QAAI,WAAWA,kBAAI,EAAE;AAErB,UAAM,WAAW,CAAC,SAAS;AACzB,cAAQ,IAAI,SAAS,IAAI;AACzB,UAAG,MAAM,gBAAgB,GAAE;AACzBC,4BAAI,WAAW;AAAA,UACf,KAAK,oCAAoC,KAAK,YAAY,KAAK;AAAA,SAChE;AAAA,aACM;AACLA,4BAAI,WAAW;AAAA,UACb,KAAK,kCAAkC,KAAK,YAAY,KAAK;AAAA,SAC9D;AAAA;IAEL;AAEAC,wBACE,MAAM,MAAM,MACZ,CAAC,UAAU;AACT,cAAQ,IAAI,UAAU,KAAK;AAC3B,eAAS,QAAQ;AAAA,OAEnB;AAAA,MACE,MAAM;AAAA,KAEV;AAEAC,4BAAU,MAAM;AACd,cAAQ,IAAI,UAAU,KAAK;AAAA,IAG7B,CAAC;;;;;;;;;;;;;;;;;;;;ACtGD,GAAG,gBAAgB,SAAS;"}