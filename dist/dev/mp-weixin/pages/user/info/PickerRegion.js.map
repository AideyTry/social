{"version":3,"file":"PickerRegion.js","sources":["../../../../../../src/pages/user/info/PickerRegion.vue","../../../../../../uniComponent:/QzovbXlzZWxmL3NvY2lhbC9zb2NpYWwvc3JjL3BhZ2VzL3VzZXIvaW5mby9QaWNrZXJSZWdpb24udnVl"],"sourcesContent":["<!--\r\n * @Author: Aiden(戴林波)\r\n * @Date: 2021-12-28 15:48:57\r\n * @LastEditTime: 2022-01-09 20:11:14\r\n * @LastEditors: Aiden(戴林波)\r\n * @Description: \r\n * @Email: jason_dlb@sina.cn\r\n-->\r\n<template>\r\n  <picker\r\n    mode=\"multiSelector\"\r\n    :range=\"multiArray\"\r\n    range-key=\"name\"\r\n    :value=\"multiIndex\"\r\n    :disabled=\"isDisabled\"\r\n    @columnchange=\"multiColumn\"\r\n    @change=\"multiChange\"\r\n  >\r\n    <view>\r\n      {{\r\n        provinceCode\r\n          ? `${$filters.filterRegion(\r\n              provinceCode,\r\n              province\r\n            )}/${$filters.filterRegion(cityCode, city)}`\r\n          : `${ isDisabled ? '暂未填写' : '请选择省'}`\r\n      }}\r\n    </view>\r\n  </picker>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"picker-region\",\r\n};\r\n</script>\r\n<script setup>\r\nimport {  ref, reactive } from \"vue\";\r\nimport { province, city } from \"province-city-china/data\";\r\n/*  区域选择 */\r\nconst props = defineProps({\r\n  isDisabled: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  propsProvinceCode: {\r\n      type: String,\r\n      default: ''\r\n  },\r\n    propsCityCode: {\r\n      type: String,\r\n      default: ''\r\n  },\r\n})\r\n\r\nconst emit = defineEmits(['change'])\r\n\r\nlet activeHomeIndex = ref(0);\r\nlet provinceCode = ref(props.propsProvinceCode);\r\nlet cityCode = ref(props.propsCityCode);\r\nlet finalCity = ref([\"市辖区\"]);\r\nlet multiArray = reactive([province, finalCity.value]);\r\nlet multiIndex = reactive([0, 0]);\r\nconst multiChange = (e) => {\r\n  const {\r\n    detail: { value },\r\n  } = e;\r\n  provinceCode.value = province[value[0]].code;\r\n  cityCode.value = finalCity[\"value\"][value[1]].code;\r\n  emit('change', {provinceCode: provinceCode.value,  cityCode: cityCode.value})\r\n};\r\nconst findCity = (p) => {\r\n  return city.filter((element) => element.province === p);\r\n};\r\nconst multiColumn = (e) => {\r\n  const {\r\n    detail: { column, value },\r\n  } = e;\r\n  if (column === 0) {\r\n    finalCity.value = findCity(province[value].province);\r\n    if (finalCity[\"value\"].length === 0) {\r\n      finalCity.value = [\"市辖区\"];\r\n    }\r\n    multiArray[1] = finalCity.value;\r\n  }\r\n};\r\n</script>","import Component from 'C:/myself/social/social/src/pages/user/info/PickerRegion.vue'\nwx.createComponent(Component)"],"names":["ref","reactive","province","city"],"mappings":";;AA+BA,oBAAe;AAAA,EACb,MAAM;AACR;;;;;;;;;;;;;;;;;;;AAuBsBA,sBAAI,CAAC;AAC3B,QAAI,eAAeA,kBAAI,MAAM,iBAAiB;AAC9C,QAAI,WAAWA,kBAAI,MAAM,aAAa;AACtC,QAAI,YAAYA,kBAAI,CAAC,oBAAK,CAAC;AAC3B,QAAI,aAAaC,uBAAS,CAACC,6BAAU,UAAU,KAAK,CAAC;AACrD,QAAI,aAAaD,uBAAS,CAAC,GAAG,CAAC,CAAC;AAChC,UAAM,cAAc,CAAC,MAAM;AACzB,YAAM;AAAA,QACJ,QAAQ,EAAE;AAAA,UACR;AACJ,mBAAa,QAAQC,4BAAS,MAAM,IAAI;AACxC,eAAS,QAAQ,UAAU,SAAS,MAAM,IAAI;AAC9C,WAAK,UAAU,EAAC,cAAc,aAAa,OAAQ,UAAU,SAAS,MAAK,CAAC;AAAA,IAC9E;AACA,UAAM,WAAW,CAAC,MAAM;AACtB,aAAOC,wBAAK,OAAO,CAAC,YAAY,QAAQ,aAAa,CAAC;AAAA,IACxD;AACA,UAAM,cAAc,CAAC,MAAM;AACzB,YAAM;AAAA,QACJ,QAAQ,EAAE,QAAQ;AAAA,UAChB;AACJ,UAAI,WAAW,GAAG;AAChB,kBAAU,QAAQ,SAASD,4BAAS,OAAO,QAAQ;AACnD,YAAI,UAAU,SAAS,WAAW,GAAG;AACnC,oBAAU,QAAQ,CAAC,oBAAK;AAAA;AAE1B,mBAAW,KAAK,UAAU;AAAA;IAE9B;;;;;;;;;;;;;;ACnFA,GAAG,gBAAgB,SAAS;"}