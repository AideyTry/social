"use strict";var e=require("../../../common/vendor.js"),_=require("../../../api/hobby.js"),m=require("../../../api/communication.js"),g=require("../../../utils/util.js");require("../../../utils/request.js");require("../../../utils/auth.js");const w=()=>"../../components/Comment.js",j=()=>"../../components/VideoPlayer.js",q={components:{Comment:w,VideoPlayer:j},onLoad:function(a){console.log("options===",a),this.propsOptions=a},onReady:function(){},setup(a){console.log("props=",a);const c=e.useStore(),b=e.computed$1(()=>c.state.user.userInfo).value,o=e.reactive({poster:"",src:""});let f=e.ref(null),h=e.ref([{content:"https://social-1308251497.cos.ap-guangzhou.myqcloud.com/images/4.jfif"}]);e.ref(0),e.ref("default");let n=e.ref({});const v=i=>{const{id:l,hobby:d}=i,u={id:l,hobby:d};_.getHobbyDetail(u).then(t=>{console.log("data===",t),t.data.code===200&&(n.value=t.data.data,y.value=g.formatDate(t.data.data.create_time),console.log("hobbyInfo.value===",n.value),console.log("data.data.data.url===",t.data.data.url),o.poster=t.data.data.url,o.src=t.data.data.video_url,I())})};let r=e.ref(!1),s=e.ref("\u5173\u6CE8");const p=()=>{if(r.value){e.index.showModal({content:"\u786E\u8BA4\u4E0D\u518D\u5173\u6CE8\uFF1F",success:function(l){if(l.confirm){let d={followId:n.value.user_id};m.deleteFollow(d).then(u=>{u.data.code===200&&(s.value="\u5173\u6CE8",r.value=!1)})}else l.cancel&&console.log("\u7528\u6237\u70B9\u51FB\u53D6\u6D88")}});return}console.log("userInfo===",b);let i={followId:n.value.user_id};m.setFollow(i).then(l=>{console.log("data===",l),l.data.code===200?(s.value="\u5DF2\u5173\u6CE8",r.value=!0):l.data.code===400&&e.index.showToast({title:l.data.msg,icon:"none",duration:2e3})})};let y=e.ref(null);const I=()=>{let i={followId:n.value.user_id};console.log("params===",i),m.getFollow(i).then(l=>{console.log("data1===",l),l.data.code===200&&(r.value=l.data.isFollow,l.data.isFollow?s.value="\u5DF2\u5173\u6CE8":s.value="\u5173\u6CE8")})};return e.onMounted(()=>{console.log("userInfo===",b),v({id:f.value.id,hobby:f.value.hobby})}),{followText:s,isFlollow:r,following:p,hobbyInfo:n,info:h,publishDate:y,options:o,propsOptions:f}}};if(!Array){const a=e.resolveComponent("VideoPlayer"),c=e.resolveComponent("Comment");(a+c)()}function F(a,c,b,o,f,h){return e.e({a:o.hobbyInfo.avatar||"",b:e.t(o.hobbyInfo.username||""),c:e.t(o.followText),d:o.isFlollow?"":1,e:o.isFlollow?1:"",f:e.o$1((...n)=>o.following&&o.following(...n)),g:o.hobbyInfo.fileType===0},o.hobbyInfo.fileType===0?{h:o.hobbyInfo.url}:{},{i:o.hobbyInfo.fileType===1},o.hobbyInfo.fileType===1?{j:o.hobbyInfo.id,k:e.p({options:{src:o.hobbyInfo.video_url,poster:o.hobbyInfo.url}})}:{},{l:e.t(o.hobbyInfo.title),m:e.t(o.hobbyInfo.content),n:e.t(o.publishDate),o:o.hobbyInfo.id},o.hobbyInfo.id?{p:o.hobbyInfo.id,q:e.p({hobbyInfo:o.hobbyInfo})}:{})}var x=e._export_sfc(q,[["render",F],["__scopeId","data-v-6e1530a9"],["__file","C:/myself/social/social/src/pages/user/info/LikeDetail.vue"]]);wx.createPage(x);
//# sourceMappingURL=LikeDetail.js.map
