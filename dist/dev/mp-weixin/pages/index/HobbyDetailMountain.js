"use strict";var o=require("../../common/vendor.js"),w=require("../../api/hobby.js"),m=require("../../api/communication.js"),x=require("../../utils/util.js");require("../../utils/request.js");require("../../utils/auth.js");const T=()=>"../components/Comment.js",j=()=>"../components/VideoPlayer.js",q={components:{Comment:T,VideoPlayer:j},onLoad:function(a){console.log("options===",a),this.propsOptions=a},onReady:function(){},setup(a,f){console.log("props=",a),console.log("context==========",f);const v=o.useStore(),e=o.computed$1(()=>v.state.user.userInfo).value,d=o.reactive({poster:"",src:""});let s=o.ref(null),r=o.ref([{content:"https://social-1308251497.cos.ap-guangzhou.myqcloud.com/images/4.jfif"}]),n=o.ref({});const y=t=>{const{id:l,hobby:u}=t,h={id:l,hobby:u};w.getHobbyDetail(h).then(i=>{console.log("data===",i),i.data.code===200&&(n.value=i.data.data,g.value=x.formatDate(i.data.data.create_time),console.log("hobbyInfo.value===",n.value),console.log("data.data.data.url===",i.data.data.url),d.poster=i.data.data.url,d.src=i.data.data.video_url,I())})};let c=o.ref(!1),b=o.ref("\u5173\u6CE8");const p=()=>{if(c.value){o.index.showModal({content:"\u786E\u8BA4\u4E0D\u518D\u5173\u6CE8\uFF1F",success:function(l){if(l.confirm){let u={followId:n.value.user_id};m.deleteFollow(u).then(h=>{h.data.code===200&&(b.value="\u5173\u6CE8",c.value=!1)})}else l.cancel&&console.log("\u7528\u6237\u70B9\u51FB\u53D6\u6D88")}});return}console.log("userInfo===",e);let t={followId:n.value.user_id};m.setFollow(t).then(l=>{console.log("data===",l),l.data.code===200?(b.value="\u5DF2\u5173\u6CE8",c.value=!0):l.data.code===400&&o.index.showToast({title:l.data.msg,icon:"none",duration:2e3})})};let g=o.ref(null);const I=()=>{let t={followId:n.value.user_id};console.log("params===",t),m.getFollow(t).then(l=>{console.log("data1===",l),l.data.code===200&&(c.value=l.data.isFollow,l.data.isFollow?b.value="\u5DF2\u5173\u6CE8":b.value="\u5173\u6CE8")})},_=t=>{console.log("obj===================================================================================",t);const{hobby:l}=t;switch(Number(l)){case 2:o.index.setNavigationBarTitle({title:"\u72FC\u4EBA\u6740"});break;case 3:o.index.setNavigationBarTitle({title:"\u5267\u672C\u6740"});break;case 4:o.index.setNavigationBarTitle({title:"\u767B\u5C71"});break;case 5:o.index.setNavigationBarTitle({title:"\u65C5\u6E38"});break;case 6:o.index.setNavigationBarTitle({title:"\u89C6\u9891"});break;case 7:o.index.setNavigationBarTitle({title:"\u7535\u5F71"});break;default:o.index.setNavigationBarTitle({title:"\u72FC\u4EBA\u6740"})}};return o.onMounted(()=>{console.log("userInfo===",e),console.log("propsOptions===========",s),_(s.value),y({id:s.value.id,hobby:s.value.hobby})}),{followText:b,isFlollow:c,following:p,hobbyInfo:n,info:r,publishDate:g,options:d,propsOptions:s}}};if(!Array){const a=o.resolveComponent("VideoPlayer"),f=o.resolveComponent("Comment");(a+f)()}function F(a,f,v,e,d,s){return o.e({a:e.hobbyInfo.fileType===0},e.hobbyInfo.fileType===0?{b:o.f(e.hobbyInfo.photos,(r,n,y)=>({a:r,b:n})),c:e.hobbyInfo.photos.length>1}:{},{d:e.hobbyInfo.fileType===1},e.hobbyInfo.fileType===1?{e:e.hobbyInfo.id,f:o.p({options:{src:e.hobbyInfo.video_url,poster:e.hobbyInfo.url}})}:{},{g:e.hobbyInfo.avatar||"",h:o.t(e.hobbyInfo.username||""),i:o.t(e.followText),j:e.isFlollow?"":1,k:e.isFlollow?1:"",l:o.o$1((...r)=>e.following&&e.following(...r)),m:o.t(e.hobbyInfo.title),n:o.t(e.hobbyInfo.content),o:o.t(e.publishDate),p:e.hobbyInfo.id},e.hobbyInfo.id?{q:e.hobbyInfo.id,r:o.p({hobbyInfo:e.hobbyInfo})}:{})}var N=o._export_sfc(q,[["render",F],["__scopeId","data-v-13b26782"],["__file","C:/myself/social/social/src/pages/index/HobbyDetailMountain.vue"]]);wx.createPage(N);
//# sourceMappingURL=HobbyDetailMountain.js.map
