"use strict";var t=require("../../common/vendor.js"),n=require("../../api/user.js"),o=require("../../utils/validate.js"),a=require("../../utils/im.js"),i=require("../../utils/storage.js");const u={namespaced:!0,state:{userInfo:i.getStoreUserInfo()},getters:{getUserInfo:r=>r.userInfo||i.getStoreUserInfo()},mutations:{setUserInfo(r,e){o.validataGender(e)?o.validateObjAttr(e)||t.index.showModal({title:"\u63D0\u793A",content:"\u8BF7\u5B8C\u5584\u5934\u50CF\u3001\u6635\u79F0\u7B49\u4E2A\u4EBA\u4FE1\u606F\u8D44\u6599",success:function(s){s.confirm&&t.index.reLaunch({url:"/pages/user/index"})}}):(console.log("\u4E0D\u5E94\u8BE5=",e),t.index.redirectTo({url:"/pages/user/gender/index"})),r.userInfo=e,i.setStoreUserInfo(e)}},actions:{async GetUserInfo({commit:r}){const{data:{code:e,data:s}}=await n.getUserInfo();console.log("data=",s),e===200&&(a.login(),r("setUserInfo",s))},async IMLogin({commit:r}){a.login()}}};exports.user=u;
//# sourceMappingURL=user.js.map
