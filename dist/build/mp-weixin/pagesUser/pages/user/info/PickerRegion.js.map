{"version":3,"file":"PickerRegion.js","sources":["../../../../../../../src/pagesUser/pages/user/info/PickerRegion.vue","../../../../../../../uniComponent:/QzovbXlzZWxmL3NvY2lhbC9zb2NpYWwvc3JjL3BhZ2VzVXNlci9wYWdlcy91c2VyL2luZm8vUGlja2VyUmVnaW9uLnZ1ZQ"],"sourcesContent":["<!--\r\n * @Author: Aiden(戴林波)\r\n * @Date: 2021-12-28 15:48:57\r\n * @LastEditTime: 2021-12-28 17:21:21\r\n * @LastEditors: Aiden(戴林波)\r\n * @Description: \r\n * @Email: jason_dlb@sina.cn\r\n-->\r\n<template>\r\n  <picker\r\n    mode=\"multiSelector\"\r\n    :range=\"multiArray\"\r\n    range-key=\"name\"\r\n    :value=\"multiIndex\"\r\n    @columnchange=\"multiColumn\"\r\n    @change=\"multiChange\"\r\n  >\r\n    <view>\r\n      {{\r\n        provinceCode\r\n          ? `${$filters.filterRegion(\r\n              provinceCode,\r\n              province\r\n            )}/${$filters.filterRegion(cityCode, city)}`\r\n          : \"请选择省\"\r\n      }}\r\n    </view>\r\n  </picker>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"picker-region\",\r\n};\r\n</script>\r\n<script setup>\r\nimport {  ref, reactive } from \"vue\";\r\nimport { province, city } from \"province-city-china/data\";\r\n/*  区域选择 */\r\nconst props = defineProps({\r\n  propsProvinceCode: {\r\n      type: String,\r\n      default: ''\r\n  },\r\n    propsCityCode: {\r\n      type: String,\r\n      default: ''\r\n  },\r\n})\r\n\r\nconst emit = defineEmits(['change'])\r\n\r\nlet activeHomeIndex = ref(0);\r\nlet provinceCode = ref(props.propsProvinceCode);\r\nlet cityCode = ref(props.propsCityCode);\r\nlet finalCity = ref([\"市辖区\"]);\r\nlet multiArray = reactive([province, finalCity.value]);\r\nlet multiIndex = reactive([0, 0]);\r\nconst multiChange = (e) => {\r\n  const {\r\n    detail: { value },\r\n  } = e;\r\n  provinceCode.value = province[value[0]].code;\r\n  cityCode.value = finalCity[\"value\"][value[1]].code;\r\n  emit('change', {provinceCode: provinceCode.value,  cityCode: cityCode.value})\r\n};\r\nconst findCity = (p) => {\r\n  return city.filter((element) => element.province === p);\r\n};\r\nconst multiColumn = (e) => {\r\n  const {\r\n    detail: { column, value },\r\n  } = e;\r\n  if (column === 0) {\r\n    finalCity.value = findCity(province[value].province);\r\n    if (finalCity[\"value\"].length === 0) {\r\n      finalCity.value = [\"市辖区\"];\r\n    }\r\n    multiArray[1] = finalCity.value;\r\n  }\r\n};\r\n</script>","import Component from 'C:/myself/social/social/src/pagesUser/pages/user/info/PickerRegion.vue'\nwx.createComponent(Component)"],"names":["name","provinceCode","ref","props","propsProvinceCode","cityCode","propsCityCode","finalCity","multiArray","reactive","province","value","multiIndex","multiChange","e","detail","code","multiColumn","column","p","city","filter","element","length","wx","createComponent","Component"],"mappings":"2DA8BA,QAAe,CACbA,KAAM,iLAoBkB,OACtBC,EAAeC,MAAIC,EAAMC,mBACzBC,EAAWH,MAAIC,EAAMG,eACrBC,EAAYL,MAAI,CAAC,QACjBM,EAAaC,WAAS,CAACC,gBAAUH,EAAUI,QAC3CC,EAAaH,WAAS,CAAC,EAAG,UACxBI,EAAeC,UAEjBC,QAAQJ,MAAEA,IACRG,IACSH,MAAQD,gBAASC,EAAM,IAAIK,OAC/BL,MAAQJ,QAAmBI,EAAM,IAAIK,OACzC,SAAU,CAACf,aAAcA,EAAaU,MAAQN,SAAUA,EAASM,SAKlEM,EAAeH,UAEjBC,QAAQG,OAAEA,QAAQP,IAChBG,EANW,IAACK,EAOD,IAAXD,MACQP,OARIQ,EAQaT,gBAASC,GAAOD,SAPtCU,YAAKC,QAAQC,GAAYA,EAAQZ,WAAaS,KAQjB,IAA9BZ,QAAmBgB,WACXZ,MAAQ,CAAC,UAEV,GAAKJ,EAAUI,mOC5E9Ba,GAAGC,gBAAgBC"}