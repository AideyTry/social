"use strict";var e=require("../../../../common/vendor.js");if(!Array){(e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+o+(()=>"../../../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const o=()=>"./PickerRegion.js",n={setup(o){const n=e.useStore();let t=e.computed$1((()=>n.state.user.userInfo)).value,a=e.reactive({avatar:t.avatar,nickname:"",gender:"1",birthday:"",location:{provinceCode:"",cityCode:""},hometown:{provinceCode:"",cityCode:""},schoolName:"",job:"",motto:"",photos:null}),r={nickname:{rules:[{required:!0,errorMessage:"请输入昵称"}]}};const l=e.ref(null),s=e=>{console.log("form=e==",e),l.value.validate().then((e=>{console.log("表单数据信息：",e)})).catch((e=>{console.log("表单错误信息：",e)}))},c="/static/images/default_avatar.png";let i=e.reactive(t.photos);e.watch(i,((e,o)=>{console.log("images.value===",e.value),a.photos=e}));console.log("images===",i);const u=e.ref(t.avatar);e.watch(u,((e,o)=>{a.avatar=e}));const m=o=>{e.index.chooseImage({success:e=>{console.log("chooseImageRes===",e);const{tempFilePaths:n,tempFiles:t}=e;console.log("tempFilePaths[0]===",n[0]),i[o]=n[0],console.log("images===",i)}})},d=e=>{const o=new Date;let n=o.getFullYear(),t=o.getMonth()+1,a=o.getDate();return"start"===e?n-=60:"end"===e&&(n+=2),t=t>9?t:"0"+t,a=a>9?a:"0"+a,`${n}-${t}-${a}`},f=d({format:!0});console.log("currentDate===",f),a.birthday=f;let p=d("start"),h=d("end");const v=e=>{a.birthday=e.detail.value},g=e.ref("1"),b=()=>{e.index.showActionSheet({itemList:["男","女"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮")},fail:function(e){console.log(e.errMsg)}})},C=e=>{console.log("obj=====",e);const{provinceCode:o,cityCode:n}=e;a.location.provinceCode=o,a.location.cityCode=n},y=e=>{console.log("obj.home=====",e);const{provinceCode:o,cityCode:n}=e;a.hometown.provinceCode=o,a.hometown.cityCode=n},{hash:$}=location,j=$.split("?")[1];if(j){const e=j.split("=")[1];e&&(a.schoolName=decodeURI(e))}console.log("ops==",j);const x=()=>{e.index.navigateTo({url:"/pages/user/info/School"})},w=e=>{a.schoolName=e};let I=e.ref(["IT/互联网/通信","金融","工业制造业","教育/科研","公共事业单位","医药/健康","媒体/公关","影视/娱乐","零售","餐饮/酒店","其他"]),k=e.ref(0);const N=e=>{const{detail:{value:o}}=e;k.value=o,a.job=I.value[o]};return(o,n)=>{return{a:u.value?u.value:c,b:e.p({name:"avatar"}),c:e.t((t=e.unref(i),t.filter((e=>e)).length)),d:e.t(e.unref(i).length),e:e.f(e.unref(i),((o,n,t)=>e.e({a:o||c,b:!o&&e.unref(i)[n-1]||0===n&&!e.unref(i)[0]},(!o&&e.unref(i)[n-1]||0===n&&e.unref(i)[0],{}),{c:e.o$1((t=>((o,n)=>{if(console.log("item, index===",o,n),o){let t=["编辑"];return n>0&&(t=["设为头像","编辑","删除"]),void e.index.showActionSheet({itemList:t,success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮"),0===e.tapIndex&&(i[n]=i[0],i[0]=o,u.value=o),1===e.tapIndex&&m(n)},fail:function(e){console.log(e.errMsg)}})}m(n)})(o,n))),d:n}))),f:e.p({name:"photos"}),g:e.unref(a).motto,h:e.o$1((o=>e.unref(a).motto=o.detail.value)),i:e.p({name:"motto"}),j:e.unref(a).nickname,k:e.o$1((o=>e.unref(a).nickname=o.detail.value)),l:e.p({label:"昵称",name:"nickname"}),m:e.t(g.value),n:e.o$1(b),o:e.p({label:"性别",name:"gender"}),p:e.t(e.unref(a).birthday),q:e.unref(a).birthday,r:e.unref(p),s:e.unref(h),t:e.o$1(v),v:e.p({label:"出生日期",name:"birthday"}),w:e.o$1(C),x:e.p({propsProvinceCode:"440000",propsCityCode:"440300"}),y:e.p({label:"所在地",name:"location"}),z:e.o$1(y),A:e.p({propsProvinceCode:"430000",propsCityCode:"430700"}),B:e.p({label:"家乡",name:"hometown"}),C:e.t(e.unref(a).schoolName?e.unref(a).schoolName:"请选择学校"),D:e.o$1(x),E:e.o$1(w),F:e.p({label:"学校",name:"schoolName"}),G:e.t(e.unref(a).job?e.unref(a).job:"请选择职业"),H:e.unref(I),I:e.unref(k),J:e.o$1(N),K:e.p({label:"职业",name:"job"}),L:e.sr(l,"7a0d1e78-0",{k:"form"}),M:e.p({modelValue:e.unref(a),rules:e.unref(r)}),N:e.o$1(s)};var t}}};var t=e._export_sfc(n,[["__scopeId","data-v-7a0d1e78"]]);wx.createPage(t);
//# sourceMappingURL=Editor.js.map
