"use strict";var e=require("../../common/vendor.js"),o=require("../../api/user.js"),s=require("../../utils/auth.js");if(require("../../utils/request.js"),!Array){(e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const n={name:"showModal"},t=Object.assign(n,{props:{title:{type:String,default:""},content:{type:String,default:""}},emits:["close"],setup(n,{emit:t}){const r=n,u=e.useStore(),a=e.ref(null);let i=e.reactive({username:"Aiden"});const l=e=>{const{detail:{value:o}}=e;a.value.setValue("username",o)},m=()=>{t("close")},c=()=>{a.value.validate().then((n=>{const r={username:n.username,password:"111111"};console.log("params=======",r),o.exampleLogin(r).then((o=>{console.log("res========",o);const{code:n,token:r}=o.data;200===n&&(t("close"),console.log("成功"),s.setToken(r),u.dispatch("user/GetUserInfo"),e.index.reLaunch({url:"/pages/index/index"}))}))})).catch((e=>{console.log("表单错误信息：",e)}))};return(o,s)=>({a:e.t(r.title),b:e.o$1(m),c:e.t(r.content),d:"Aiden"===e.unref(i).username,e:e.o$1(l),f:e.p({name:"username"}),g:e.sr(a,"258b3eca-0",{k:"form"}),h:e.p({modelValue:e.unref(i)}),i:e.o$1(c)})}});var r=e._export_sfc(t,[["__scopeId","data-v-258b3eca"]]);wx.createComponent(r);
//# sourceMappingURL=ShowModal.js.map
