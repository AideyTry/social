import{Z as a,T as e,z as s,S as l,C as t,U as o,aw as n,ax as u,G as r,o as d,c as f,w as c,e as m,I as i,J as _,K as p,P as v,af as g,Q as h,ag as b,ab as j,a9 as x}from"./vendor.ada0ecfb.js";import{_ as I,a as k}from"./uni-forms.54d77a40.js";import{r as w}from"./uni-app.es.9763336e.js";import{k as C}from"./index.db753edd.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.ff8675cf.js";var G=V({setup(V){const G=a();let M=e((()=>G.state.user.userInfo)).value;const U=s(null);let q=s(!0),y=s("选择性别");s(null);let z=l({gender:null});const B={gender:{rules:[{required:!0,errorMessage:"请输入昵称"}]}};t((()=>{M.gender?q.value=!1:q.value=!0}));const J=a=>{const{detail:{value:e}}=a;U.value.setValue("gender",e)},K=()=>{U.value.validate().then((a=>{const e={gender:a.gender};C(e).then((a=>{console.log("data===",a),q.value=!1,G.dispatch("user/GetUserInfo")}))})).catch((a=>{console.log("表单错误信息：",a)}))};return(a,e)=>{const s=v,l=g,t=h,C=b,V=j,G=w(o("uni-forms-item"),I),M=w(o("uni-forms"),k),P=x;return n((d(),f(s,{class:"_showModal"},{default:c((()=>[m(s,{class:"_shade"}),m(s,{class:"_modalBox"},{default:c((()=>[m(s,{class:"_modal"},{default:c((()=>[i(' <slot name="title"> '),n(m(s,{class:"title"},{default:c((()=>[_(p(r(y)),1)])),_:1},512),[[u,r(y)]]),i(" </slot> "),m(s,{class:"content-hint"},{default:c((()=>[_("确定性别后无法修改！")])),_:1}),m(M,{ref_key:"form",ref:U,modelValue:r(z),rules:B},{default:c((()=>[i(' <slot name="content"> '),m(G,{name:"gender"},{default:c((()=>[m(V,{name:"radio",onChange:J},{default:c((()=>[m(C,null,{default:c((()=>[m(l,{value:1}),m(t,null,{default:c((()=>[_("男")])),_:1})])),_:1}),m(C,null,{default:c((()=>[m(l,{value:2}),m(t,null,{default:c((()=>[_("女")])),_:1})])),_:1})])),_:1})])),_:1}),i(" </slot> ")])),_:1},8,["modelValue"]),i(' <slot name="btn"> '),m(s,{class:"btnbox"},{default:c((()=>[m(P,{onClick:K,class:"btn"},{default:c((()=>[_("确定")])),_:1})])),_:1}),i(" </slot> ")])),_:1})])),_:1})])),_:1},512)),[[u,r(q)]])}}},[["__scopeId","data-v-7c56425a"]]);export{G as default};
//# sourceMappingURL=pages-user-gender-index.880df6cc.js.map
