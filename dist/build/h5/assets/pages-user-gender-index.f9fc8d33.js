import{a0 as e,U as a,A as s,T as l,D as t,V as o,ax as n,ay as u,H as r,o as d,c,w as f,e as m,J as _,K as i,L as p,Q as v,ai as g,R as h,aj as j,ae as x,ac as b}from"./vendor.ae4da609.js";import{_ as V,a as I}from"./uni-forms.1843867e.js";import{r as k}from"./uni-app.es.ede28119.js";import{l as w}from"./index.ea696e7a.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";var C=y({setup(y){const C=e();let M=a((()=>C.state.user.userInfo)).value;const U=s(null);let q=s(!0),A=s("选择性别");s(null);let B=l({gender:null});const D={gender:{rules:[{required:!0,errorMessage:"请输入昵称"}]}};t((()=>{M.gender?q.value=!1:q.value=!0}));const G=e=>{const{detail:{value:a}}=e;U.value.setValue("gender",a)},H=()=>{U.value.validate().then((e=>{const a={gender:e.gender};w(a).then((e=>{console.log("data===",e),q.value=!1,C.dispatch("user/GetUserInfo")}))})).catch((e=>{console.log("表单错误信息：",e)}))};return(e,a)=>{const s=v,l=g,t=h,w=j,y=x,C=k(o("uni-forms-item"),V),M=k(o("uni-forms"),I),J=b;return n((d(),c(s,{class:"_showModal"},{default:f((()=>[m(s,{class:"_shade"}),m(s,{class:"_modalBox"},{default:f((()=>[m(s,{class:"_modal"},{default:f((()=>[_(' <slot name="title"> '),n(m(s,{class:"title"},{default:f((()=>[i(p(r(A)),1)])),_:1},512),[[u,r(A)]]),_(" </slot> "),m(s,{class:"content-hint"},{default:f((()=>[i("确定性别后无法修改！")])),_:1}),m(M,{ref_key:"form",ref:U,modelValue:r(B),rules:D},{default:f((()=>[_(' <slot name="content"> '),m(C,{name:"gender"},{default:f((()=>[m(y,{name:"radio",onChange:G},{default:f((()=>[m(w,null,{default:f((()=>[m(l,{value:1}),m(t,null,{default:f((()=>[i("男")])),_:1})])),_:1}),m(w,null,{default:f((()=>[m(l,{value:2}),m(t,null,{default:f((()=>[i("女")])),_:1})])),_:1})])),_:1})])),_:1}),_(" </slot> ")])),_:1},8,["modelValue"]),_(' <slot name="btn"> '),m(s,{class:"btnbox"},{default:f((()=>[m(J,{onClick:H,class:"btn"},{default:f((()=>[i("确定")])),_:1})])),_:1}),_(" </slot> ")])),_:1})])),_:1})])),_:1},512)),[[u,r(q)]])}}},[["__scopeId","data-v-7c56425a"]]);export{C as default};
//# sourceMappingURL=pages-user-gender-index.f9fc8d33.js.map
