import{l as e,k as a,r as s,ai as o,c as l,d as t,e as r,f as i,u as n,i as u,t as c,q as d,g as f,h as p,F as m,I as v,E as g,s as _,y as C,v as h,x as y,m as b,Z as k,aj as x}from"./index.caabeb3a.js";import{_ as j,a as w}from"./uni-forms.6adea248.js";import{r as P}from"./uni-app.es.84be360c.js";import{_ as D}from"./PickerRegion.06ca468d.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";const I={onBackPress:e=>"navigateBack"!==e.from&&(v({url:"/pages/user/index"}),!0)};var E=F(Object.assign(I,{setup(v){const F="/static/images/default_avatar.png",I=g();let E=e((()=>I.state.user.userInfo)).value,B=a(E.photos);console.log("images===",B);const M=s(E.avatar),q=s(o().diff(E.birthday,"years")),A=()=>{console.log("why"),_({url:"/pages/user/info/Editor"})};return(e,a)=>{const s=C,o=h,v=y,g=P(b("uni-forms-item"),j),I=P(b("uni-forms"),w),G=k;return l(),t(v,{class:"userinfo-wraper"},{default:r((()=>[i(v,{class:"userinfo"},{default:r((()=>[i(s,{mode:"aspectFill",src:M.value?M.value:F,class:"avatar"},null,8,["src"]),i(v,{class:"basic-info"},{default:r((()=>[i(D,{isDisabled:"",propsProvinceCode:n(E).location&&n(E).location.provinceCode,propsCityCode:n(E).location&&n(E).location.cityCode},null,8,["propsProvinceCode","propsCityCode"]),u("/"+c(e.$filters.filterGender(n(E).gender)||"暂无")+"/",1),q.value||0===q.value?(l(),t(o,{key:0},{default:r((()=>[u(c(q.value)+"岁",1)])),_:1})):d("v-if",!0),q.value||0===q.value?d("v-if",!0):(l(),t(o,{key:1},{default:r((()=>[u("暂无")])),_:1})),d(' <uni-tag\r\n          v-if="!age && age !== 0"\r\n          disabled\r\n          inverted\r\n          text="暂无"\r\n        ></uni-tag> ')])),_:1})])),_:1}),i(v,{class:"photos"},{default:r((()=>[(l(!0),f(m,null,p(n(B),((e,a)=>(l(),t(v,{class:"photo-wraper",onClick:s=>((e,a)=>{if(console.log("item, index===",e,a),e)return void x({urls:B,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮,第"+(e.index+1)+"张图片")},fail:function(e){console.log(e.errMsg)}}});_({url:"/pages/user/info/Editor"}),(e=>{const a=new Date;let s=a.getFullYear(),o=a.getMonth()+1,l=a.getDate();"start"===e?s-=60:"end"===e&&(s+=2),o=o>9?o:"0"+o,l=l>9?l:"0"+l})({format:!0})})(e,a),key:a},{default:r((()=>[i(s,{mode:"aspectFill",src:e||F,class:"photo"},null,8,["src"]),!e&&n(B)[a-1]||0===a&&!n(B)[0]?(l(),t(o,{key:0,class:"photo-add"},{default:r((()=>[u("+")])),_:1})):d("v-if",!0)])),_:2},1032,["onClick"])))),128))])),_:1}),i(I,null,{default:r((()=>[i(g,{label:"家乡"},{default:r((()=>[i(D,{isDisabled:"",propsProvinceCode:n(E).hometown&&n(E).hometown.provinceCode,propsCityCode:n(E).hometown&&n(E).hometown.cityCode},null,8,["propsProvinceCode","propsCityCode"])])),_:1}),i(g,{label:"学校"},{default:r((()=>[i(v,null,{default:r((()=>[u(c(n(E).schoolName||"暂未填写"),1)])),_:1})])),_:1}),i(g,{label:"职业"},{default:r((()=>[i(v,null,{default:r((()=>[u(c(n(E).job||"暂未填写"),1)])),_:1})])),_:1})])),_:1}),i(G,{onClick:A},{default:r((()=>[u("编辑资料")])),_:1})])),_:1})}}}),[["__scopeId","data-v-8a023c04"]]);export{E as default};
//# sourceMappingURL=pages-user-info-index.1ebc6e11.js.map
