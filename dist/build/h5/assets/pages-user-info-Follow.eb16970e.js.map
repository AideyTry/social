{"version":3,"file":"pages-user-info-Follow.eb16970e.js","sources":["../../../../src/pages/user/info/Follow.vue"],"sourcesContent":["<template>\r\n  <view class=\"info-list\">\r\n    <view class=\"ul\">\r\n      <view class=\"li\" v-for=\"item in infoList\" :key=\"item.id\">\r\n        <view class=\"avatar-wraper\">\r\n          <image\r\n            class=\"avatar\"\r\n            mode=\"aspectFit\"\r\n            :src=\"item.avatar || ''\"\r\n          ></image>\r\n        </view>\r\n        <view class=\"publish-info\">\r\n          <view class=\"title\">{{ item.title }} </view>\r\n          <view class=\"userinfo\">\r\n            <text class=\"username\">{{ item.username }}</text>\r\n          </view>\r\n          <view class=\"userinfo\">\r\n            <text class=\"username\">{{ item.motto }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, watch } from \"vue\";\r\nimport { getFollowsInfo, getFansInfo } from \"@/api/communication.js\";\r\nexport default {\r\n  name: \"follow\",\r\n  setup(props) {\r\n    let infoList = ref([]);\r\n\r\n    const getInfo = (userids) => {\r\n      const params = {\r\n        userids,\r\n      };\r\n      if (parseInt(props.type) === 0) {\r\n        uni.setNavigationBarTitle({\r\n          title: \"关注\",\r\n        }),\r\n          getFollowsInfo(params).then((data) => {\r\n            if (data.data.code === 200) {\r\n              infoList.value = data.data.followsInfo;\r\n              infoList.value = infoList.value.filter((element) => element);\r\n              console.log(\"infoList.value====\", infoList.value);\r\n            }\r\n          });\r\n      } else if (parseInt(props.type) === 1) {\r\n        uni.setNavigationBarTitle({\r\n          title: \"粉丝\",\r\n        }),\r\n          getFansInfo(params).then((data) => {\r\n            console.log(\"getFansInfo===\", data);\r\n            if (data.data.code === 200) {\r\n              infoList.value = data.data.fansInfo;\r\n              infoList.value = infoList.value.filter((element) => element);\r\n              console.log(\"infoList.value====\", infoList.value);\r\n            }\r\n          });\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      //   console.log(\"props=\", JSON.parse(decodeURIComponent(props.userids)));\r\n      getInfo(JSON.parse(decodeURIComponent(props.userids)));\r\n      // console.log(\"infoList.value=\", infoList.value);\r\n    });\r\n    return {\r\n      infoList,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.li {\r\n  display: flex;\r\n  padding: 20rpx;\r\n  border-bottom: 1rpx solid #ccc;\r\n  .avatar-wraper {\r\n    width: 100rpx;\r\n    height: 100rpx;\r\n    .avatar {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  .img {\r\n    margin-left: 20rpx;\r\n    width: 133rpx;\r\n    height: 100rpx;\r\n    .img-url {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n.publish-info {\r\n  margin-left: 40rpx;\r\n  .title {\r\n    font-size: 36rpx;\r\n    font-weight: 600;\r\n    color: #363636;\r\n  }\r\n}\r\n\r\n.userinfo {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 24rpx;\r\n  color: #363636;\r\n  .avatar {\r\n    width: 50rpx;\r\n    height: 50rpx;\r\n    border-radius: 10rpx;\r\n  }\r\n  .username,\r\n  .update-time {\r\n    margin-left: 30rpx;\r\n  }\r\n}\r\n.replay-icon {\r\n  width: 1.2rem;\r\n  height: 1.2rem;\r\n}\r\n</style>\r\n"],"names":["name","setup","props","infoList","ref","userids","params","parseInt","type","title","getFollowsInfo","then","data","code","value","followsInfo","filter","element","log","getFansInfo","fansInfo","JSON","parse","decodeURIComponent","class","mode"],"mappings":"mSA6BEA,KAAM,SACNC,MAAMC,OACAC,EAAWC,EAAI,cAgCT,KA9BM,CAACC,UACTC,EAAS,CACbD,QAAAA,GAE2B,IAAzBE,SAASL,EAAMM,SACS,CACxBC,MAAO,OAEPC,EAAeJ,GAAQK,MAAMC,IACJ,MAAnBA,EAAKA,KAAKC,SACHC,MAAQF,EAAKA,KAAKG,cAClBD,MAAQX,EAASW,MAAME,QAAQC,GAAYA,YAC5CC,IAAI,qBAAsBf,EAASW,YAGf,IAAzBP,SAASL,EAAMM,UACE,CACxBC,MAAO,OAEPU,EAAYb,GAAQK,MAAMC,YAChBM,IAAI,iBAAkBN,GACP,MAAnBA,EAAKA,KAAKC,SACHC,MAAQF,EAAKA,KAAKQ,WAClBN,MAAQX,EAASW,MAAME,QAAQC,GAAYA,YAC5CC,IAAI,qBAAsBf,EAASW,cAQ3CO,KAAKC,MAAMC,mBAAmBrB,EAAMG,cAGvC,CACLF,SAAAA,yLAlE2CqB,wFAIrCA,eACCC"}