{"version":3,"file":"PickerRegion.414ba885.js","sources":["../../../../src/pages/components/PickerRegion.vue"],"sourcesContent":["<!--\r\n * @Author: Aiden(戴林波)\r\n * @Date: 2021-12-28 15:48:57\r\n * @LastEditTime: 2022-06-27 15:06:43\r\n * @LastEditors: Aiden(戴林波)\r\n * @Description: \r\n * @Email: jason_dlb@sina.cn\r\n-->\r\n<template>\r\n  <picker\r\n    mode=\"multiSelector\"\r\n    :range=\"multiArray\"\r\n    range-key=\"name\"\r\n    :value=\"multiIndex\"\r\n    :disabled=\"isDisabled\"\r\n    @columnchange=\"multiColumn\"\r\n    @change=\"multiChange\"\r\n  >\r\n    <view>\r\n      {{\r\n        provinceCode\r\n          ? `${$filters.filterRegion(\r\n              provinceCode,\r\n              province\r\n            )}/${$filters.filterRegion(cityCode, city)}`\r\n          : `${ isDisabled ? '暂未填写' : '请选择省'}`\r\n      }}\r\n    </view>\r\n  </picker>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"picker-region\",\r\n};\r\n</script>\r\n<script setup>\r\nimport {  ref, reactive } from \"vue\";\r\n// import { province, city } from \"province-city-china/data\";\r\nimport province from \"province-city-china/dist/province.json\"\r\nimport city from \"province-city-china/dist/city.json\"\r\n/*  区域选择 */\r\nconst props = defineProps({\r\n  isDisabled: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  propsProvinceCode: {\r\n      type: String,\r\n      default: ''\r\n  },\r\n    propsCityCode: {\r\n      type: String,\r\n      default: ''\r\n  },\r\n})\r\n\r\nconst emit = defineEmits(['change'])\r\n\r\nconsole.log('province================================', province)\r\nconsole.log('city=======================================', city)\r\n\r\nlet activeHomeIndex = ref(0);\r\nlet provinceCode = ref(props.propsProvinceCode);\r\nlet cityCode = ref(props.propsCityCode);\r\nlet finalCity = ref([\"市辖区\"]);\r\nlet multiArray = reactive([province, finalCity.value]);\r\nlet multiIndex = reactive([0, 0]);\r\nconst multiChange = (e) => {\r\n  const {\r\n    detail: { value },\r\n  } = e;\r\n  provinceCode.value = province[value[0]].code;\r\n  cityCode.value = finalCity[\"value\"][value[1]].code;\r\n  emit('change', {provinceCode: provinceCode.value,  cityCode: cityCode.value})\r\n};\r\nconst findCity = (p) => {\r\n  return city.filter((element) => element.province === p);\r\n};\r\nconst multiColumn = (e) => {\r\n  const {\r\n    detail: { column, value },\r\n  } = e;\r\n  if (column === 0) {\r\n    finalCity.value = findCity(province[value].province);\r\n    if (finalCity[\"value\"].length === 0) {\r\n      finalCity.value = [\"市辖区\"];\r\n    }\r\n    multiArray[1] = finalCity.value;\r\n  }\r\n};\r\n</script>"],"names":["name","log","province","city","provinceCode","ref","props","propsProvinceCode","cityCode","propsCityCode","finalCity","multiArray","reactive","value","multiIndex","multiChange","e","detail","code","multiColumn","column","p","filter","element","length"],"mappings":"+2kBA+BA,QAAe,CACbA,KAAM,wNA0BAC,IAAI,2CAA4CC,WAChDD,IAAI,8CAA+CE,KAEjC,OACtBC,EAAeC,EAAIC,EAAMC,mBACzBC,EAAWH,EAAIC,EAAMG,eACrBC,EAAYL,EAAI,CAAC,QACjBM,EAAaC,EAAS,CAACV,EAAUQ,EAAUG,QAC3CC,EAAaF,EAAS,CAAC,EAAG,UACxBG,EAAeC,UAEjBC,QAAQJ,MAAEA,IACRG,IACSH,MAAQX,EAASW,EAAM,IAAIK,OAC/BL,MAAQH,QAAmBG,EAAM,IAAIK,OACzC,SAAU,CAACd,aAAcA,EAAaS,MAAQL,SAAUA,EAASK,SAKlEM,EAAeH,UAEjBC,QAAQG,OAAEA,QAAQP,IAChBG,EANW,IAACK,EAOD,IAAXD,MACQP,OARIQ,EAQanB,EAASW,GAAOX,SAPtCC,EAAKmB,QAAQC,GAAYA,EAAQrB,WAAamB,KAQjB,IAA9BX,QAAmBc,WACXX,MAAQ,CAAC,UAEV,GAAKH,EAAUG"}