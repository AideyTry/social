import{x as o,v as a,r as l,o as e,b as s,e as t,g as n,d,i as u,t as c,z as i,c as f,h as r,G as b,af as p,a2 as h,a1 as m,m as y,l as v,p as _,H as I}from"./index.5db6d7a1.js";import{b as g}from"./hobby.99fba805.js";import{d as w,c as j,e as x}from"./communication.2a2ffb84.js";import{C}from"./Comment.7c83fe75.js";import{V as F}from"./VideoPlayer.54c7e1f7.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";var T=k({components:{Comment:C,VideoPlayer:F},onLoad:function(o){console.log("options===",o),this.propsOptions=o},onReady:function(){},setup(s){console.log("props=",s);const t=b(),n=o((()=>t.state.user.userInfo)).value,d=a({poster:"",src:""});let u=l(null),c=l([{content:"https://social-1308251497.cos.ap-guangzhou.myqcloud.com/images/4.jfif"}]);l(0),l("default");let i=l({});let f=l(!1),r=l("关注");let y=l(null);const v=()=>{let o={followId:i.value.user_id};console.log("params===",o),x(o).then((o=>{console.log("data1===",o),200===o.data.code&&(f.value=o.data.isFollow,o.data.isFollow?r.value="已关注":r.value="关注")}))};return e((()=>{console.log("userInfo===",n),(o=>{const{id:a,hobby:l}=o;g({id:a,hobby:l}).then((o=>{console.log("data===",o),200===o.data.code&&(i.value=o.data.data,y.value=p(o.data.data.create_time),console.log("hobbyInfo.value===",i.value),console.log("data.data.data.url===",o.data.data.url),d.poster=o.data.data.url,d.src=o.data.data.video_url,v())}))})({id:u.value.id,hobby:u.value.hobby})})),{followText:r,isFlollow:f,following:()=>{if(f.value)return void h({content:"确认不再关注？",success:function(o){if(o.confirm){let o={followId:i.value.user_id};w(o).then((o=>{200===o.data.code&&(r.value="关注",f.value=!1)}))}else o.cancel&&console.log("用户点击取消")}});console.log("userInfo===",n);let o={followId:i.value.user_id};j(o).then((o=>{console.log("data===",o),200===o.data.code?(r.value="已关注",f.value=!0):400===o.data.code&&m({title:o.data.msg,icon:"none",duration:2e3})}))},hobbyInfo:i,info:c,publishDate:y,options:d,propsOptions:u}}},[["render",function(o,a,l,e,b,p){const h=y,m=v,g=_,w=I("VideoPlayer"),j=I("Comment");return s(),t("div",{class:"hobby-detail"},[n(h,{class:"author-wraper"},{default:d((()=>[n(h,{class:"author"},{default:d((()=>[n(h,null,{default:d((()=>[u("返回")])),_:1}),n(h,{class:"author-info"},{default:d((()=>[n(m,{class:"avatar",mode:"aspectFit",src:e.hobbyInfo.avatar||""},null,8,["src"]),n(g,null,{default:d((()=>[u(c(e.hobbyInfo.username||""),1)])),_:1})])),_:1}),n(h,{class:i({follow:!e.isFlollow,active:e.isFlollow}),onClick:e.following},{default:d((()=>[n(g,null,{default:d((()=>[u(c(e.followText),1)])),_:1})])),_:1},8,["class","onClick"])])),_:1})])),_:1}),n(h,{class:"swiper-box"},{default:d((()=>[n(h,{class:"swiper-item"},{default:d((()=>[0===e.hobbyInfo.fileType?(s(),f(m,{key:0,src:e.hobbyInfo.url,class:"image"},null,8,["src"])):r("v-if",!0),1===e.hobbyInfo.fileType?(s(),f(w,{options:{src:e.hobbyInfo.video_url,poster:e.hobbyInfo.url},key:e.hobbyInfo.id},null,8,["options"])):r("v-if",!0)])),_:1})])),_:1}),n(h,{class:"content-wraper"},{default:d((()=>[n(h,{class:"content"},{default:d((()=>[n(h,{class:"title"},{default:d((()=>[u(c(e.hobbyInfo.title),1)])),_:1}),n(h,{class:"main"},{default:d((()=>[u(c(e.hobbyInfo.content),1)])),_:1}),n(h,{class:"publish-date"},{default:d((()=>[n(g,null,{default:d((()=>[u("发布于: ")])),_:1}),n(g,null,{default:d((()=>[u(c(e.publishDate),1)])),_:1})])),_:1})])),_:1})])),_:1}),n(h,{class:"comment-wraper"},{default:d((()=>[e.hobbyInfo.id?(s(),f(j,{hobbyInfo:e.hobbyInfo,key:e.hobbyInfo.id},null,8,["hobbyInfo"])):r("v-if",!0)])),_:1})])}],["__scopeId","data-v-38dda8fd"]]);export{T as default};
//# sourceMappingURL=pages-user-info-LikeDetail.ba391ad4.js.map
