import{z as a,A as e,a4 as o,o as t,D as l,e as s,w as n,J as c,K as d,G as u,a5 as b,M as m,E as f,c as r,I as h,Q as i,P as y,O as _,a6 as p}from"./vendor.ada0ecfb.js";import{c as I,e as v}from"./communication.a1f30ed7.js";import{_ as g}from"./plugin-vue_export-helper.21dcd24c.js";const j={name:"comment"};var x=g(Object.assign(j,{props:{hobbyInfo:{type:Object,default:{}}},setup(g){const j=g;let x=a(""),C=a(0),O=a([]);console.log("props=",j);const V=a=>{console.log("e=",a);const{detail:{value:e}}=a;let o={comment:e,detailUserId:j.hobbyInfo.user_id,hobbyId:j.hobbyInfo[`hobby_${j.hobbyInfo.hobby}_id`],hobby:j.hobbyInfo.hobby};I(o).then((a=>{200===a.statusCode&&(x.value="",$())}))},$=()=>{console.log("props.hobbyInfo=======================",j.hobbyInfo);let a={hobbyId:j.hobbyInfo[`hobby_${j.hobbyInfo.hobby}_id`],hobby:j.hobbyInfo.hobby};v(a).then((a=>{console.log("data666666===",a),200===a.data.code&&(O.value=a.data.data,C.value=a.data.data.length)}))};return e((()=>{o((()=>{$()}))})),(a,e)=>{const o=i,I=y,v=_,j=p;return t(),l("div",{class:"comment"},[s(I,{class:"total"},{default:n((()=>[s(o,null,{default:n((()=>[c("共")])),_:1}),s(o,null,{default:n((()=>[c(d(u(C)),1)])),_:1}),s(o,null,{default:n((()=>[c("条评论")])),_:1})])),_:1}),s(I,{class:"my-comment"},{default:n((()=>[s(v,{class:"avatar",mode:"aspectFit",src:g.hobbyInfo.avatar||""},null,8,["src"]),s(j,{modelValue:u(x),"onUpdate:modelValue":e[0]||(e[0]=a=>b(x)?x.value=a:x=a),type:"text",class:"comment-input",placeholder:"喜欢就给个评论支持一下呗~",onConfirm:V},null,8,["modelValue"])])),_:1}),(t(!0),l(m,null,f(u(O),(e=>(t(),r(I,{class:"other-comment",key:e.id},{default:n((()=>[s(I,null,{default:n((()=>[s(v,{class:"avatar",mode:"aspectFit",src:e.avatar||""},null,8,["src"])])),_:2},1024),s(I,{class:"comment-info"},{default:n((()=>[s(I,{class:"userinfo"},{default:n((()=>[s(o,null,{default:n((()=>[c(d(e.username),1)])),_:2},1024),e.isAuthor?(t(),r(o,{key:0,class:"is-author"},{default:n((()=>[c("作者")])),_:1})):h("v-if",!0)])),_:2},1024),s(I,{class:"comment-content"},{default:n((()=>[s(o,null,{default:n((()=>[c(d(e.comment),1)])),_:2},1024)])),_:2},1024),s(I,null,{default:n((()=>[s(o,null,{default:n((()=>[c(d(a.$filters.commentTime(e.create_time)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])}}}),[["__scopeId","data-v-78a9adac"]]);export{x as C};
//# sourceMappingURL=Comment.0de74727.js.map
