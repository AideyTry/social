import{Z as e,T as a,S as s,z as o,v as l,U as t,o as r,c as n,w as i,e as u,G as c,J as d,K as f,I as p,D as v,E as m,M as g,a1 as _,N as C,O as h,Q as y,P as b,a9 as k,ao as w}from"./vendor.ada0ecfb.js";import{_ as j,a as P}from"./uni-forms.54d77a40.js";import{r as x}from"./uni-app.es.9763336e.js";import{_ as D}from"./PickerRegion.8764016b.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.ff8675cf.js";const E={onBackPress:e=>"navigateBack"!==e.from&&(_({url:"/pages/user/index"}),!0)};var F=I(Object.assign(E,{setup(_){const I="/static/images/default_avatar.png",E=e();let F=a((()=>E.state.user.userInfo)).value,M=s(F.photos);console.log("images===",M);const B=o(F.avatar),G=o(l().diff(F.birthday,"years")),N=()=>{console.log("why"),C({url:"/pages/user/info/Editor"})};return(e,a)=>{const s=h,o=y,l=b,_=x(t("uni-forms-item"),j),E=x(t("uni-forms"),P),O=k;return r(),n(l,{class:"userinfo-wraper"},{default:i((()=>[u(l,{class:"userinfo"},{default:i((()=>[u(s,{mode:"aspectFill",src:B.value?B.value:I,class:"avatar"},null,8,["src"]),u(l,{class:"basic-info"},{default:i((()=>[u(D,{isDisabled:"",propsProvinceCode:c(F).location&&c(F).location.provinceCode,propsCityCode:c(F).location&&c(F).location.cityCode},null,8,["propsProvinceCode","propsCityCode"]),d("/"+f(e.$filters.filterGender(c(F).gender)||"暂无")+"/",1),G.value||0===G.value?(r(),n(o,{key:0},{default:i((()=>[d(f(G.value)+"岁",1)])),_:1})):p("v-if",!0),G.value||0===G.value?p("v-if",!0):(r(),n(o,{key:1},{default:i((()=>[d("暂无")])),_:1})),p(' <uni-tag\r\n          v-if="!age && age !== 0"\r\n          disabled\r\n          inverted\r\n          text="暂无"\r\n        ></uni-tag> ')])),_:1})])),_:1}),u(l,{class:"photos"},{default:i((()=>[(r(!0),v(g,null,m(c(M),((e,a)=>(r(),n(l,{class:"photo-wraper",onClick:s=>((e,a)=>{if(console.log("item, index===",e,a),e)return void w({urls:M,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮,第"+(e.index+1)+"张图片")},fail:function(e){console.log(e.errMsg)}}});C({url:"/pages/user/info/Editor"}),(e=>{const a=new Date;let s=a.getFullYear(),o=a.getMonth()+1,l=a.getDate();"start"===e?s-=60:"end"===e&&(s+=2),o=o>9?o:"0"+o,l=l>9?l:"0"+l})({format:!0})})(e,a),key:a},{default:i((()=>[u(s,{mode:"aspectFill",src:e||I,class:"photo"},null,8,["src"]),!e&&c(M)[a-1]||0===a&&!c(M)[0]?(r(),n(o,{key:0,class:"photo-add"},{default:i((()=>[d("+")])),_:1})):p("v-if",!0)])),_:2},1032,["onClick"])))),128))])),_:1}),u(E,null,{default:i((()=>[u(_,{label:"家乡"},{default:i((()=>[u(D,{isDisabled:"",propsProvinceCode:c(F).hometown&&c(F).hometown.provinceCode,propsCityCode:c(F).hometown&&c(F).hometown.cityCode},null,8,["propsProvinceCode","propsCityCode"])])),_:1}),u(_,{label:"学校"},{default:i((()=>[u(l,null,{default:i((()=>[d(f(c(F).schoolName||"暂未填写"),1)])),_:1})])),_:1}),u(_,{label:"职业"},{default:i((()=>[u(l,null,{default:i((()=>[d(f(c(F).job||"暂未填写"),1)])),_:1})])),_:1})])),_:1}),u(O,{onClick:N},{default:i((()=>[d("编辑资料")])),_:1})])),_:1})}}}),[["__scopeId","data-v-8a023c04"]]);export{F as default};
//# sourceMappingURL=pages-user-info-index.52630c66.js.map
