import{l as a,r as e,k as s,w as l,au as t,av as n,u,c as o,d as r,e as d,f as c,q as f,i as _,t as m,E as i,aw as v,x as p,a3 as g,v as h,a4 as b,$ as x,m as j,Z as k}from"./index.caabeb3a.js";import{_ as w,a as I}from"./uni-forms.6adea248.js";import{r as V}from"./uni-app.es.84be360c.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";var C=q({setup(q){const C=i();let M=a((()=>C.state.user.userInfo)).value;const y=e(null);let B=e(!0),E=e("选择性别");e(null);let G=s({gender:null});const U={gender:{rules:[{required:!0,errorMessage:"请输入昵称"}]}};l((()=>{M.gender?B.value=!1:B.value=!0}));const Z=a=>{const{detail:{value:e}}=a;y.value.setValue("gender",e)},$=()=>{y.value.validate().then((a=>{const e={gender:a.gender};v(e).then((a=>{console.log("data===",a),B.value=!1,C.dispatch("user/GetUserInfo")}))})).catch((a=>{console.log("表单错误信息：",a)}))};return(a,e)=>{const s=p,l=g,i=h,v=b,q=x,C=V(j("uni-forms-item"),w),M=V(j("uni-forms"),I),z=k;return t((o(),r(s,{class:"_showModal"},{default:d((()=>[c(s,{class:"_shade"}),c(s,{class:"_modalBox"},{default:d((()=>[c(s,{class:"_modal"},{default:d((()=>[f(' <slot name="title"> '),t(c(s,{class:"title"},{default:d((()=>[_(m(u(E)),1)])),_:1},512),[[n,u(E)]]),f(" </slot> "),c(s,{class:"content-hint"},{default:d((()=>[_("确定性别后无法修改！")])),_:1}),c(M,{ref_key:"form",ref:y,modelValue:u(G),rules:U},{default:d((()=>[f(' <slot name="content"> '),c(C,{name:"gender"},{default:d((()=>[c(q,{name:"radio",onChange:Z},{default:d((()=>[c(v,null,{default:d((()=>[c(l,{value:1}),c(i,null,{default:d((()=>[_("男")])),_:1})])),_:1}),c(v,null,{default:d((()=>[c(l,{value:2}),c(i,null,{default:d((()=>[_("女")])),_:1})])),_:1})])),_:1})])),_:1}),f(" </slot> ")])),_:1},8,["modelValue"]),f(' <slot name="btn"> '),c(s,{class:"btnbox"},{default:d((()=>[c(z,{onClick:$,class:"btn"},{default:d((()=>[_("确定")])),_:1})])),_:1}),f(" </slot> ")])),_:1})])),_:1})])),_:1},512)),[[n,u(B)]])}}},[["__scopeId","data-v-7c56425a"]]);export{C as default};
//# sourceMappingURL=pages-user-gender-index.aadfe95a.js.map
