import{C as a,D as o,a7 as e,o as t,G as l,e as s,w as n,M as c,N as d,J as u,a8 as b,P as m,H as r,c as f,L as h,T as i,S as y,R as _,a9 as p}from"./vendor.6b7d927a.js";import{c as v,e as I}from"./communication.08dace5a.js";import{_ as g}from"./plugin-vue_export-helper.21dcd24c.js";const j={name:"comment"};var C=g(Object.assign(j,{props:{hobbyInfo:{type:Object,default:{}}},setup(g){const j=g;let C=a(""),x=a(0),V=a([]);console.log("props=",j);const $=a=>{console.log("e=",a);const{detail:{value:o}}=a;let e={comment:o,detailUserId:j.hobbyInfo.user_id,hobbyId:j.hobbyInfo[`hobby_${j.hobbyInfo.hobby}_id`],hobby:j.hobbyInfo.hobby};v(e).then((a=>{200===a.statusCode&&(C.value="",k())}))},k=()=>{console.log("props.hobbyInfo=======================",j.hobbyInfo);let a={hobbyId:j.hobbyInfo[`hobby_${j.hobbyInfo.hobby}_id`],hobby:j.hobbyInfo.hobby};I(a).then((a=>{console.log("data666666===",a),200===a.data.code&&(V.value=a.data.data,x.value=a.data.data.length)}))};return o((()=>{e((()=>{k()}))})),(a,o)=>{const e=i,v=y,I=_,j=p;return t(),l("div",{class:"comment"},[s(v,{class:"total"},{default:n((()=>[s(e,null,{default:n((()=>[c("共")])),_:1}),s(e,null,{default:n((()=>[c(d(u(x)),1)])),_:1}),s(e,null,{default:n((()=>[c("条评论")])),_:1})])),_:1}),s(v,{class:"my-comment"},{default:n((()=>[s(I,{class:"avatar",mode:"aspectFit",src:g.hobbyInfo.avatar||""},null,8,["src"]),s(j,{modelValue:u(C),"onUpdate:modelValue":o[0]||(o[0]=a=>b(C)?C.value=a:C=a),type:"text",class:"comment-input",placeholder:"喜欢就给个评论支持一下呗~",onConfirm:$},null,8,["modelValue"])])),_:1}),(t(!0),l(m,null,r(u(V),(o=>(t(),f(v,{class:"other-comment",key:o.id},{default:n((()=>[s(v,null,{default:n((()=>[s(I,{class:"avatar",mode:"aspectFit",src:o.avatar||""},null,8,["src"])])),_:2},1024),s(v,{class:"comment-info"},{default:n((()=>[s(v,{class:"userinfo"},{default:n((()=>[s(e,null,{default:n((()=>[c(d(o.username),1)])),_:2},1024),o.isAuthor?(t(),f(e,{key:0,class:"is-author"},{default:n((()=>[c("作者")])),_:1})):h("v-if",!0)])),_:2},1024),s(v,{class:"comment-content"},{default:n((()=>[s(e,null,{default:n((()=>[c(d(o.comment),1)])),_:2},1024)])),_:2},1024),s(v,null,{default:n((()=>[s(e,null,{default:n((()=>[c(d(a.$filters.commentTime(o.create_time)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])}}}),[["__scopeId","data-v-78a9adac"]]);export{C};
//# sourceMappingURL=Comment.3361ef29.js.map
