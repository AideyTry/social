import{z as o,v as e,Z as a,T as s,A as l,U as t,o as n,D as r,e as i,w as c,G as u,c as d,J as p,K as f,I as m,M as v,E as h,L as g,H as C,O as _,Q as b,P as y,am as k,N as j}from"./vendor.99a7c6c2.js";import{_ as w,a as I}from"./uni-forms.3a8f3d88.js";import{r as x}from"./uni-app.es.4451f765.js";import{_ as P}from"./PickerRegion.25d83b9d.js";import{o as D}from"./openIM.fd559ab0.js";import{h as $,g as F}from"./index.b8352297.js";import{_ as G}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.e12d4142.js";const M={onBackPress(o){console.log("options=",o)}};var N=G(Object.assign(M,{props:{id:{type:String,default:""}},setup(G){const M=G;let N=o({});const O=o(e().diff(N.birthday,"years")),z=a(),A=s((()=>z.state.user.userInfo)).value,B=()=>{const o=F();console.log("token===",o),console.log("userInfo.value.phone===",N.value.phone);const e={userID:A.phone,token:o,url:"wss://mancao.social:20038",platformID:5};D.login(e).then((o=>{console.log("login suc...",o),0===o.errCode&&j({url:`/pages/message/Chat?userID=${N.value.phone}&title=${N.value.username}`})})).catch((o=>{console.log("login failed...",o)}))};return l((()=>{console.log("props===",M),(()=>{const o={userId:M.id};$(o).then((o=>{console.log("好友=",o),200===o.data.code&&(N.value=o.data.data,console.log("userInfo.value=======",N.value))}))})()})),(o,e)=>{const a=_,s=b,l=y,j=x(t("uni-forms-item"),w),D=x(t("uni-forms"),I);return n(),r(v,null,[i(l,{class:"userinfo-wraper"},{default:c((()=>[i(l,{class:"userinfo"},{default:c((()=>[i(a,{mode:"aspectFill",src:u(N).avatar,class:"avatar"},null,8,["src"]),i(l,{class:"basic-info"},{default:c((()=>[(n(),d(P,{isDisabled:"",propsProvinceCode:u(N).location&&u(N).location.provinceCode,propsCityCode:u(N).location&&u(N).location.cityCode,key:u(N).location&&u(N).location.cityCode},null,8,["propsProvinceCode","propsCityCode"])),p("/"+f(o.$filters.filterGender(u(N).gender)||"暂无")+"/",1),O.value||0===O.value?(n(),d(s,{key:0},{default:c((()=>[p(f(O.value)+"岁",1)])),_:1})):m("v-if",!0),O.value||0===O.value?m("v-if",!0):(n(),d(s,{key:1},{default:c((()=>[p("暂无")])),_:1})),m(' <uni-tag\r\n          v-if="!age && age !== 0"\r\n          disabled\r\n          inverted\r\n          text="暂无"\r\n        ></uni-tag> ')])),_:1})])),_:1}),i(l,{class:"photos"},{default:c((()=>[(n(!0),r(v,null,h(u(N).photos,((o,e)=>(n(),d(l,{class:"photo-wraper",onClick:o=>((o,e)=>{k({current:e,urls:N.value.photos})})(0,e),key:e},{default:c((()=>[i(a,{mode:"aspectFill",src:o,class:"photo"},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1}),i(D,null,{default:c((()=>[i(j,{label:"签名"},{default:c((()=>[i(l,null,{default:c((()=>[p(f(u(N).motto||"暂未填写"),1)])),_:1})])),_:1}),i(j,{label:"家乡"},{default:c((()=>[(n(),d(P,{isDisabled:"",propsProvinceCode:u(N).hometown&&u(N).hometown.provinceCode,propsCityCode:u(N).hometown&&u(N).hometown.cityCode,key:u(N).hometown&&u(N).hometown.provinceCode},null,8,["propsProvinceCode","propsCityCode"]))])),_:1}),i(j,{label:"学校"},{default:c((()=>[i(l,null,{default:c((()=>[p(f(u(N).schoolName||"暂未填写"),1)])),_:1})])),_:1}),i(j,{label:"职业"},{default:c((()=>[i(l,null,{default:c((()=>[p(f(u(N).job||"暂未填写"),1)])),_:1})])),_:1})])),_:1})])),_:1}),i(l,{class:"send-msg"},{default:c((()=>[i(l,{class:"chat"},{default:c((()=>[(n(),r("svg",{class:"chat-icon","aria-hidden":"true",onClick:g(B,["stop"])},[C("use",{"xlink:href":"#icon-faxinxi"})],8,["onClick"])),i(s,null,{default:c((()=>[p("私聊")])),_:1})])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-1adeb099"]]);export{N as default};
//# sourceMappingURL=pages-user-info-User.e8ea053e.js.map
