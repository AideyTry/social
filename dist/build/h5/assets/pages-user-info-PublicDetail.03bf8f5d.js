import{a6 as a,X as o,W as e,D as t,E as s,a1 as l,o as n,H as d,e as r,w as u,N as i,O as c,c as f,M as b,a4 as p,T as h,S as m,U as y,as as _}from"./vendor.574fb72a.js";import{b as v}from"./hobby.22d046bf.js";import{C as I}from"./Comment.fdfa1dac.js";import{V as g}from"./VideoPlayer.19a6a0a0.js";import{f as j}from"./index.08ac6b95.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import"./communication.0c0d5b5c.js";var k=C({components:{Comment:I,VideoPlayer:g},onLoad:function(a){console.log("options===",a)},onReady:function(){},setup(l){console.log("props=",l);const n=a(),d=o((()=>n.state.user.userInfo)).value,r=e({poster:"",src:""});let u=t([{content:"https://social-1308251497.cos.ap-guangzhou.myqcloud.com/images/4.jfif"}]);t(0),t("default");let i=t({});let c=t(null),f=t(["编辑","删除"]),b=t(0);return s((()=>{console.log("userInfo===",d),(a=>{const{id:o,hobby:e}=a;v({id:o,hobby:e}).then((a=>{console.log("data===",a),200===a.data.code&&(i.value=a.data.data,c.value=j(a.data.data.create_time),console.log("hobbyInfo.value===",i.value),console.log("data.data.data.url===",a.data.data.url),r.poster=a.data.data.url,r.src=a.data.data.video_url)}))})({id:l.id,hobby:l.hobby})})),{hobbyInfo:i,info:u,publishDate:c,options:r,goBack:()=>{p({url:"/pages/user/index"})},onEdit:a=>{const{detail:{value:o}}=a;b.value=o},operations:f,activeOperationIndex:b}}},[["render",function(a,o,e,t,s,p){const v=h,I=m,g=y,j=_,C=l("VideoPlayer"),k=l("Comment");return n(),d("div",{class:"hobby-detail"},[r(v,{class:"author-wraper"},{default:u((()=>[r(v,{class:"author"},{default:u((()=>[r(v,{onClick:t.goBack},{default:u((()=>[i("返回")])),_:1},8,["onClick"]),r(v,{class:"author-info"},{default:u((()=>[r(I,{class:"avatar",mode:"aspectFit",src:t.hobbyInfo.avatar||""},null,8,["src"]),r(g,null,{default:u((()=>[i(c(t.hobbyInfo.username||""),1)])),_:1})])),_:1}),r(v,null,{default:u((()=>[r(j,{range:t.operations,value:t.activeOperationIndex,onChange:t.onEdit},{default:u((()=>[r(g,null,{default:u((()=>[i("...")])),_:1})])),_:1},8,["range","value","onChange"])])),_:1})])),_:1})])),_:1}),r(v,{class:"swiper-box"},{default:u((()=>[r(v,{class:"swiper-item"},{default:u((()=>[0===t.hobbyInfo.fileType?(n(),f(I,{key:0,src:t.hobbyInfo.url,class:"image"},null,8,["src"])):b("v-if",!0),1===t.hobbyInfo.fileType?(n(),f(C,{options:{src:t.hobbyInfo.video_url,poster:t.hobbyInfo.url},key:t.hobbyInfo.id},null,8,["options"])):b("v-if",!0)])),_:1})])),_:1}),r(v,{class:"content-wraper"},{default:u((()=>[r(v,{class:"content"},{default:u((()=>[r(v,{class:"title"},{default:u((()=>[i(c(t.hobbyInfo.title),1)])),_:1}),r(v,{class:"main"},{default:u((()=>[i(c(t.hobbyInfo.content),1)])),_:1}),r(v,{class:"publish-date"},{default:u((()=>[r(g,null,{default:u((()=>[i("发布于: ")])),_:1}),r(g,null,{default:u((()=>[i(c(t.publishDate),1)])),_:1})])),_:1})])),_:1})])),_:1}),r(v,{class:"comment-wraper"},{default:u((()=>[t.hobbyInfo.id?(n(),f(k,{hobbyInfo:t.hobbyInfo,key:t.hobbyInfo.id},null,8,["hobbyInfo"])):b("v-if",!0)])),_:1})])}],["__scopeId","data-v-611bba1b"]]);export{k as default};
