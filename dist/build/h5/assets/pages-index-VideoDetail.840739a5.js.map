{"version":3,"file":"pages-index-VideoDetail.840739a5.js","sources":["../../../../src/pages/index/VideoDetail.vue"],"sourcesContent":["<!--\r\n * @Author: Aiden(戴林波)\r\n * @Date: 2022-01-16 21:17:51\r\n * @LastEditTime: 2022-06-27 17:29:30\r\n * @LastEditors: Aiden(戴林波)\r\n * @Description: \r\n * @Email: jason_dlb@sina.cn\r\n-->\r\n<template>\r\n  <div class=\"video-detail\">\r\n    <view class=\"title\">{{ videInfo.title }}</view>\r\n    <text class=\"abstract\">{{ videInfo.abstract }}</text>\r\n    <VideoPlayer :options=\"options\"></VideoPlayer>\r\n    <uni-list>\r\n    <uni-list-item :note=\"item.section\" v-for=\"item in videInfo.sections\" :key=\"item.id\">\r\n      <template v-slot:body>\r\n        <view class=\"description\">{{ item.section }}</view>\r\n      </template>\r\n    </uni-list-item>\r\n</uni-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, reactive } from \"vue\";\r\nimport { videoDetail } from \"@/api/hobby\";\r\nimport VideoPlayer from \"@/pages/components/VideoPlayer.vue\";\r\nexport default {\r\n  components: {\r\n    VideoPlayer\r\n  },\r\n  onLoad: function(options) {\r\n    console.log(\"options===\", options);\r\n    this.propsOptions = options\r\n  },\r\n  setup(props, context) {\r\n    let videInfo = ref({});\r\n    let propsOptions = ref(null)\r\n    const getVideoDetail = (id) => {\r\n      const params = { id };\r\n      videoDetail(params).then((data) => {\r\n        console.log(\"data===\", data);\r\n        if (data.data.code === 200) {\r\n          videInfo.value = data.data.data;\r\n        }\r\n      });\r\n    };\r\n\r\n    const options = reactive({\r\n      poster: 'https://img2.chinadaily.com.cn/images/202201/13/61e00901a310cdd3d826b064.jpeg',\r\n      src: \"https://social-1308251497.cos.ap-guangzhou.myqcloud.com/video/695c8c8a78f7e9a184a17db72e734a63/695c8c8a78f7e9a184a17db72e734a63.m3u8\", //视频源\r\n    });\r\n\r\n    onMounted(() => {\r\n      getVideoDetail(propsOptions.value.id);\r\n    });\r\n    return {\r\n      propsOptions,\r\n      videInfo,\r\n      options\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.video-detail {\r\n  padding: 20rpx;\r\n  .title {\r\n    font-size: 40rpx;\r\n    color: #666;\r\n    margin: 16rpx 0 0 0;\r\n    font-weight: normal;\r\n  }\r\n  .abstract {\r\n    //   font-size: 24rpx;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    color: #666;\r\n  }\r\n  .description{\r\n    font-size: 32rpx;\r\n    margin: 0 0 30rpx 0;\r\n    text-align: left;\r\n    line-height: 1.6;\r\n    color: #666;\r\n  }\r\n}\r\n</style>\r\n"],"names":["components","VideoPlayer","onLoad","options","log","propsOptions","setup","props","context","videInfo","ref","reactive","poster","src","id","value","then","data","code","_createElementBlock","class","_createVNode","_component_v_uni_view","$setup","title","_component_v_uni_text","abstract","_component_VideoPlayer","_component_uni_list","_Fragment","sections","item","_createBlock","_component_uni_list_item","note","section","key","body"],"mappings":"gaA4BEA,WAAY,CACVC,YAAAA,GAEFC,OAAQ,SAASC,WACPC,IAAI,aAAcD,QACrBE,aAAeF,GAEtBG,MAAMC,EAAOC,OACPC,EAAWC,EAAI,IACfL,EAAeK,EAAI,YAWjBP,EAAUQ,EAAS,CACvBC,OAAQ,gFACRC,IAAK,mJAGG,KAfa,IAACC,EAAAA,EAgBPT,EAAaU,MAAMD,KAfnB,CAAEA,GAAAA,IACGE,MAAMC,YAChBb,IAAI,UAAWa,GACA,MAAnBA,EAAKA,KAAKC,SACHH,MAAQE,EAAKA,KAAKA,YAa1B,CACLZ,aAAAA,EACAI,SAAAA,EACAN,QAAAA,iIAlDJgB,EAWM,OAXDC,MAAM,iBACTC,EAA+CC,GAAzCF,MAAM,qBAAQ,SAAGG,WAASC,mBAChCH,EAAqDI,GAA/CL,MAAM,wBAAW,SAAGG,WAASG,sBACnCL,EAA8CM,GAAhCxB,QAASoB,+BACvBF,EAMOO,mBAL6B,YAApCT,EAIgBU,SAJmCN,WAASO,UAAjBC,QAA3CC,EAIgBC,GAJAC,KAAMH,EAAKI,QAA4CC,IAAKL,EAAKjB,KAC9DuB,QACf,KAAAhB,EAAmDC,GAA7CF,MAAM,2BAAc,SAAGW,EAAKI"}