import{b as t,c as e,d as i,J as s,z as a,n as l,i as o,t as n,h as r,p as d,m as c,y as u,g as h,l as p,K as f}from"./index.5db6d7a1.js";import{_ as g}from"./uni-icons.eb5ebe58.js";import{r as m}from"./uni-app.es.737f45e5.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";var y=b({name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:()=>[0,0]},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{width(){return 8*String(this.text).length+12},classNames(){const{inverted:t,type:e,size:i,absolute:s}=this;return[t?"uni-badge--"+e+"-inverted":"","uni-badge--"+e,"uni-badge--"+i,s?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let t=this.width/2,e=10;this.isDot&&(t=5,e=5);const i=`${-t+this.offset[0]}px`,s=`${-e+this.offset[1]}px`,a={rightTop:{right:i,top:s},rightBottom:{right:i,bottom:s},leftBottom:{left:i,bottom:s},leftTop:{left:i,top:s}},l=a[this.absolute];return l||a.rightTop},badgeWidth(){return{width:`${this.width}px`}},dotStyle(){return this.isDot?{width:"10px",height:"10px",borderRadius:"10px"}:{}},displayValue(){const{isDot:t,text:e,maxNum:i}=this;return t?"":Number(e)>i?`${i}+`:e}},methods:{onClick(){this.$emit("click")}}},[["render",function(u,h,p,f,g,m){const b=d,y=c;return t(),e(y,{class:"uni-badge--x"},{default:i((()=>[s(u.$slots,"default",{},void 0,!0),p.text?(t(),e(b,{key:0,class:a([m.classNames,"uni-badge"]),style:l([m.badgeWidth,m.positionStyle,p.customStyle,m.dotStyle]),onClick:h[0]||(h[0]=t=>m.onClick())},{default:i((()=>[o(n(m.displayValue),1)])),_:1},8,["class","style"])):r("v-if",!0)])),_:3})}],["__scopeId","data-v-eeec25f2"]]);var _=b({name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:()=>({type:"contact",color:"#000000",size:20})},border:{type:Boolean,default:!0}},data:()=>({isFirstChild:!1}),mounted(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm(t="uniList"){let e=this.$parent,i=e.$options.name;for(;i!==t;){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},onClick(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange(t){this.$emit("switchChange",t.detail)},openPage(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi(t){let e={url:this.to,success:t=>{this.$emit("click",{data:t})},fail:t=>{this.$emit("click",{data:t})}};switch(t){case"navigateTo":default:uni.navigateTo(e);break;case"redirectTo":uni.redirectTo(e);break;case"reLaunch":uni.reLaunch(e);break;case"switchTab":uni.switchTab(e)}}}},[["render",function(l,b,_,k,w,S){const x=c,v=p,T=m(u("uni-icons"),g),B=d,C=m(u("uni-badge"),y),$=f;return t(),e(x,{class:a([{"uni-list-item--disabled":_.disabled},"uni-list-item"]),"hover-class":!_.clickable&&!_.link||_.disabled||_.showSwitch?"":"uni-list-item--hover",onClick:S.onClick},{default:i((()=>[w.isFirstChild?r("v-if",!0):(t(),e(x,{key:0,class:a(["border--left",{"uni-list--border":_.border}])},null,8,["class"])),h(x,{class:a(["uni-list-item__container",{"container--right":_.showArrow||_.link,"flex--direction":"column"===_.direction}])},{default:i((()=>[s(l.$slots,"header",{},(()=>[h(x,{class:"uni-list-item__header"},{default:i((()=>[_.thumb?(t(),e(x,{key:0,class:"uni-list-item__icon"},{default:i((()=>[h(v,{src:_.thumb,class:a(["uni-list-item__icon-img",["uni-list--"+_.thumbSize]])},null,8,["src","class"])])),_:1})):_.showExtraIcon?(t(),e(x,{key:1,class:"uni-list-item__icon"},{default:i((()=>[h(T,{color:_.extraIcon.color,size:_.extraIcon.size,type:_.extraIcon.type},null,8,["color","size","type"])])),_:1})):r("v-if",!0)])),_:1})]),!0),s(l.$slots,"body",{},(()=>[h(x,{class:a(["uni-list-item__content",{"uni-list-item__content--center":_.thumb||_.showExtraIcon||_.showBadge||_.showSwitch}])},{default:i((()=>[_.title?(t(),e(B,{key:0,class:a(["uni-list-item__content-title",[0!==_.ellipsis&&_.ellipsis<=2?"uni-ellipsis-"+_.ellipsis:""]])},{default:i((()=>[o(n(_.title),1)])),_:1},8,["class"])):r("v-if",!0),_.note?(t(),e(B,{key:1,class:"uni-list-item__content-note"},{default:i((()=>[o(n(_.note),1)])),_:1})):r("v-if",!0)])),_:1},8,["class"])]),!0),s(l.$slots,"footer",{},(()=>[_.rightText||_.showBadge||_.showSwitch?(t(),e(x,{key:0,class:a(["uni-list-item__extra",{"flex--justify":"column"===_.direction}])},{default:i((()=>[_.rightText?(t(),e(B,{key:0,class:"uni-list-item__extra-text"},{default:i((()=>[o(n(_.rightText),1)])),_:1})):r("v-if",!0),_.showBadge?(t(),e(C,{key:1,type:_.badgeType,text:_.badgeText},null,8,["type","text"])):r("v-if",!0),_.showSwitch?(t(),e($,{key:2,disabled:_.disabled,checked:_.switchChecked,onChange:S.onSwitchChange},null,8,["disabled","checked","onChange"])):r("v-if",!0)])),_:1},8,["class"])):r("v-if",!0)]),!0)])),_:3},8,["class"]),_.showArrow||_.link?(t(),e(T,{key:1,size:16,class:"uni-icon-wrapper",color:"#bbb",type:"arrowright"})):r("v-if",!0)])),_:3},8,["class","hover-class","onClick"])}],["__scopeId","data-v-6d86fd81"]]);var k=b({name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0}},created(){this.firstChildAppend=!1},methods:{loadMore(t){this.$emit("scrolltolower")}}},[["render",function(a,l,o,n,d,u){const h=c;return t(),e(h,{class:"uni-list uni-border-top-bottom"},{default:i((()=>[o.border?(t(),e(h,{key:0,class:"uni-list--border-top"})):r("v-if",!0),s(a.$slots,"default",{},void 0,!0),o.border?(t(),e(h,{key:1,class:"uni-list--border-bottom"})):r("v-if",!0)])),_:3})}],["__scopeId","data-v-aff8594a"]]);export{_,k as a};
//# sourceMappingURL=uni-list.8213a1bd.js.map
