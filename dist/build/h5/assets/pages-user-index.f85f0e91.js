import{D as a,ab as l,E as s,o as e,c as t,w as u,M as n,e as o,H as i,I as r,L as c,N as d,O as f,K as m,Q as _,R as p,U as v,T as g,S as h,a8 as b,X as k,G as y,Z as w,ac as x}from"./vendor.05fa844a.js";import{r as C,a as j}from"./index.1e435daa.js";import{f as I,h as T}from"./communication.389e1550.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";const G={name:"infoList"};var L=E(Object.assign(G,{props:{list:{type:Array,default:[]}},setup(b){const k=b;let y=a([]);return l((()=>k.list),(a=>{console.log("state=",a),y.value=a}),{deep:!0}),s((()=>{console.log("props=",k)})),(a,l)=>{const s=v,b=g,k=h;return e(),t(b,{class:"info-list"},{default:u((()=>[n(' <uni-list>\r\n      <uni-list-item\r\n        v-for="item in infoList"\r\n        :key="item.id"\r\n        :title="item.username"\r\n        :note="item.title"\r\n        :thumb="item.avatar"\r\n        thumb-size="lg"\r\n      ></uni-list-item>\r\n    </uni-list> '),o(b,{class:"ul"},{default:u((()=>[(e(!0),i(_,null,r(m(y),(l=>(e(),t(b,{class:"li",key:l.id,onClick:a=>(a=>{console.log("item=",a),p({url:`/pages/index/HobbyDetailMountain?id=${a.id}&hobby=${a.hobby}`})})(l)},{default:u((()=>[o(b,{class:"comment"},{default:u((()=>[(e(),i("svg",{class:"replay-icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-pinglunhuifu"})])),o(b,null,{default:u((()=>[o(s,null,{default:u((()=>[d(f(l.comments||0),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),o(b,{class:"publish-info"},{default:u((()=>[o(b,{class:"title"},{default:u((()=>[d(f(l.title),1)])),_:2},1024),o(b,{class:"userinfo"},{default:u((()=>[o(k,{class:"avatar",mode:"aspectFit",src:l.avatar||""},null,8,["src"]),o(s,{class:"username"},{default:u((()=>[d(f(l.username),1)])),_:2},1024),o(s,{class:"update-time"},{default:u((()=>[d(f(a.$filters.commentTime(l.create_time))+" 更新",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),o(b,{class:"img"},{default:u((()=>[o(k,{class:"img-url",mode:"aspectFit",src:l.url||""},null,8,["src"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}}}),[["__scopeId","data-v-1e32f88b"]]);var M=E({setup(l){const i=b(),r=k((()=>i.state.user.userInfo)).value,c=()=>{new Promise(((a,l)=>{j(),a()})).then((()=>{location.reload()}))},_=()=>{p({url:"/pages/user/info/index"})};let E=a(0),G=a(0),M=a(0),P=a([]);const $=()=>{var a;P.value=[],(console.log("params===",a),C("/publishs/getPublish","GET",a)).then((a=>{console.log("data getPublish=",a),200===a.data.code&&(P.value=a.data.data)}))};a([]);const D=()=>{var a;P.value=[],(console.log("params===",a),C("/publishs/getMylikes","GET",a)).then((a=>{console.log("data likes=",a),200===a.data.code&&(P.value=a.data.data)}))},F=a=>{M.value=a};return y((()=>{0===M.value?$():D()}),M.value),s((()=>{I().then((a=>{console.log("getfollows =",a),200===a.data.code&&(E.value=a.data.follows)})),T().then((a=>{console.log("getfans =",a),200===a.data.code&&(G.value=a.data.fans)})),$()})),(a,l)=>{const s=h,i=v,p=g,b=x;return e(),t(p,{class:"userinfo-wraper"},{default:u((()=>[o(p,{class:"userinfo"},{default:u((()=>[o(p,{class:"avatar-warper",onClick:_},{default:u((()=>[o(s,{src:m(r).avatar?m(r).avatar:"/static/images/default_avatar.png",class:"avatar"},null,8,["src"]),m(r).avatar?n("v-if",!0):(e(),t(i,{key:0,class:"avatar-title"},{default:u((()=>[d("请上传图片")])),_:1}))])),_:1}),o(p,{class:"userinfo-detail"},{default:u((()=>[o(i,null,{default:u((()=>[d("用户名："+f(m(r).username),1)])),_:1}),o(i,null,{default:u((()=>[d("签  名: "+f(m(r).motto),1)])),_:1})])),_:1})])),_:1}),o(p,{class:"fans-wraper"},{default:u((()=>[o(p,{class:"follows"},{default:u((()=>[o(i,null,{default:u((()=>[d("关注")])),_:1}),d(" "),o(i,null,{default:u((()=>[d(f(m(E)),1)])),_:1})])),_:1}),o(p,{class:"fans"},{default:u((()=>[o(i,null,{default:u((()=>[d("粉丝")])),_:1}),d(" "),o(i,null,{default:u((()=>[d(f(m(G)),1)])),_:1})])),_:1})])),_:1}),o(p,{class:"publish-wraper"},{default:u((()=>[o(p,{class:"my-publishs",onClick:l[0]||(l[0]=a=>F(0))},{default:u((()=>[o(i,null,{default:u((()=>[d("我发布的")])),_:1}),o(p,{class:w({active:0===m(M)})},null,8,["class"])])),_:1}),o(p,{class:"my-likes",onClick:l[1]||(l[1]=a=>F(1))},{default:u((()=>[o(i,null,{default:u((()=>[d("我喜欢的")])),_:1}),o(p,{class:w({active:1===m(M)})},null,8,["class"])])),_:1})])),_:1}),o(p,null,{default:u((()=>[o(L,{list:m(P)},null,8,["list"])])),_:1}),o(b,{onClick:c,style:{"margin-top":"20rpx"}},{default:u((()=>[d("退出")])),_:1})])),_:1})}}},[["__scopeId","data-v-53aab4b2"]]);export{M as default};
