import{D as a,E as l,o as s,c as e,w as t,Z as u,e as n,H as i,I as o,L as r,M as c,K as f,P as d,S as _,T as m,R as p,a8 as v,W as g,Y as h,Q as b,aa as w}from"./vendor.3b43a146.js";import{r as k,a as y}from"./index.0f82816b.js";import{f as j,h as x}from"./communication.0f04c17a.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";const I={name:"infoList"};var L=C(Object.assign(I,{props:{list:{type:Array,default:[]}},setup(v){const g=v;let h=a([]);return l((()=>{console.log("props=",g),h.value=g.list,console.log("infoList.value=",h.value)})),(a,l)=>{const v=_,g=m,b=p;return s(),e(v,{class:"info-list"},{default:t((()=>[u(' <uni-list>\r\n      <uni-list-item\r\n        v-for="item in infoList"\r\n        :key="item.id"\r\n        :title="item.username"\r\n        :note="item.title"\r\n        :thumb="item.avatar"\r\n        thumb-size="lg"\r\n      ></uni-list-item>\r\n    </uni-list> '),n(v,{class:"ul"},{default:t((()=>[(s(!0),i(d,null,o(f(h),(l=>(s(),e(v,{class:"li",key:l.id},{default:t((()=>[n(v,{class:"comment"},{default:t((()=>[n(v,null,{default:t((()=>[r("回复")])),_:1}),n(v,null,{default:t((()=>[n(g,null,{default:t((()=>[r("2")])),_:1})])),_:1})])),_:1}),n(v,{class:"publish-info"},{default:t((()=>[n(v,{class:"title"},{default:t((()=>[r(c(l.title),1)])),_:2},1024),n(v,{class:"userinfo"},{default:t((()=>[n(b,{class:"avatar",mode:"aspectFit",src:l.url||""},null,8,["src"]),n(g,{class:"username"},{default:t((()=>[r(c(l.username),1)])),_:2},1024),n(g,{class:"update-time"},{default:t((()=>[r(c(a.$filters.commentTime(l.create_time))+" 更新",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}}}),[["__scopeId","data-v-3ead692f"]]);var P=C({setup(i){const o=v(),d=g((()=>o.state.user.userInfo)).value,C=()=>{new Promise(((a,l)=>{y(),a()})).then((()=>{location.reload()}))},I=()=>{b({url:"/pages/user/info/index"})};let P=a(0),T=a(0),E=a(!0),z=a([]);const A=()=>{var a;(console.log("params===",a),k("/publishs/getPublish","GET",a)).then((a=>{console.log("data getPublish=",a),200===a.data.code&&(z.value=a.data.data)}))},D=()=>{E.value=!E.value};return l((()=>{j().then((a=>{console.log("getfollows =",a),200===a.data.code&&(P.value=a.data.follows)})),x().then((a=>{console.log("getfans =",a),200===a.data.code&&(T.value=a.data.fans)})),A()})),(a,l)=>{const i=p,o=m,v=_,g=w;return s(),e(v,{class:"userinfo-wraper"},{default:t((()=>[n(v,{class:"userinfo"},{default:t((()=>[n(v,{class:"avatar-warper",onClick:I},{default:t((()=>[n(i,{src:f(d).avatar?f(d).avatar:"/static/images/default_avatar.png",class:"avatar"},null,8,["src"]),n(o,{class:"avatar-title"},{default:t((()=>[r("请上传图片")])),_:1})])),_:1}),n(v,{class:"userinfo-detail"},{default:t((()=>[n(o,null,{default:t((()=>[r("用户名："+c(f(d).username),1)])),_:1}),n(o,null,{default:t((()=>[r("签  名: "+c(f(d).motto),1)])),_:1})])),_:1})])),_:1}),n(v,{class:"fans-wraper"},{default:t((()=>[n(v,{class:"follows"},{default:t((()=>[n(o,null,{default:t((()=>[r("关注")])),_:1}),r(" "),n(o,null,{default:t((()=>[r(c(f(P)),1)])),_:1})])),_:1}),n(v,{class:"fans"},{default:t((()=>[n(o,null,{default:t((()=>[r("粉丝")])),_:1}),r(" "),n(o,null,{default:t((()=>[r(c(f(T)),1)])),_:1})])),_:1})])),_:1}),n(v,{class:"publish-wraper"},{default:t((()=>[n(v,{class:"my-publishs",onClick:D},{default:t((()=>[n(o,null,{default:t((()=>[r("我发布的")])),_:1}),n(v,{class:h({active:f(E)})},null,8,["class"])])),_:1}),n(v,{class:"my-likes",onClick:D},{default:t((()=>[n(o,null,{default:t((()=>[r("我喜欢的")])),_:1}),n(v,{class:h({active:!f(E)})},null,8,["class"])])),_:1})])),_:1}),n(v,null,{default:t((()=>[f(z).length?(s(),e(L,{key:0,list:f(z)},null,8,["list"])):u("v-if",!0)])),_:1}),n(g,{onClick:C,style:{"margin-top":"20rpx"}},{default:t((()=>[r("退出")])),_:1})])),_:1})}}},[["__scopeId","data-v-b5f75710"]]);export{P as default};
