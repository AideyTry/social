import{a8 as a,W as e,D as s,V as l,G as t,X as o,aw as n,ax as u,K as r,o as d,c as f,w as c,e as m,Z as i,L as _,M as p,S as v,ad as g,T as h,ae as b,af as j,aa as x}from"./vendor.3b43a146.js";import{_ as V,a as w}from"./uni-forms.aab66d84.js";import{r as y}from"./uni-app.es.54819d9d.js";import{h as I}from"./index.0f82816b.js";import{_ as M}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.af752859.js";var k=M({setup(M){const k=a();let C=e((()=>k.state.user.userInfo)).value;const G=s(null);let q=s(!0),B=s("选择性别");s(null);let D=l({gender:null});const K={gender:{rules:[{required:!0,errorMessage:"请输入昵称"}]}};t((()=>{C.gender?q.value=!1:q.value=!0}));const L=a=>{const{detail:{value:e}}=a;G.value.setValue("gender",e)},S=()=>{G.value.validate().then((a=>{const e={gender:a.gender};I(e).then((a=>{console.log("data===",a),q.value=!1,k.dispatch("user/GetUserInfo")}))})).catch((a=>{console.log("表单错误信息：",a)}))};return(a,e)=>{const s=v,l=g,t=h,I=b,M=j,k=y(o("uni-forms-item"),V),C=y(o("uni-forms"),w),T=x;return n((d(),f(s,{class:"_showModal"},{default:c((()=>[m(s,{class:"_shade"}),m(s,{class:"_modalBox"},{default:c((()=>[m(s,{class:"_modal"},{default:c((()=>[i(' <slot name="title"> '),n(m(s,{class:"title"},{default:c((()=>[_(p(r(B)),1)])),_:1},512),[[u,r(B)]]),i(" </slot> "),m(s,{class:"content-hint"},{default:c((()=>[_("请按实际情况认真选择性别，确认后性别无法修改！")])),_:1}),m(C,{ref_key:"form",ref:G,modelValue:r(D),rules:K},{default:c((()=>[i(' <slot name="content"> '),m(k,{name:"gender"},{default:c((()=>[m(M,{name:"radio",onChange:L},{default:c((()=>[m(I,null,{default:c((()=>[m(l,{value:1}),m(t,null,{default:c((()=>[_("男")])),_:1})])),_:1}),m(I,null,{default:c((()=>[m(l,{value:2}),m(t,null,{default:c((()=>[_("女")])),_:1})])),_:1})])),_:1})])),_:1}),i(" </slot> ")])),_:1},8,["modelValue"]),i(' <slot name="btn"> '),m(s,{class:"btnbox"},{default:c((()=>[m(T,{type:"primary",onClick:S,class:"btn"},{default:c((()=>[_("确定")])),_:1})])),_:1}),i(" </slot> ")])),_:1})])),_:1})])),_:1},512)),[[u,r(q)]])}}},[["__scopeId","data-v-b08938e6"]]);export{k as default};
