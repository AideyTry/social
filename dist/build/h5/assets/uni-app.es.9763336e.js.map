{"version":3,"file":"uni-app.es.9763336e.js","sources":["../../../../node_modules/@dcloudio/uni-app/dist/uni-app.es.js"],"sourcesContent":["import { shallowRef, ref, getCurrentInstance, isInSSRComponentSetup, injectHook } from 'vue';\nimport { hasOwn, isString } from '@vue/shared';\nimport { sanitise, UNI_SSR_DATA, UNI_SSR_GLOBAL_DATA, UNI_SSR, ON_SHOW, ON_HIDE, ON_LAUNCH, ON_ERROR, ON_THEME_CHANGE, ON_PAGE_NOT_FOUND, ON_UNHANDLE_REJECTION, ON_LOAD, ON_READY, ON_UNLOAD, ON_RESIZE, ON_BACK_PRESS, ON_PAGE_SCROLL, ON_TAB_ITEM_TAP, ON_REACH_BOTTOM, ON_PULL_DOWN_REFRESH, ON_SHARE_TIMELINE, ON_ADD_TO_FAVORITES, ON_SHARE_APP_MESSAGE, ON_NAVIGATION_BAR_BUTTON_TAP, ON_NAVIGATION_BAR_SEARCH_INPUT_CHANGED, ON_NAVIGATION_BAR_SEARCH_INPUT_CLICKED, ON_NAVIGATION_BAR_SEARCH_INPUT_CONFIRMED, ON_NAVIGATION_BAR_SEARCH_INPUT_FOCUS_CHANGED } from '@dcloudio/uni-shared';\n\nfunction getSSRDataType() {\r\n    return getCurrentInstance() ? UNI_SSR_DATA : UNI_SSR_GLOBAL_DATA;\r\n}\r\nfunction assertKey(key, shallow = false) {\r\n    if (!key) {\r\n        throw new Error(`${shallow ? 'shallowSsrRef' : 'ssrRef'}: You must provide a key.`);\r\n    }\r\n}\r\nconst ssrClientRef = (value, key, shallow = false) => {\r\n    const valRef = shallow ? shallowRef(value) : ref(value);\r\n    // 非 h5 平台\r\n    if (typeof window === 'undefined') {\r\n        return valRef;\r\n    }\r\n    const __uniSSR = window[UNI_SSR];\r\n    if (!__uniSSR) {\r\n        return valRef;\r\n    }\r\n    const type = getSSRDataType();\r\n    assertKey(key, shallow);\r\n    if (hasOwn(__uniSSR[type], key)) {\r\n        valRef.value = __uniSSR[type][key];\r\n        if (type === UNI_SSR_DATA) {\r\n            delete __uniSSR[type][key]; // TODO 非全局数据仅使用一次？否则下次还会再次使用该数据\r\n        }\r\n    }\r\n    return valRef;\r\n};\r\nconst globalData = {};\r\nconst ssrRef = (value, key) => {\r\n    return ssrClientRef(value, key);\r\n};\r\nconst shallowSsrRef = (value, key) => {\r\n    return ssrClientRef(value, key, true);\r\n};\r\nfunction getSsrGlobalData() {\r\n    return sanitise(globalData);\r\n}\n\nfunction resolveEasycom(component, easycom) {\r\n    return isString(component) ? easycom : component;\r\n}\n\n// @ts-ignore\r\nconst createHook = (lifecycle) => (hook, target = getCurrentInstance()) => \r\n// post-create lifecycle registrations are noops during SSR\r\n!isInSSRComponentSetup && injectHook(lifecycle, hook, target);\r\nconst onShow = /*#__PURE__*/ createHook(ON_SHOW);\r\nconst onHide = /*#__PURE__*/ createHook(ON_HIDE);\r\nconst onLaunch = /*#__PURE__*/ createHook(ON_LAUNCH);\r\nconst onError = /*#__PURE__*/ createHook(ON_ERROR);\r\nconst onThemeChange = \r\n/*#__PURE__*/ createHook(ON_THEME_CHANGE);\r\nconst onPageNotFound = \r\n/*#__PURE__*/ createHook(ON_PAGE_NOT_FOUND);\r\nconst onUnhandledRejection = \r\n/*#__PURE__*/ createHook(ON_UNHANDLE_REJECTION);\r\n// 小程序如果想在 setup 的 props 传递页面参数，需要定义 props，故同时暴露 onLoad 吧\r\nconst onLoad = /*#__PURE__*/ createHook(ON_LOAD);\r\nconst onReady = /*#__PURE__*/ createHook(ON_READY);\r\nconst onUnload = /*#__PURE__*/ createHook(ON_UNLOAD);\r\nconst onResize = /*#__PURE__*/ createHook(ON_RESIZE);\r\nconst onBackPress = \r\n/*#__PURE__*/ createHook(ON_BACK_PRESS);\r\nconst onPageScroll = \r\n/*#__PURE__*/ createHook(ON_PAGE_SCROLL);\r\nconst onTabItemTap = \r\n/*#__PURE__*/ createHook(ON_TAB_ITEM_TAP);\r\nconst onReachBottom = /*#__PURE__*/ createHook(ON_REACH_BOTTOM);\r\nconst onPullDownRefresh = /*#__PURE__*/ createHook(ON_PULL_DOWN_REFRESH);\r\nconst onShareTimeline = \r\n/*#__PURE__*/ createHook(ON_SHARE_TIMELINE);\r\nconst onAddToFavorites = \r\n/*#__PURE__*/ createHook(ON_ADD_TO_FAVORITES);\r\nconst onShareAppMessage = \r\n/*#__PURE__*/ createHook(ON_SHARE_APP_MESSAGE);\r\nconst onNavigationBarButtonTap = \r\n/*#__PURE__*/ createHook(ON_NAVIGATION_BAR_BUTTON_TAP);\r\nconst onNavigationBarSearchInputChanged = \r\n/*#__PURE__*/ createHook(ON_NAVIGATION_BAR_SEARCH_INPUT_CHANGED);\r\nconst onNavigationBarSearchInputClicked = /*#__PURE__*/ createHook(ON_NAVIGATION_BAR_SEARCH_INPUT_CLICKED);\r\nconst onNavigationBarSearchInputConfirmed = \r\n/*#__PURE__*/ createHook(ON_NAVIGATION_BAR_SEARCH_INPUT_CONFIRMED);\r\nconst onNavigationBarSearchInputFocusChanged = \r\n/*#__PURE__*/ createHook(ON_NAVIGATION_BAR_SEARCH_INPUT_FOCUS_CHANGED);\n\nexport { getSsrGlobalData, onAddToFavorites, onBackPress, onError, onHide, onLaunch, onLoad, onNavigationBarButtonTap, onNavigationBarSearchInputChanged, onNavigationBarSearchInputClicked, onNavigationBarSearchInputConfirmed, onNavigationBarSearchInputFocusChanged, onPageNotFound, onPageScroll, onPullDownRefresh, onReachBottom, onReady, onResize, onShareAppMessage, onShareTimeline, onShow, onTabItemTap, onThemeChange, onUnhandledRejection, onUnload, resolveEasycom, shallowSsrRef, ssrRef };\n"],"names":[],"mappings":"yCA2CA"}