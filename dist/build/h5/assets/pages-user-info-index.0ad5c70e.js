import{x as e,v as a,r as s,aq as o,b as l,c as t,d as r,g as i,u as n,i as d,t as u,h as c,e as f,f as p,F as m,ar as v,G as g,P as _,l as C,p as b,m as h,y,V as k,as as x}from"./index.5db6d7a1.js";import{_ as j,a as w}from"./uni-forms.0b65dcb8.js";import{r as P}from"./uni-app.es.737f45e5.js";import{_ as D}from"./PickerRegion.c9c4d61d.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.eb5ebe58.js";const I={onBackPress:e=>"navigateBack"!==e.from&&(v({url:"/pages/user/index"}),!0)};var B=F(Object.assign(I,{setup(v){const F="/static/images/default_avatar.png",I=g();let B=e((()=>I.state.user.userInfo)).value,E=a(B.photos);console.log("images===",E);const G=s(B.avatar),M=s(o().diff(B.birthday,"years")),q=()=>{console.log("why"),_({url:"/pages/user/info/Editor"})};return(e,a)=>{const s=C,o=b,v=h,g=P(y("uni-forms-item"),j),I=P(y("uni-forms"),w),A=k;return l(),t(v,{class:"userinfo-wraper"},{default:r((()=>[i(v,{class:"userinfo"},{default:r((()=>[i(s,{mode:"aspectFill",src:G.value?G.value:F,class:"avatar"},null,8,["src"]),i(v,{class:"basic-info"},{default:r((()=>[i(D,{isDisabled:"",propsProvinceCode:n(B).location&&n(B).location.provinceCode,propsCityCode:n(B).location&&n(B).location.cityCode},null,8,["propsProvinceCode","propsCityCode"]),d("/"+u(e.$filters.filterGender(n(B).gender)||"暂无")+"/",1),M.value||0===M.value?(l(),t(o,{key:0},{default:r((()=>[d(u(M.value)+"岁",1)])),_:1})):c("v-if",!0),M.value||0===M.value?c("v-if",!0):(l(),t(o,{key:1},{default:r((()=>[d("暂无")])),_:1})),c(' <uni-tag\r\n          v-if="!age && age !== 0"\r\n          disabled\r\n          inverted\r\n          text="暂无"\r\n        ></uni-tag> ')])),_:1})])),_:1}),i(v,{class:"photos"},{default:r((()=>[(l(!0),f(m,null,p(n(E),((e,a)=>(l(),t(v,{class:"photo-wraper",onClick:s=>((e,a)=>{if(console.log("item, index===",e,a),e)return void x({urls:E,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮,第"+(e.index+1)+"张图片")},fail:function(e){console.log(e.errMsg)}}});_({url:"/pages/user/info/Editor"}),(e=>{const a=new Date;let s=a.getFullYear(),o=a.getMonth()+1,l=a.getDate();"start"===e?s-=60:"end"===e&&(s+=2),o=o>9?o:"0"+o,l=l>9?l:"0"+l})({format:!0})})(e,a),key:a},{default:r((()=>[i(s,{mode:"aspectFill",src:e||F,class:"photo"},null,8,["src"]),!e&&n(E)[a-1]||0===a&&!n(E)[0]?(l(),t(o,{key:0,class:"photo-add"},{default:r((()=>[d("+")])),_:1})):c("v-if",!0)])),_:2},1032,["onClick"])))),128))])),_:1}),i(I,null,{default:r((()=>[i(g,{label:"家乡"},{default:r((()=>[i(D,{isDisabled:"",propsProvinceCode:n(B).hometown&&n(B).hometown.provinceCode,propsCityCode:n(B).hometown&&n(B).hometown.cityCode},null,8,["propsProvinceCode","propsCityCode"])])),_:1}),i(g,{label:"学校"},{default:r((()=>[i(v,null,{default:r((()=>[d(u(n(B).schoolName||"暂未填写"),1)])),_:1})])),_:1}),i(g,{label:"职业"},{default:r((()=>[i(v,null,{default:r((()=>[d(u(n(B).job||"暂未填写"),1)])),_:1})])),_:1})])),_:1}),i(A,{onClick:q},{default:r((()=>[d("编辑资料")])),_:1})])),_:1})}}}),[["__scopeId","data-v-6edd5b40"]]);export{B as default};
//# sourceMappingURL=pages-user-info-index.0ad5c70e.js.map
