import{r as e,x as a,o,ag as s,b as l,e as t,g as n,d as r,u as i,c,i as u,t as d,h as p,F as f,f as v,N as m,G as h,au as g,aq as _,al as C,l as b,p as y,m as k,y as j,j as w,as as x,a1 as P,a5 as I,P as D}from"./index.5db6d7a1.js";import{_ as F,a as $}from"./uni-forms.0b65dcb8.js";import{r as G}from"./uni-app.es.737f45e5.js";import{_ as N}from"./PickerRegion.c9c4d61d.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.eb5ebe58.js";const B={onBackPress(e){console.log("options=",e)}};var O=q(Object.assign(B,{props:{id:{type:String,default:""}},setup(q){const B=q;let O=e({}),R=e(""),S=e(!1);const z=h();a((()=>z.state.user.userInfo)).value;const A=()=>{const e={shielding_party:O.value.phone};console.log("params=============",e),C(e).then((e=>{console.log("data============",e),200===e.data.code&&1===e.data.flag?S.value=!0:S.value=!1}))},E=()=>{if(S.value)return void P({title:"对不起，该用户已屏蔽了您，您不能给该用户发送信息",duration:3e3});const e=I();console.log("token===",e),console.log("userInfo.value.phone===",O.value.phone),D({url:`/pages/message/Chat?userID=${O.value.phone}&title=${O.value.username}`})};return o((()=>{console.log("props===",B),s({title:B.title}),(()=>{const a={userId:B.id};g(a).then((a=>{console.log("好友=",a),200===a.data.code&&(O.value=a.data.data,R.value=e(_().diff(O.value.birthday,"years")),A())}))})()})),(e,a)=>{const o=b,s=y,h=k,g=G(j("uni-forms-item"),F),_=G(j("uni-forms"),$);return l(),t(f,null,[n(h,{class:"userinfo-wraper"},{default:r((()=>[n(h,{class:"userinfo"},{default:r((()=>[n(o,{mode:"aspectFill",src:i(O).avatar,class:"avatar"},null,8,["src"]),n(h,{class:"basic-info"},{default:r((()=>[(l(),c(N,{isDisabled:"",propsProvinceCode:i(O).location&&i(O).location.provinceCode,propsCityCode:i(O).location&&i(O).location.cityCode,key:i(O).location&&i(O).location.cityCode},null,8,["propsProvinceCode","propsCityCode"])),u("/"+d(e.$filters.filterGender(i(O).gender)||"暂无")+"/",1),i(R)||0===i(R)?(l(),c(s,{key:0},{default:r((()=>[u(d(i(R))+"岁",1)])),_:1})):p("v-if",!0),i(R)||0===i(R)?p("v-if",!0):(l(),c(s,{key:1},{default:r((()=>[u("暂无")])),_:1})),p(' <uni-tag\r\n          v-if="!age && age !== 0"\r\n          disabled\r\n          inverted\r\n          text="暂无"\r\n        ></uni-tag> ')])),_:1})])),_:1}),n(h,{class:"photos"},{default:r((()=>[(l(!0),t(f,null,v(i(O).photos,((e,a)=>(l(),c(h,{class:"photo-wraper",onClick:e=>((e,a)=>{x({current:a,urls:O.value.photos})})(0,a),key:a},{default:r((()=>[n(o,{mode:"aspectFill",src:e,class:"photo"},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1}),n(_,null,{default:r((()=>[n(g,{label:"签名"},{default:r((()=>[n(h,null,{default:r((()=>[u(d(i(O).motto||"暂未填写"),1)])),_:1})])),_:1}),n(g,{label:"家乡"},{default:r((()=>[(l(),c(N,{isDisabled:"",propsProvinceCode:i(O).hometown&&i(O).hometown.provinceCode,propsCityCode:i(O).hometown&&i(O).hometown.cityCode,key:i(O).hometown&&i(O).hometown.provinceCode},null,8,["propsProvinceCode","propsCityCode"]))])),_:1}),n(g,{label:"学校"},{default:r((()=>[n(h,null,{default:r((()=>[u(d(i(O).schoolName||"暂未填写"),1)])),_:1})])),_:1}),n(g,{label:"职业"},{default:r((()=>[n(h,null,{default:r((()=>[u(d(i(O).job||"暂未填写"),1)])),_:1})])),_:1})])),_:1})])),_:1}),n(h,{class:"send-msg"},{default:r((()=>[n(h,{class:"chat"},{default:r((()=>[p(' <svg class="chat-icon" aria-hidden="true" @click.stop="goChat">\r\n        <use xlink:href="#icon-faxinxi"></use>\r\n      </svg> '),m("span",{class:"iconfont chat-icon",onClick:w(E,["stop"])},"",8,["onClick"]),n(s,null,{default:r((()=>[u("私聊")])),_:1})])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-74c47776"]]);export{O as default};
//# sourceMappingURL=pages-user-info-User.0493bd08.js.map
