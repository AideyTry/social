import{T as e,o as n,c as r,w as t,e as i,J as o,K as a,V as s,O as u,Q as E,P as d,Z as c,A as I,_ as S,I as N,D as O,E as A,M as D}from"./vendor.99a7c6c2.js";import{_ as T}from"./plugin-vue_export-helper.21dcd24c.js";var R,f,G,m=function(){function e(){this.events=void 0,this.events={}}var n=e.prototype;return n.emit=function(e,n){return this.events[e]&&this.events[e].forEach((function(e){return e(n)})),this},n.on=function(e,n){return this.events[e]?this.events[e].push(n):this.events[e]=[n],this},n.off=function(e,n){if(e&&"function"==typeof n){var r=this.events[e],t=r.findIndex((function(e){return e===n}));r.splice(t,1)}else this.events[e]=[];return this},e}();function C(e,n){return(C=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}(G=R||(R={})).INITSDK="InitSDK",G.LOGIN="Login",G.LOGOUT="Logout",G.GETLOGINSTATUS="GetLoginStatus",G.GETLOGINUSER="GetLoginUser",G.GETSELFUSERINFO="GetSelfUserInfo",G.CREATETEXTMESSAGE="CreateTextMessage",G.CREATETEXTATMESSAGE="CreateTextAtMessage",G.CREATEIMAGEMESSAGEFROMBYURL="CreateImageMessageByURL",G.CREATESOUNDMESSAGEBYURL="CreateSoundMessageByURL",G.CREATEVIDEOMESSAGEBYURL="CreateVideoMessageByURL",G.CREATEFILEMESSAGEBYURL="CreateFileMessageByURL",G.CREATEIMAGEMESSAGEFROMFULLPATH="CreateImageMessageFromFullPath",G.CREATESOUNDMESSAGEFROMFULLPATH="CreateSoundMessageFromFullPath",G.CREATEVIDEOMESSAGEFROMFULLPATH="CreateVideoMessageFromFullPath",G.CREATEFILEMESSAGEFROMFULLPATH="CreateFileMessageFromFullPath",G.CREATELOCATIONMESSAGE="CreateLocationMessage",G.CREATECUSTOMMESSAGE="CreateCustomMessage",G.CREATEMERGERMESSAGE="CreateMergerMessage",G.CREATEFORWARDMESSAGE="CreateForwardMessage",G.CREATEQUOTEMESSAGE="CreateQuoteMessage",G.CREATECARDMESSAGE="CreateCardMessage",G.CREATEFACEMESSAGE="CreateFaceMessage",G.SENDMESSAGE="SendMessage",G.SENDMESSAGENOTOSS="SendMessageNotOss",G.GETHISTORYMESSAGELIST="GetHistoryMessageList",G.REVOKEMESSAGE="RevokeMessage",G.SETONECONVERSATIONPRIVATECHAT="SetOneConversationPrivateChat",G.DELETEMESSAGEFROMLOCALSTORAGE="DeleteMessageFromLocalStorage",G.DELETEMESSAGEFROMLOCALANDSVR="DeleteMessageFromLocalAndSvr",G.DELETECONVERSATIONFROMLOCALANDSVR="DeleteConversationFromLocalAndSvr",G.DELETEALLMSGFROMLOCALANDSVR="DeleteAllMsgFromLocalAndSvr",G.DELETEALLMSGFROMLOCAL="DeleteAllMsgFromLocal",G.MARKSINGLEMESSAGEHASREAD="MarkSingleMessageHasRead",G.INSERTSINGLEMESSAGETOLOCALSTORAGE="InsertSingleMessageToLocalStorage",G.INSERTGROUPMESSAGETOLOCALSTORAGE="InsertGroupMessageToLocalStorage",G.TYPINGSTATUSUPDATE="TypingStatusUpdate",G.MARKC2CMESSAGEASREAD="MarkC2CMessageAsRead",G.MARKMESSAGEASREADBYCONID="MarkMessageAsReadByConID",G.CLEARC2CHISTORYMESSAGE="ClearC2CHistoryMessage",G.CLEARGROUPHISTORYMESSAGE="ClearGroupHistoryMessage",G.ADDFRIEND="AddFriend",G.GETDESIGNATEDFRIENDSINFO="GetDesignatedFriendsInfo",G.GETRECVFRIENDAPPLICATIONLIST="GetRecvFriendApplicationList",G.GETSENDFRIENDAPPLICATIONLIST="GetSendFriendApplicationList",G.GETFRIENDLIST="GetFriendList",G.SETFRIENDREMARK="SetFriendRemark",G.ADDBLACK="AddBlack",G.GETBLACKLIST="GetBlackList",G.REMOVEBLACK="RemoveBlack",G.CHECKFRIEND="CheckFriend",G.ACCEPTFRIENDAPPLICATION="AcceptFriendApplication",G.REFUSEFRIENDAPPLICATION="RefuseFriendApplication",G.DELETEFRIEND="DeleteFriend",G.GETUSERSINFO="GetUsersInfo",G.SETSELFINFO="SetSelfInfo",G.GETALLCONVERSATIONLIST="GetAllConversationList",G.GETCONVERSATIONLISTSPLIT="GetConversationListSplit",G.GETONECONVERSATION="GetOneConversation",G.GETCONVERSATIONIDBYSESSIONTYPE="GetConversationIDBySessionType",G.GETMULTIPLECONVERSATION="GetMultipleConversation",G.DELETECONVERSATION="DeleteConversation",G.SETCONVERSATIONDRAFT="SetConversationDraft",G.PINCONVERSATION="PinConversation",G.GETTOTALUNREADMSGCOUNT="GetTotalUnreadMsgCount",G.GETCONVERSATIONRECVMESSAGEOPT="GetConversationRecvMessageOpt",G.SETCONVERSATIONRECVMESSAGEOPT="SetConversationRecvMessageOpt",G.SEARCHLOCALMESSAGES="SearchLocalMessages",G.MARKGROUPMESSAGEHASREAD="MarkGroupMessageHasRead",G.MARKGROUPMESSAGEASREAD="MarkGroupMessageAsRead",G.INVITEUSERTOGROUP="InviteUserToGroup",G.KICKGROUPMEMBER="KickGroupMember",G.GETGROUPMEMBERSINFO="GetGroupMembersInfo",G.GETGROUPMEMBERLIST="GetGroupMemberList",G.GETJOINEDGROUPLIST="GetJoinedGroupList",G.CREATEGROUP="CreateGroup",G.SETGROUPINFO="SetGroupInfo",G.GETGROUPSINFO="GetGroupsInfo",G.JOINGROUP="JoinGroup",G.QUITGROUP="QuitGroup",G.DISMISSGROUP="DismissGroup",G.CHANGEGROUPMUTE="ChangeGroupMute",G.CHANGEGROUPMEMBERMUTE="ChangeGroupMemberMute",G.TRANSFERGROUPOWNER="TransferGroupOwner",G.GETSENDGROUPAPPLICATIONLIST="GetSendGroupApplicationList",G.GETRECVGROUPAPPLICATIONLIST="GetRecvGroupApplicationList",G.ACCEPTGROUPAPPLICATION="AcceptGroupApplication",G.REFUSEGROUPAPPLICATION="RefuseGroupApplication",G.SIGNALINGINVITE="SignalingInvite",G.SIGNALINGINVITEINGROUP="SignalingInviteInGroup",G.SIGNALINGACCEPT="SignalingAccept",G.SIGNALINGREJECT="SignalingReject",G.SIGNALINGCANCEL="SignalingCancel",function(e){e.ONCONNECTFAILED="OnConnectFailed",e.ONCONNECTSUCCESS="OnConnectSuccess",e.ONCONNECTING="OnConnecting",e.ONKICKEDOFFLINE="OnKickedOffline",e.ONSELFINFOUPDATED="OnSelfInfoUpdated",e.ONUSERTOKENEXPIRED="OnUserTokenExpired",e.ONPROGRESS="OnProgress",e.ONRECVNEWMESSAGE="OnRecvNewMessage",e.ONRECVMESSAGEREVOKED="OnRecvMessageRevoked",e.ONRECVC2CREADRECEIPT="OnRecvC2CReadReceipt",e.ONRECVGROUPREADRECEIPT="OnRecvGroupReadReceipt",e.ONCONVERSATIONCHANGED="OnConversationChanged",e.ONNEWCONVERSATION="OnNewConversation",e.ONSYNCSERVERFAILED="OnSyncServerFailed",e.ONSYNCSERVERFINISH="OnSyncServerFinish",e.ONSYNCSERVERSTART="OnSyncServerStart",e.ONTOTALUNREADMESSAGECOUNTCHANGED="OnTotalUnreadMessageCountChanged",e.ONBLACKADDED="OnBlackAdded",e.ONBLACKDELETED="OnBlackDeleted",e.ONFRIENDAPPLICATIONACCEPTED="OnFriendApplicationAccepted",e.ONFRIENDAPPLICATIONADDED="OnFriendApplicationAdded",e.ONFRIENDAPPLICATIONDELETED="OnFriendApplicationDeleted",e.ONFRIENDAPPLICATIONREJECTED="OnFriendApplicationRejected",e.ONFRIENDINFOCHANGED="OnFriendInfoChanged",e.ONFRIENDADDED="OnFriendAdded",e.ONFRIENDDELETED="OnFriendDeleted",e.ONJOINEDGROUPADDED="OnJoinedGroupAdded",e.ONJOINEDGROUPDELETED="OnJoinedGroupDeleted",e.ONGROUPMEMBERADDED="OnGroupMemberAdded",e.ONGROUPMEMBERDELETED="OnGroupMemberDeleted",e.ONGROUPAPPLICATIONADDED="OnGroupApplicationAdded",e.ONGROUPAPPLICATIONDELETED="OnGroupApplicationDeleted",e.ONGROUPINFOCHANGED="OnGroupInfoChanged",e.ONGROUPMEMBERINFOCHANGED="OnGroupMemberInfoChanged",e.ONGROUPAPPLICATIONACCEPTED="OnGroupApplicationAccepted",e.ONGROUPAPPLICATIONREJECTED="OnGroupApplicationRejected",e.ONRECEIVENEWINVITATION="OnReceiveNewInvitation",e.ONINVITEEACCEPTED="OnInviteeAccepted",e.ONINVITEEREJECTED="OnInviteeRejected",e.ONINVITATIONCANCELLED="OnInvitationCancelled",e.ONINVITATIONTIMEOUT="OnInvitationTimeout",e.ONINVITEEACCEPTEDBYOTHERDEVICE="OnInviteeAcceptedByOtherDevice",e.ONINVITEEREJECTEDBYOTHERDEVICE="OnInviteeRejectedByOtherDevice"}(f||(f={}));var p=function(e){return(36*Math.random()).toString(36).slice(2)+(new Date).getTime().toString()+e},g=function(e){var n,r;function t(){var n;return(n=e.call(this)||this).ws=void 0,n.uid=void 0,n.token=void 0,n.platform="web",n.wsUrl="",n.lock=!1,n.logoutFlag=!1,n.ws2promise={},n.onceFlag=!0,n.getLoginStatus=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETLOGINSTATUS,operationID:i,userID:n.uid,data:""},r,t)}))},n.getLoginUser=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETLOGINUSER,operationID:i,userID:n.uid,data:""},r,t)}))},n.getSelfUserInfo=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETSELFUSERINFO,operationID:i,userID:n.uid,data:""},r,t)}))},n.getUsersInfo=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETUSERSINFO,operationID:o,userID:n.uid,data:e},t,i)}))},n.setSelfInfo=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.SETSELFINFO,operationID:o,userID:n.uid,data:e},t,i)}))},n.createTextMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATETEXTMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.createTextAtMessage=function(e,r){return new Promise((function(t,i){var o=e;o.atUserIDList=JSON.stringify(o.atUserIDList);var a=r||p(n.uid);n.wsSend({reqFuncName:R.CREATETEXTATMESSAGE,operationID:a,userID:n.uid,data:o},t,i)}))},n.createImageMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.bigPicture=JSON.stringify(a.bigPicture),a.snapshotPicture=JSON.stringify(a.snapshotPicture),a.sourcePicture=JSON.stringify(a.sourcePicture);var s={reqFuncName:R.CREATEIMAGEMESSAGEFROMBYURL,operationID:o,userID:n.uid,data:JSON.stringify(a)};n.wsSend(s,t,i)}))},n.createSoundMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a={soundBaseInfo:JSON.stringify(e)},s={reqFuncName:R.CREATESOUNDMESSAGEBYURL,operationID:o,userID:n.uid,data:JSON.stringify(a)};n.wsSend(s,t,i)}))},n.createVideoMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a={videoBaseInfo:JSON.stringify(e)},s={reqFuncName:R.CREATEVIDEOMESSAGEBYURL,operationID:o,userID:n.uid,data:JSON.stringify(a)};n.wsSend(s,t,i)}))},n.createFileMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a={fileBaseInfo:JSON.stringify(e)},s={reqFuncName:R.CREATEFILEMESSAGEBYURL,operationID:o,userID:n.uid,data:JSON.stringify(a)};n.wsSend(s,t,i)}))},n.createFileMessageFromFullPath=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATEFILEMESSAGEFROMFULLPATH,operationID:o,userID:n.uid,data:e},t,i)}))},n.createImageMessageFromFullPath=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATEIMAGEMESSAGEFROMFULLPATH,operationID:o,userID:n.uid,data:e},t,i)}))},n.createSoundMessageFromFullPath=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATESOUNDMESSAGEFROMFULLPATH,operationID:o,userID:n.uid,data:e},t,i)}))},n.createVideoMessageFromFullPath=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATEVIDEOMESSAGEFROMFULLPATH,operationID:o,userID:n.uid,data:e},t,i)}))},n.createMergerMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.messageList=JSON.stringify(e.messageList),a.summaryList=JSON.stringify(e.summaryList),n.wsSend({reqFuncName:R.CREATEMERGERMESSAGE,operationID:o,userID:n.uid,data:a},t,i)}))},n.createForwardMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATEFORWARDMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.createFaceMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATEFACEMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.createLocationMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATELOCATIONMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.createCustomMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATECUSTOMMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.createQuoteMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATEQUOTEMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.createCardMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CREATECARDMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.sendMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.offlinePushInfo=a.offlinePushInfo?JSON.stringify(e.offlinePushInfo):"",n.wsSend({reqFuncName:R.SENDMESSAGE,operationID:o,userID:n.uid,data:a},t,i)}))},n.sendMessageNotOss=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.offlinePushInfo=a.offlinePushInfo?JSON.stringify(e.offlinePushInfo):"",n.wsSend({reqFuncName:R.SENDMESSAGENOTOSS,operationID:o,userID:n.uid,data:a},t,i)}))},n.getHistoryMessageList=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETHISTORYMESSAGELIST,operationID:o,userID:n.uid,data:e},t,i)}))},n.revokeMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.REVOKEMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.setOneConversationPrivateChat=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.SETONECONVERSATIONPRIVATECHAT,operationID:o,userID:n.uid,data:e},t,i)}))},n.deleteMessageFromLocalStorage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.DELETEMESSAGEFROMLOCALSTORAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.deleteMessageFromLocalAndSvr=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.DELETEMESSAGEFROMLOCALANDSVR,operationID:o,userID:n.uid,data:e},t,i)}))},n.deleteConversationFromLocalAndSvr=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.DELETECONVERSATIONFROMLOCALANDSVR,operationID:o,userID:n.uid,data:e},t,i)}))},n.deleteAllMsgFromLocal=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.DELETEALLMSGFROMLOCAL,operationID:i,userID:n.uid,data:""},r,t)}))},n.deleteAllMsgFromLocalAndSvr=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.DELETEALLMSGFROMLOCALANDSVR,operationID:i,userID:n.uid,data:""},r,t)}))},n.markGroupMessageHasRead=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.MARKGROUPMESSAGEHASREAD,operationID:o,userID:n.uid,data:e},t,i)}))},n.markGroupMessageAsRead=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.msgIDList=JSON.stringify(a.msgIDList),n.wsSend({reqFuncName:R.MARKGROUPMESSAGEASREAD,operationID:o,userID:n.uid,data:a},t,i)}))},n.insertSingleMessageToLocalStorage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.INSERTSINGLEMESSAGETOLOCALSTORAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.insertGroupMessageToLocalStorage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.INSERTGROUPMESSAGETOLOCALSTORAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.typingStatusUpdate=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.TYPINGSTATUSUPDATE,operationID:o,userID:n.uid,data:e},t,i)}))},n.markC2CMessageAsRead=function(e,r){return new Promise((function(t,i){var o=e;o.msgIDList=JSON.stringify(o.msgIDList);var a=r||p(n.uid);n.wsSend({reqFuncName:R.MARKC2CMESSAGEASREAD,operationID:a,userID:n.uid,data:o},t,i)}))},n.markMessageAsReadByConID=function(e,r){return new Promise((function(t,i){var o=e;o.msgIDList=JSON.stringify(o.msgIDList);var a=r||p(n.uid);n.wsSend({reqFuncName:R.MARKMESSAGEASREADBYCONID,operationID:a,userID:n.uid,data:o},t,i)}))},n.clearC2CHistoryMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CLEARC2CHISTORYMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.clearGroupHistoryMessage=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CLEARGROUPHISTORYMESSAGE,operationID:o,userID:n.uid,data:e},t,i)}))},n.getAllConversationList=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETALLCONVERSATIONLIST,operationID:i,userID:n.uid,data:""},r,t)}))},n.getConversationListSplit=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETCONVERSATIONLISTSPLIT,operationID:o,userID:n.uid,data:e},t,i)}))},n.getOneConversation=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETONECONVERSATION,operationID:o,userID:n.uid,data:e},t,i)}))},n.getConversationIDBySessionType=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETCONVERSATIONIDBYSESSIONTYPE,operationID:o,userID:n.uid,data:e},t,i)}))},n.getMultipleConversation=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETMULTIPLECONVERSATION,operationID:o,userID:n.uid,data:e},t,i)}))},n.deleteConversation=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.DELETECONVERSATION,operationID:o,userID:n.uid,data:e},t,i)}))},n.setConversationDraft=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.SETCONVERSATIONDRAFT,operationID:o,userID:n.uid,data:e},t,i)}))},n.pinConversation=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.PINCONVERSATION,operationID:o,userID:n.uid,data:e},t,i)}))},n.getTotalUnreadMsgCount=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETTOTALUNREADMSGCOUNT,operationID:i,userID:n.uid,data:""},r,t)}))},n.getConversationRecvMessageOpt=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETCONVERSATIONRECVMESSAGEOPT,operationID:o,userID:n.uid,data:e},t,i)}))},n.setConversationRecvMessageOpt=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.conversationIDList=JSON.stringify(e.conversationIDList),n.wsSend({reqFuncName:R.SETCONVERSATIONRECVMESSAGEOPT,operationID:o,userID:n.uid,data:a},t,i)}))},n.searchLocalMessages=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.SEARCHLOCALMESSAGES,operationID:o,userID:n.uid,data:e},t,i)}))},n.addFriend=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.ADDFRIEND,operationID:o,userID:n.uid,data:e},t,i)}))},n.getDesignatedFriendsInfo=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETDESIGNATEDFRIENDSINFO,operationID:o,userID:n.uid,data:e},t,i)}))},n.getRecvFriendApplicationList=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETRECVFRIENDAPPLICATIONLIST,operationID:i,userID:n.uid,data:""},r,t)}))},n.getSendFriendApplicationList=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETSENDFRIENDAPPLICATIONLIST,operationID:i,userID:n.uid,data:""},r,t)}))},n.getFriendList=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETFRIENDLIST,operationID:i,userID:n.uid,data:""},r,t)}))},n.setFriendRemark=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.SETFRIENDREMARK,operationID:o,userID:n.uid,data:e},t,i)}))},n.checkFriend=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CHECKFRIEND,operationID:o,userID:n.uid,data:e},t,i)}))},n.acceptFriendApplication=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.ACCEPTFRIENDAPPLICATION,operationID:o,userID:n.uid,data:e},t,i)}))},n.refuseFriendApplication=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.REFUSEFRIENDAPPLICATION,operationID:o,userID:n.uid,data:e},t,i)}))},n.deleteFriend=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.DELETEFRIEND,operationID:o,userID:n.uid,data:e},t,i)}))},n.addBlack=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.ADDBLACK,operationID:o,userID:n.uid,data:e},t,i)}))},n.removeBlack=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.REMOVEBLACK,operationID:o,userID:n.uid,data:e},t,i)}))},n.getBlackList=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETBLACKLIST,operationID:i,userID:n.uid,data:""},r,t)}))},n.inviteUserToGroup=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.userIDList=JSON.stringify(a.userIDList),n.wsSend({reqFuncName:R.INVITEUSERTOGROUP,operationID:o,userID:n.uid,data:a},t,i)}))},n.kickGroupMember=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.userIDList=JSON.stringify(a.userIDList),n.wsSend({reqFuncName:R.KICKGROUPMEMBER,operationID:o,userID:n.uid,data:a},t,i)}))},n.getGroupMembersInfo=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.userIDList=JSON.stringify(a.userIDList),n.wsSend({reqFuncName:R.GETGROUPMEMBERSINFO,operationID:o,userID:n.uid,data:a},t,i)}))},n.getGroupMemberList=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETGROUPMEMBERLIST,operationID:o,userID:n.uid,data:e},t,i)}))},n.getJoinedGroupList=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETJOINEDGROUPLIST,operationID:i,userID:n.uid,data:""},r,t)}))},n.createGroup=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.groupBaseInfo=JSON.stringify(a.groupBaseInfo),a.memberList=JSON.stringify(a.memberList),n.wsSend({reqFuncName:R.CREATEGROUP,operationID:o,userID:n.uid,data:a},t,i)}))},n.setGroupInfo=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a=e;a.groupInfo=JSON.stringify(a.groupInfo),n.wsSend({reqFuncName:R.SETGROUPINFO,operationID:o,userID:n.uid,data:a},t,i)}))},n.getGroupsInfo=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.GETGROUPSINFO,operationID:o,userID:n.uid,data:e},t,i)}))},n.joinGroup=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.JOINGROUP,operationID:o,userID:n.uid,data:e},t,i)}))},n.quitGroup=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.QUITGROUP,operationID:o,userID:n.uid,data:e},t,i)}))},n.dismissGroup=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.DISMISSGROUP,operationID:o,userID:n.uid,data:e},t,i)}))},n.changeGroupMute=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CHANGEGROUPMUTE,operationID:o,userID:n.uid,data:e},t,i)}))},n.changeGroupMemberMute=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.CHANGEGROUPMEMBERMUTE,operationID:o,userID:n.uid,data:e},t,i)}))},n.transferGroupOwner=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.TRANSFERGROUPOWNER,operationID:o,userID:n.uid,data:e},t,i)}))},n.getSendGroupApplicationList=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETSENDGROUPAPPLICATIONLIST,operationID:i,userID:n.uid,data:""},r,t)}))},n.getRecvGroupApplicationList=function(e){return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.GETRECVGROUPAPPLICATIONLIST,operationID:i,userID:n.uid,data:""},r,t)}))},n.acceptGroupApplication=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.ACCEPTGROUPAPPLICATION,operationID:o,userID:n.uid,data:e},t,i)}))},n.refuseGroupApplication=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.REFUSEGROUPAPPLICATION,operationID:o,userID:n.uid,data:e},t,i)}))},n.signalingInvite=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a={};a.invitation=e,n.wsSend({reqFuncName:R.SIGNALINGINVITE,operationID:o,userID:n.uid,data:a},t,i)}))},n.signalingInviteInGroup=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid),a={};a.invitation=e,n.wsSend({reqFuncName:R.SIGNALINGINVITEINGROUP,operationID:o,userID:n.uid,data:a},t,i)}))},n.signalingAccept=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.SIGNALINGACCEPT,operationID:o,userID:n.uid,data:e},t,i)}))},n.signalingReject=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.SIGNALINGREJECT,operationID:o,userID:n.uid,data:e},t,i)}))},n.signalingCancel=function(e,r){return new Promise((function(t,i){var o=r||p(n.uid);n.wsSend({reqFuncName:R.SIGNALINGCANCEL,operationID:o,userID:n.uid,data:e},t,i)}))},n.wsSend=function(e,r,t){void 0===n.ws&&t({event:e.reqFuncName,errCode:112,errMsg:"ws conect failed...",data:"",operationID:e.operationID||""}),"object"==typeof e.data&&(e.data=JSON.stringify(e.data));var i={oid:e.operationID||p(n.uid),mname:e.reqFuncName,mrsve:r,mrjet:t,flag:!1};n.ws2promise[i.oid]=i;var o=function(r){var t=JSON.parse(r.data);if(f[t.event.toUpperCase()])n.emit(t.event,t);else{e.reqFuncName===R.LOGOUT&&(n.logoutFlag=!0,n.ws.close(),n.ws=void 0);var i=n.ws2promise[t.operationID];i&&(0===t.errCode?i.mrsve(t):i.mrjet(t),delete n.ws2promise[t.operationID])}};"web"==n.platform?(n.ws.send(JSON.stringify(e)),n.ws.onmessage=o):(n.ws.send({data:JSON.stringify(e),success:function(e){"uni"===n.platform&&void 0!==n.ws._callbacks&&void 0!==n.ws._callbacks.message&&(n.ws._callbacks.message=[])}}),n.onceFlag&&(n.ws.onMessage(o),n.onceFlag=!1)),e.reqFuncName===R.LOGOUT&&(n.onceFlag=!0)},n.getPlatform(),n}r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,C(n,r);var i=t.prototype;return i.login=function(e){var n=this;return new Promise((function(r,t){var i=e.userID,o=e.token,a=e.operationID;n.wsUrl=e.url+"?sendID="+i+"&token="+o+"&platformID="+e.platformID;var s={userID:i,token:o},u={event:R.LOGIN,errCode:0,errMsg:"",data:"",operationID:a||""};n.createWs((function(){n.uid=i,n.token=o,n.iLogin(s,a).then((function(e){n.logoutFlag=!1,r(e)})).catch((function(e){u.errCode=e.errCode,u.errMsg=e.errMsg,t(u)}))}),(function(){u.errCode=111,u.errMsg="ws connect close...",n.logoutFlag||n.reconnect(),t(u)}),(function(e){console.log(e),u.errCode=112,u.errMsg="ws connect error...",t(u)})),n.ws||(u.errCode=112,u.errMsg="The current platform is not supported...",t(u))}))},i.iLogin=function(e,n){var r=this;return new Promise((function(t,i){var o=n||p(r.uid);r.wsSend({reqFuncName:R.LOGIN,operationID:o,userID:r.uid,data:e},t,i)}))},i.logout=function(e){var n=this;return new Promise((function(r,t){var i=e||p(n.uid);n.wsSend({reqFuncName:R.LOGOUT,operationID:i,userID:n.uid,data:""},r,t)}))},i.getPlatform=function(){var e=typeof WebSocket,n=typeof uni,r=typeof wx;this.platform="undefined"===e?"object"===n&&"object"!==r?"uni":"object"!==n&&"object"===r?"wx":"unknow":"web"},i.createWs=function(e,n,r){var t=this;console.log("call createWs:::");var i=function(){t.iLogin({userID:t.uid,token:t.token}).then((function(e){return t.logoutFlag=!1}))};e&&(i=e);var o=function(){console.log("ws close agin:::"),t.logoutFlag||t.reconnect()};n&&(o=n);var a=function(){};if(r&&(a=r),"web"===this.platform)return this.ws=new WebSocket(this.wsUrl),this.ws.onclose=o,this.ws.onopen=i,void(this.ws.onerror=a);var s="uni"===this.platform?uni:wx;this.ws=s.connectSocket({url:this.wsUrl,complete:function(){}}),this.ws.onClose(o),this.ws.onOpen(i),this.ws.onError(a)},i.reconnect=function(){var e=this;this.onceFlag||(this.onceFlag=!0),this.lock||(this.lock=!0,setTimeout((function(){e.createWs(),e.lock=!1}),2e3))},t}(m);const L=new g;var F=T({props:["msgList"],components:{MsgItem:T({props:["msg","selfID"],setup(n){const r=e((()=>n.selfID===n.msg.sendID)).value;return console.log("mySmg",r),console.log("props===",n),{defaultAvatar:"/static/images/default_avatar.png",myMsg:r}}},[["render",function(e,c,I,S,N,O){const A=u,D=E,T=d;return n(),r(T,{class:s({chat_bg_msg:!0,chat_bg_omsg:S.myMsg})},{default:t((()=>[i(A,{src:I.msg.senderFaceUrl&&I.msg.senderFaceUrl.includes("https://")?I.msg.senderFaceUrl:S.defaultAvatar,class:"chat_bg_msg_icon"},null,8,["src"]),i(T,{class:s(["content-wraper",{chat_bg_msg_content_text:I.msg.sendID===I.selfID}])},{default:t((()=>[i(D,null,{default:t((()=>[o(a(I.msg.content),1)])),_:1}),i(D,null,{default:t((()=>[o(a(e.$filters.commentTime(I.msg.sendTime)),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])}],["__scopeId","data-v-42fa8fbd"]])},setup(){const n=c(),r=e((()=>n.state.user.userInfo)).value;return I((()=>{})),{userInfo:r}}},[["render",function(e,o,a,s,u,E){const c=S("MsgItem"),I=d;return n(),r(I,null,{default:t((()=>[N(' <scroll-view scroll-y class="con"></scroll-view> '),i(I,{class:"con"},{default:t((()=>[(n(!0),O(D,null,A(a.msgList,(e=>(n(),r(c,{key:e.clientMsgID,msg:e,selfID:s.userInfo.phone},null,8,["msg","selfID"])))),128))])),_:1})])),_:1})}],["__scopeId","data-v-348e5160"]]);export{F as C,L as o};
//# sourceMappingURL=ChatContent.9f306e63.js.map
