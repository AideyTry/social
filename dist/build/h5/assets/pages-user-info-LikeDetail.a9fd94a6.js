import{a0 as o,W as a,V as l,C as e,D as s,a1 as t,o as n,G as d,e as u,w as f,M as c,N as i,Y as r,c as b,L as m,t as p,l as h,S as y,R as v,T as _}from"./vendor.9ff48645.js";import{b as I}from"./hobby.c6b07f8e.js";import{d as g,a as w,b as j}from"./communication.62d3f41d.js";import{C}from"./Comment.12f974a1.js";import{V as x}from"./VideoPlayer.86f23a77.js";import{f as F}from"./index.2edda64d.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";var T=k({components:{Comment:C,VideoPlayer:x},onLoad:function(o){console.log("options===",o)},onReady:function(){},setup(t){console.log("props=",t);const n=o(),d=a((()=>n.state.user.userInfo)).value,u=l({poster:"",src:""});let f=e([{content:"https://social-1308251497.cos.ap-guangzhou.myqcloud.com/images/4.jfif"}]);e(0),e("default");let c=e({});let i=e(!1),r=e("关注");let b=e(null);const m=()=>{let o={followId:c.value.user_id};console.log("params===",o),j(o).then((o=>{console.log("data1===",o),200===o.data.code&&(i.value=o.data.isFollow,o.data.isFollow?r.value="已关注":r.value="关注")}))};return s((()=>{console.log("userInfo===",d),(o=>{const{id:a,hobby:l}=o;I({id:a,hobby:l}).then((o=>{console.log("data===",o),200===o.data.code&&(c.value=o.data.data,b.value=F(o.data.data.create_time),console.log("hobbyInfo.value===",c.value),console.log("data.data.data.url===",o.data.data.url),u.poster=o.data.data.url,u.src=o.data.data.video_url,m())}))})({id:t.id,hobby:t.hobby})})),{followText:r,isFlollow:i,following:()=>{if(i.value)return void p({content:"确认不再关注？",success:function(o){if(o.confirm){let o={followId:c.value.user_id};g(o).then((o=>{200===o.data.code&&(r.value="关注",i.value=!1)}))}else o.cancel&&console.log("用户点击取消")}});console.log("userInfo===",d);let o={followId:c.value.user_id};w(o).then((o=>{console.log("data===",o),200===o.data.code?(r.value="已关注",i.value=!0):400===o.data.code&&h({title:o.data.msg,icon:"none",duration:2e3})}))},hobbyInfo:c,info:f,publishDate:b,options:u}}},[["render",function(o,a,l,e,s,p){const h=y,I=v,g=_,w=t("VideoPlayer"),j=t("Comment");return n(),d("div",{class:"hobby-detail"},[u(h,{class:"author-wraper"},{default:f((()=>[u(h,{class:"author"},{default:f((()=>[u(h,null,{default:f((()=>[c("返回")])),_:1}),u(h,{class:"author-info"},{default:f((()=>[u(I,{class:"avatar",mode:"aspectFit",src:e.hobbyInfo.avatar||""},null,8,["src"]),u(g,null,{default:f((()=>[c(i(e.hobbyInfo.username||""),1)])),_:1})])),_:1}),u(h,{class:r({follow:!e.isFlollow,active:e.isFlollow}),onClick:e.following},{default:f((()=>[u(g,null,{default:f((()=>[c(i(e.followText),1)])),_:1})])),_:1},8,["class","onClick"])])),_:1})])),_:1}),u(h,{class:"swiper-box"},{default:f((()=>[u(h,{class:"swiper-item"},{default:f((()=>[0===e.hobbyInfo.fileType?(n(),b(I,{key:0,src:e.hobbyInfo.url,class:"image"},null,8,["src"])):m("v-if",!0),1===e.hobbyInfo.fileType?(n(),b(w,{options:{src:e.hobbyInfo.video_url,poster:e.hobbyInfo.url},key:e.hobbyInfo.id},null,8,["options"])):m("v-if",!0)])),_:1})])),_:1}),u(h,{class:"content-wraper"},{default:f((()=>[u(h,{class:"content"},{default:f((()=>[u(h,{class:"title"},{default:f((()=>[c(i(e.hobbyInfo.title),1)])),_:1}),u(h,{class:"main"},{default:f((()=>[c(i(e.hobbyInfo.content),1)])),_:1}),u(h,{class:"publish-date"},{default:f((()=>[u(g,null,{default:f((()=>[c("发布于: ")])),_:1}),u(g,null,{default:f((()=>[c(i(e.publishDate),1)])),_:1})])),_:1})])),_:1})])),_:1}),u(h,{class:"comment-wraper"},{default:f((()=>[e.hobbyInfo.id?(n(),b(j,{hobbyInfo:e.hobbyInfo,key:e.hobbyInfo.id},null,8,["hobbyInfo"])):m("v-if",!0)])),_:1})])}],["__scopeId","data-v-25688d25"]]);export{T as default};
//# sourceMappingURL=pages-user-info-LikeDetail.a9fd94a6.js.map
