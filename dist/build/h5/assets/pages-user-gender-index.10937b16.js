import{x as e,r as a,v as s,w as l,an as t,ao as n,u as o,b as u,c as r,d,g as c,h as f,i as _,t as i,G as m,ap as p,m as v,Z as g,p as b,_ as h,U as x,y as j,V}from"./index.5db6d7a1.js";import{_ as I,a as k}from"./uni-forms.0b65dcb8.js";import{r as w}from"./uni-app.es.737f45e5.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.eb5ebe58.js";var C=y({setup(y){const C=m();let G=e((()=>C.state.user.userInfo)).value;const M=a(null);let U=a(!0),q=a("选择性别");a(null);let B=s({gender:null});const Z={gender:{rules:[{required:!0,errorMessage:"请输入昵称"}]}};l((()=>{G.gender?U.value=!1:U.value=!0}));const z=e=>{const{detail:{value:a}}=e;M.value.setValue("gender",a)},A=()=>{M.value.validate().then((e=>{const a={gender:e.gender};p(a).then((e=>{console.log("data===",e),U.value=!1,C.dispatch("user/GetUserInfo")}))})).catch((e=>{console.log("表单错误信息：",e)}))};return(e,a)=>{const s=v,l=g,m=b,p=h,y=x,C=w(j("uni-forms-item"),I),G=w(j("uni-forms"),k),D=V;return t((u(),r(s,{class:"_showModal"},{default:d((()=>[c(s,{class:"_shade"}),c(s,{class:"_modalBox"},{default:d((()=>[c(s,{class:"_modal"},{default:d((()=>[f(' <slot name="title"> '),t(c(s,{class:"title"},{default:d((()=>[_(i(o(q)),1)])),_:1},512),[[n,o(q)]]),f(" </slot> "),c(s,{class:"content-hint"},{default:d((()=>[_("确定性别后无法修改！")])),_:1}),c(G,{ref_key:"form",ref:M,modelValue:o(B),rules:Z},{default:d((()=>[f(' <slot name="content"> '),c(C,{name:"gender"},{default:d((()=>[c(y,{name:"radio",onChange:z},{default:d((()=>[c(p,null,{default:d((()=>[c(l,{value:1}),c(m,null,{default:d((()=>[_("男")])),_:1})])),_:1}),c(p,null,{default:d((()=>[c(l,{value:2}),c(m,null,{default:d((()=>[_("女")])),_:1})])),_:1})])),_:1})])),_:1}),f(" </slot> ")])),_:1},8,["modelValue"]),f(' <slot name="btn"> '),c(s,{class:"btnbox"},{default:d((()=>[c(D,{onClick:A,class:"btn"},{default:d((()=>[_("确定")])),_:1})])),_:1}),f(" </slot> ")])),_:1})])),_:1})])),_:1},512)),[[n,o(U)]])}}},[["__scopeId","data-v-7c56425a"]]);export{C as default};
//# sourceMappingURL=pages-user-gender-index.10937b16.js.map
