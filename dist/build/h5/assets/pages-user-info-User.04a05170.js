import{r as a,y as e,o,ai as s,b as l,e as t,g as n,d as i,u as r,c,i as u,t as d,h as p,F as f,f as v,R as m,H as h,av as g,as as _,an as C,m as y,q as k,p as b,z as j,j as w,at as x,a4 as P,a8 as I,k as D}from"./index.4f21874d.js";import{_ as F,a as $}from"./uni-forms.24d536c2.js";import{r as R}from"./uni-app.es.186d8cb4.js";import{_ as q}from"./PickerRegion.3087a51f.js";import{_ as z}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.770916ad.js";const B={onBackPress(a){console.log("options=",a)}};var G=z(Object.assign(B,{props:{id:{type:String,default:""}},setup(z){const B=z;let G=a({}),H=a(""),N=a(!1);const O=h();e((()=>O.state.user.userInfo)).value;const S=()=>{const a={shielding_party:G.value.phone};console.log("params=============",a),C(a).then((a=>{console.log("data============",a),200===a.data.code&&1===a.data.flag?N.value=!0:N.value=!1}))},A=()=>{if(N.value)return void P({title:"对不起，该用户已屏蔽了您，您不能给该用户发送信息",duration:3e3});const a=I();console.log("token===",a),console.log("userInfo.value.phone===",G.value.phone),D({url:`/pages/message/Chat?userID=${G.value.phone}&title=${G.value.username}`})};return o((()=>{console.log("props===",B),s({title:B.title}),(()=>{const e={userId:B.id};g(e).then((e=>{console.log("好友=",e),200===e.data.code&&(G.value=e.data.data,H.value=a(_().diff(G.value.birthday,"years")),S())}))})()})),(a,e)=>{const o=y,s=k,h=b,g=R(j("uni-forms-item"),F),_=R(j("uni-forms"),$);return l(),t(f,null,[n(h,{class:"userinfo-wraper"},{default:i((()=>[n(h,{class:"userinfo"},{default:i((()=>[n(o,{mode:"aspectFill",src:r(G).avatar,class:"avatar"},null,8,["src"]),n(h,{class:"basic-info"},{default:i((()=>[(l(),c(q,{isDisabled:"",propsProvinceCode:r(G).location&&r(G).location.provinceCode,propsCityCode:r(G).location&&r(G).location.cityCode,key:r(G).location&&r(G).location.cityCode},null,8,["propsProvinceCode","propsCityCode"])),u("/"+d(a.$filters.filterGender(r(G).gender)||"暂无")+"/",1),r(H)||0===r(H)?(l(),c(s,{key:0},{default:i((()=>[u(d(r(H))+"岁",1)])),_:1})):p("v-if",!0),r(H)||0===r(H)?p("v-if",!0):(l(),c(s,{key:1},{default:i((()=>[u("暂无")])),_:1})),p(' <uni-tag\r\n          v-if="!age && age !== 0"\r\n          disabled\r\n          inverted\r\n          text="暂无"\r\n        ></uni-tag> ')])),_:1})])),_:1}),n(h,{class:"photos"},{default:i((()=>[(l(!0),t(f,null,v(r(G).photos,((a,e)=>(l(),c(h,{class:"photo-wraper",onClick:a=>((a,e)=>{x({current:e,urls:G.value.photos})})(0,e),key:e},{default:i((()=>[n(o,{mode:"aspectFill",src:a,class:"photo"},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1}),n(_,null,{default:i((()=>[n(g,{label:"签名"},{default:i((()=>[n(h,null,{default:i((()=>[u(d(r(G).motto||"暂未填写"),1)])),_:1})])),_:1}),n(g,{label:"家乡"},{default:i((()=>[(l(),c(q,{isDisabled:"",propsProvinceCode:r(G).hometown&&r(G).hometown.provinceCode,propsCityCode:r(G).hometown&&r(G).hometown.cityCode,key:r(G).hometown&&r(G).hometown.provinceCode},null,8,["propsProvinceCode","propsCityCode"]))])),_:1}),n(g,{label:"学校"},{default:i((()=>[n(h,null,{default:i((()=>[u(d(r(G).schoolName||"暂未填写"),1)])),_:1})])),_:1}),n(g,{label:"职业"},{default:i((()=>[n(h,null,{default:i((()=>[u(d(r(G).job||"暂未填写"),1)])),_:1})])),_:1})])),_:1})])),_:1}),n(h,{class:"send-msg"},{default:i((()=>[n(h,{class:"chat"},{default:i((()=>[p(' <svg class="chat-icon" aria-hidden="true" @click.stop="goChat">\r\n        <use xlink:href="#icon-faxinxi"></use>\r\n      </svg> '),m("span",{class:"iconfont chat-icon",onClick:w(A,["stop"])},"",8,["onClick"]),n(s,null,{default:i((()=>[u("私聊")])),_:1})])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-74c47776"]]);export{G as default};
//# sourceMappingURL=pages-user-info-User.04a05170.js.map
