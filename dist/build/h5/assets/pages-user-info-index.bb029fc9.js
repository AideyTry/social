import{a0 as e,U as a,T as s,A as o,x as l,V as t,o as r,c as n,w as i,e as u,H as d,K as c,L as f,J as p,E as v,F as m,N as g,a4 as _,O as C,P as h,R as y,Q as b,ac as k,ap as w}from"./vendor.ae4da609.js";import{_ as x,a as P}from"./uni-forms.1843867e.js";import{r as j}from"./uni-app.es.ede28119.js";import{_ as D}from"./PickerRegion.a53dff04.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";const E={onBackPress:e=>"navigateBack"!==e.from&&(_({url:"/pages/user/index"}),!0)};var I=F(Object.assign(E,{setup(_){const F="/static/images/default_avatar.png",E=e();let I=a((()=>E.state.user.userInfo)).value,A=s(I.photos);console.log("images===",A);const B=o(I.avatar),L=o(l().diff(I.birthday,"years")),M=()=>{console.log("why"),C({url:"/pages/user/info/Editor"})};return(e,a)=>{const s=h,o=y,l=b,_=j(t("uni-forms-item"),x),E=j(t("uni-forms"),P),N=k;return r(),n(l,{class:"userinfo-wraper"},{default:i((()=>[u(l,{class:"userinfo"},{default:i((()=>[u(s,{mode:"aspectFill",src:B.value?B.value:F,class:"avatar"},null,8,["src"]),u(l,{class:"basic-info"},{default:i((()=>[u(D,{isDisabled:"",propsProvinceCode:d(I).location&&d(I).location.provinceCode,propsCityCode:d(I).location&&d(I).location.cityCode},null,8,["propsProvinceCode","propsCityCode"]),c("/"+f(e.$filters.filterGender(d(I).gender)||"暂无")+"/",1),L.value||0===L.value?(r(),n(o,{key:0},{default:i((()=>[c(f(L.value)+"岁",1)])),_:1})):p("v-if",!0),L.value||0===L.value?p("v-if",!0):(r(),n(o,{key:1},{default:i((()=>[c("暂无")])),_:1})),p(' <uni-tag\r\n          v-if="!age && age !== 0"\r\n          disabled\r\n          inverted\r\n          text="暂无"\r\n        ></uni-tag> ')])),_:1})])),_:1}),u(l,{class:"photos"},{default:i((()=>[(r(!0),v(g,null,m(d(A),((e,a)=>(r(),n(l,{class:"photo-wraper",onClick:s=>((e,a)=>{if(console.log("item, index===",e,a),e)return void w({urls:A,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮,第"+(e.index+1)+"张图片")},fail:function(e){console.log(e.errMsg)}}});C({url:"/pages/user/info/Editor"}),(e=>{const a=new Date;let s=a.getFullYear(),o=a.getMonth()+1,l=a.getDate();"start"===e?s-=60:"end"===e&&(s+=2),o=o>9?o:"0"+o,l=l>9?l:"0"+l})({format:!0})})(e,a),key:a},{default:i((()=>[u(s,{mode:"aspectFill",src:e||F,class:"photo"},null,8,["src"]),!e&&d(A)[a-1]||0===a&&!d(A)[0]?(r(),n(o,{key:0,class:"photo-add"},{default:i((()=>[c("+")])),_:1})):p("v-if",!0)])),_:2},1032,["onClick"])))),128))])),_:1}),u(E,null,{default:i((()=>[u(_,{label:"家乡"},{default:i((()=>[u(D,{isDisabled:"",propsProvinceCode:d(I).hometown&&d(I).hometown.provinceCode,propsCityCode:d(I).hometown&&d(I).hometown.cityCode},null,8,["propsProvinceCode","propsCityCode"])])),_:1}),u(_,{label:"学校"},{default:i((()=>[u(l,null,{default:i((()=>[c(f(d(I).schoolName||"暂未填写"),1)])),_:1})])),_:1}),u(_,{label:"职业"},{default:i((()=>[u(l,null,{default:i((()=>[c(f(d(I).job||"暂未填写"),1)])),_:1})])),_:1})])),_:1}),u(N,{onClick:M},{default:i((()=>[c("编辑资料")])),_:1})])),_:1})}}}),[["__scopeId","data-v-8a023c04"]]);export{I as default};
//# sourceMappingURL=pages-user-info-index.bb029fc9.js.map
