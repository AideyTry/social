import{a9 as a,X as e,D as s,W as l,G as t,Y as o,az as n,aA as u,K as r,o as d,c as f,w as c,e as i,M as m,N as _,O as p,T as v,ag as g,U as h,ah as b,ai as j,ad as x}from"./vendor.2a2b33f0.js";import{_ as I,a as M}from"./uni-forms.5e269851.js";import{r as V}from"./uni-app.es.e6b75890.js";import{h as k}from"./index.ed016f60.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.9e41a046.js";var C=w({setup(w){const C=a();let G=e((()=>C.state.user.userInfo)).value;const U=s(null);let q=s(!0),y=s("选择性别");s(null);let z=l({gender:null});const A={gender:{rules:[{required:!0,errorMessage:"请输入昵称"}]}};t((()=>{G.gender?q.value=!1:q.value=!0}));const B=a=>{const{detail:{value:e}}=a;U.value.setValue("gender",e)},D=()=>{U.value.validate().then((a=>{const e={gender:a.gender};k(e).then((a=>{console.log("data===",a),q.value=!1,C.dispatch("user/GetUserInfo")}))})).catch((a=>{console.log("表单错误信息：",a)}))};return(a,e)=>{const s=v,l=g,t=h,k=b,w=j,C=V(o("uni-forms-item"),I),G=V(o("uni-forms"),M),K=x;return n((d(),f(s,{class:"_showModal"},{default:c((()=>[i(s,{class:"_shade"}),i(s,{class:"_modalBox"},{default:c((()=>[i(s,{class:"_modal"},{default:c((()=>[m(' <slot name="title"> '),n(i(s,{class:"title"},{default:c((()=>[_(p(r(y)),1)])),_:1},512),[[u,r(y)]]),m(" </slot> "),i(s,{class:"content-hint"},{default:c((()=>[_("确定性别后无法修改！")])),_:1}),i(G,{ref_key:"form",ref:U,modelValue:r(z),rules:A},{default:c((()=>[m(' <slot name="content"> '),i(C,{name:"gender"},{default:c((()=>[i(w,{name:"radio",onChange:B},{default:c((()=>[i(k,null,{default:c((()=>[i(l,{value:1}),i(t,null,{default:c((()=>[_("男")])),_:1})])),_:1}),i(k,null,{default:c((()=>[i(l,{value:2}),i(t,null,{default:c((()=>[_("女")])),_:1})])),_:1})])),_:1})])),_:1}),m(" </slot> ")])),_:1},8,["modelValue"]),m(' <slot name="btn"> '),i(s,{class:"btnbox"},{default:c((()=>[i(K,{onClick:D,class:"btn"},{default:c((()=>[_("确定")])),_:1})])),_:1}),m(" </slot> ")])),_:1})])),_:1})])),_:1},512)),[[u,r(q)]])}}},[["__scopeId","data-v-7c56425a"]]);export{C as default};
