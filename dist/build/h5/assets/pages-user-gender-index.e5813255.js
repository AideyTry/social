import{a5 as a,W as e,C as s,V as l,F as t,X as o,ay as n,az as u,J as r,o as d,c,w as f,e as i,L as m,M as _,N as p,S as v,ai as g,T as h,aj as b,ae as j,ac as x}from"./vendor.6b7d927a.js";import{_ as V,a as C}from"./uni-forms.82235179.js";import{r as I}from"./uni-app.es.9565e25d.js";import{h as M}from"./index.0730cb8f.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.29b75be2.js";var w=k({setup(k){const w=a();let y=e((()=>w.state.user.userInfo)).value;const q=s(null);let z=s(!0),B=s("选择性别");s(null);let F=l({gender:null});const G={gender:{rules:[{required:!0,errorMessage:"请输入昵称"}]}};t((()=>{y.gender?z.value=!1:z.value=!0}));const J=a=>{const{detail:{value:e}}=a;q.value.setValue("gender",e)},L=()=>{q.value.validate().then((a=>{const e={gender:a.gender};M(e).then((a=>{console.log("data===",a),z.value=!1,w.dispatch("user/GetUserInfo")}))})).catch((a=>{console.log("表单错误信息：",a)}))};return(a,e)=>{const s=v,l=g,t=h,M=b,k=j,w=I(o("uni-forms-item"),V),y=I(o("uni-forms"),C),N=x;return n((d(),c(s,{class:"_showModal"},{default:f((()=>[i(s,{class:"_shade"}),i(s,{class:"_modalBox"},{default:f((()=>[i(s,{class:"_modal"},{default:f((()=>[m(' <slot name="title"> '),n(i(s,{class:"title"},{default:f((()=>[_(p(r(B)),1)])),_:1},512),[[u,r(B)]]),m(" </slot> "),i(s,{class:"content-hint"},{default:f((()=>[_("确定性别后无法修改！")])),_:1}),i(y,{ref_key:"form",ref:q,modelValue:r(F),rules:G},{default:f((()=>[m(' <slot name="content"> '),i(w,{name:"gender"},{default:f((()=>[i(k,{name:"radio",onChange:J},{default:f((()=>[i(M,null,{default:f((()=>[i(l,{value:1}),i(t,null,{default:f((()=>[_("男")])),_:1})])),_:1}),i(M,null,{default:f((()=>[i(l,{value:2}),i(t,null,{default:f((()=>[_("女")])),_:1})])),_:1})])),_:1})])),_:1}),m(" </slot> ")])),_:1},8,["modelValue"]),m(' <slot name="btn"> '),i(s,{class:"btnbox"},{default:f((()=>[i(N,{onClick:L,class:"btn"},{default:f((()=>[_("确定")])),_:1})])),_:1}),m(" </slot> ")])),_:1})])),_:1})])),_:1},512)),[[u,r(z)]])}}},[["__scopeId","data-v-7c56425a"]]);export{w as default};
//# sourceMappingURL=pages-user-gender-index.e5813255.js.map
