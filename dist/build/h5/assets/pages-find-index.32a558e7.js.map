{"version":3,"file":"pages-find-index.32a558e7.js","sources":["../../../../src/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue","../../../../node_modules/spark-md5/spark-md5.js","../../../../src/pages/find/index.vue","../../../../src/api/file.js"],"sourcesContent":["<template>\r\n\t<view class=\"uni-easyinput\" :class=\"{'uni-easyinput-error':msg}\" :style=\"{color:inputBorder && msg?'#e43d33':styles.color}\">\r\n\t\t<view class=\"uni-easyinput__content\" :class=\"{'is-input-border':inputBorder ,'is-input-error-border':inputBorder && msg,'is-textarea':type==='textarea','is-disabled':disabled}\"\r\n\t\t :style=\"{'border-color':inputBorder && msg?'#dd524d':styles.borderColor,'background-color':disabled?styles.disableColor:''}\">\r\n\t\t\t<uni-icons v-if=\"prefixIcon\" class=\"content-clear-icon\" :type=\"prefixIcon\" color=\"#c0c4cc\" @click=\"onClickIcon('prefix')\"></uni-icons>\r\n\t\t\t<textarea v-if=\"type === 'textarea'\" class=\"uni-easyinput__content-textarea\" :class=\"{'input-padding':inputBorder}\"\r\n\t\t\t :name=\"name\" :value=\"val\" :placeholder=\"placeholder\" :placeholderStyle=\"placeholderStyle\" :disabled=\"disabled\" placeholder-class=\"uni-easyinput__placeholder-class\"\r\n\t\t\t :maxlength=\"inputMaxlength\" :focus=\"focused\" :autoHeight=\"autoHeight\" @input=\"onInput\" @blur=\"onBlur\"  @focus=\"onFocus\"\r\n\t\t\t @confirm=\"onConfirm\"></textarea>\r\n\t\t\t<input v-else :type=\"type === 'password'?'text':type\" class=\"uni-easyinput__content-input\" :style=\"{\r\n\t\t\t\t 'padding-right':type === 'password' ||clearable || prefixIcon?'':'10px',\r\n\t\t\t\t 'padding-left':prefixIcon?'':'10px'\r\n\t\t\t }\"\r\n\t\t\t :name=\"name\" :value=\"val\" :password=\"!showPassword && type === 'password'\" :placeholder=\"placeholder\"\r\n\t\t\t :placeholderStyle=\"placeholderStyle\" placeholder-class=\"uni-easyinput__placeholder-class\" :disabled=\"disabled\" :maxlength=\"inputMaxlength\" :focus=\"focused\" :confirmType=\"confirmType\" @focus=\"onFocus\"\r\n\t\t\t @blur=\"onBlur\" @input=\"onInput\" @confirm=\"onConfirm\" />\r\n\t\t\t<template v-if=\"type === 'password' && passwordIcon\" >\r\n\t\t\t\t<uni-icons v-if=\"val != '' \" class=\"content-clear-icon\" :class=\"{'is-textarea-icon':type==='textarea'}\" :type=\"showPassword?'eye-slash-filled':'eye-filled'\"\r\n\t\t\t\t :size=\"18\" color=\"#c0c4cc\" @click=\"onEyes\"></uni-icons>\r\n\t\t\t</template>\r\n\t\t\t<template v-else-if=\"suffixIcon\">\r\n\t\t\t\t<uni-icons v-if=\"suffixIcon\" class=\"content-clear-icon\" :type=\"suffixIcon\" color=\"#c0c4cc\" @click=\"onClickIcon('suffix')\"></uni-icons>\r\n\t\t\t</template>\r\n\t\t\t<template v-else>\r\n\t\t\t\t<uni-icons class=\"content-clear-icon\" :class=\"{'is-textarea-icon':type==='textarea'}\" type=\"clear\" :size=\"clearSize\"\r\n\t\t\t\t v-if=\"clearable && val && !disabled\" color=\"#c0c4cc\" @click=\"onClear\"></uni-icons>\r\n\t\t\t</template>\n\t\t\t<slot name=\"right\"></slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\n\t// import {\n\t// \tdebounce,\n\t// \tthrottle\n\t// } from './common.js'\r\n\t/**\r\n\t * Easyinput 输入框\r\n\t * @description 此组件可以实现表单的输入与校验，包括 \"text\" 和 \"textarea\" 类型。\r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?id=3455\r\n\t * @property {String}\tvalue\t输入内容\r\n\t * @property {String }\ttype\t输入框的类型（默认text） password/text/textarea/..\r\n\t * \t@value text\t\t\t文本输入键盘\r\n\t * \t@value textarea\t多行文本输入键盘\r\n\t * \t@value password\t密码输入键盘\r\n\t * \t@value number\t\t数字输入键盘，注意iOS上app-vue弹出的数字键盘并非9宫格方式\r\n\t * \t@value idcard\t\t身份证输入键盘，信、支付宝、百度、QQ小程序\r\n\t * \t@value digit\t\t带小数点的数字键盘\t，App的nvue页面、微信、支付宝、百度、头条、QQ小程序支持\r\n\t * @property {Boolean}\tclearable\t是否显示右侧清空内容的图标控件，点击可清空输入框内容（默认true）\r\n\t * @property {Boolean}\tautoHeight\t是否自动增高输入区域，type为textarea时有效（默认true）\r\n\t * @property {String }\tplaceholder\t输入框的提示文字\r\n\t * @property {String }\tplaceholderStyle\tplaceholder的样式(内联样式，字符串)，如\"color: #ddd\"\r\n\t * @property {Boolean}\tfocus\t是否自动获得焦点（默认false）\r\n\t * @property {Boolean}\tdisabled\t是否禁用（默认false）\r\n\t * @property {Number }\tmaxlength\t最大输入长度，设置为 -1 的时候不限制最大长度（默认140）\r\n\t * @property {String }\tconfirmType\t设置键盘右下角按钮的文字，仅在type=\"text\"时生效（默认done）\r\n\t * @property {Number }\tclearSize\t清除图标的大小，单位px（默认15）\r\n\t * @property {String}\tprefixIcon\t输入框头部图标\r\n\t * @property {String}\tsuffixIcon\t输入框尾部图标\r\n\t * @property {Boolean}\ttrim\t是否自动去除两端的空格\r\n\t * @value both\t去除两端空格\r\n\t * @value left\t去除左侧空格\r\n\t * @value right\t去除右侧空格\r\n\t * @value start\t去除左侧空格\r\n\t * @value end\t\t去除右侧空格\r\n\t * @value all\t\t去除全部空格\r\n\t * @value none\t不去除空格\r\n\t * @property {Boolean}\tinputBorder\t是否显示input输入框的边框（默认true）\r\n\t * @property {Boolean}\tpasswordIcon\ttype=password时是否显示小眼睛图标\r\n\t * @property {Object}\tstyles\t自定义颜色\r\n\t * @event {Function}\tinput\t输入框内容发生变化时触发\r\n\t * @event {Function}\tfocus\t输入框获得焦点时触发\r\n\t * @event {Function}\tblur\t输入框失去焦点时触发\r\n\t * @event {Function}\tconfirm\t点击完成按钮时触发\r\n\t * @event {Function}\ticonClick\t点击图标时触发\r\n\t * @example <uni-easyinput v-model=\"mobile\"></uni-easyinput>\r\n\t */\r\n\r\n\t export default {\r\n\t\tname: 'uni-easyinput',\r\n\t\temits:['click','iconClick','update:modelValue','input','focus','blur','confirm'],\r\n\t\tmodel:{\r\n\t\t\tprop:'modelValue',\r\n\t\t\tevent:'update:modelValue'\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tname: String,\r\n\t\t\tvalue: [Number, String],\r\n\t\t\tmodelValue: [Number, String],\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'text'\r\n\t\t\t},\r\n\t\t\tclearable: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tautoHeight: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tplaceholder: String,\r\n\t\t\tplaceholderStyle: String,\r\n\t\t\tfocus: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmaxlength: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: 140\r\n\t\t\t},\r\n\t\t\tconfirmType: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'done'\r\n\t\t\t},\r\n\t\t\tclearSize: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: 15\r\n\t\t\t},\r\n\t\t\tinputBorder: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tprefixIcon: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tsuffixIcon: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\ttrim: {\r\n\t\t\t\ttype: [Boolean, String],\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tpasswordIcon:{\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tstyles: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcolor: '#333',\r\n\t\t\t\t\t\tdisableColor: '#F7F6F6',\r\n\t\t\t\t\t\tborderColor: '#e5e5e5'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terrorMessage:{\r\n\t\t\t\ttype:[String,Boolean],\r\n\t\t\t\tdefault:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tfocused: false,\r\n\t\t\t\terrMsg: '',\r\n\t\t\t\tval: '',\r\n\t\t\t\tshowMsg: '',\r\n\t\t\t\tborder: false,\r\n\t\t\t\tisFirstBorder: false,\r\n\t\t\t\tshowClearIcon: false,\r\n\t\t\t\tshowPassword: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tmsg() {\r\n\t\t\t\treturn this.errorMessage || this.errMsg;\r\n\t\t\t},\r\n\t\t\t// 因为uniapp的input组件的maxlength组件必须要数值，这里转为数值，用户可以传入字符串数值\r\n\t\t\tinputMaxlength() {\r\n\t\t\t\treturn Number(this.maxlength);\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvalue(newVal) {\r\n\t\t\t\tif (this.errMsg) this.errMsg = ''\r\n\t\t\t\tthis.val = newVal\n\t\t\t\t// fix by mehaotian is_reset 在 uni-forms 中定义\r\n\t\t\t\tif (this.form && this.formItem &&!this.is_reset) {\r\n\t\t\t\t\tthis.is_reset = false\r\n\t\t\t\t\tthis.formItem.setValue(newVal)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmodelValue(newVal) {\r\n\t\t\t\tif (this.errMsg) this.errMsg = ''\r\n\t\t\t\tthis.val = newVal\r\n\t\t\t\tif (this.form && this.formItem &&!this.is_reset) {\r\n\t\t\t\t\tthis.is_reset = false\r\n\t\t\t\t\tthis.formItem.setValue(newVal)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfocus(newVal) {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.focused = this.focus\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(!this.value){\r\n\t\t\t\tthis.val = this.modelValue\r\n\t\t\t}\r\n\t\t\tif(!this.modelValue){\r\n\t\t\t\tthis.val = this.value\r\n\t\t\t}\r\n\t\t\tthis.form = this.getForm('uniForms')\r\n\t\t\tthis.formItem = this.getForm('uniFormsItem')\r\n\t\t\tif (this.form && this.formItem) {\r\n\t\t\t\tif (this.formItem.name) {\n\t\t\t\t\tif(!this.is_reset){\n\t\t\t\t\t\tthis.is_reset = false\n\t\t\t\t\t\tthis.formItem.setValue(this.val)\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.rename = this.formItem.name\r\n\t\t\t\t\tthis.form.inputChildrens.push(this)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.focused = this.focus\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 初始化变量值\r\n\t\t\t */\r\n\t\t\tinit() {\r\n\r\n\t\t\t},\r\n\t\t\tonClickIcon(type) {\r\n\t\t\t\tthis.$emit('iconClick', type)\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取父元素实例\r\n\t\t\t */\r\n\t\t\tgetForm(name = 'uniForms') {\r\n\t\t\t\tlet parent = this.$parent;\r\n\t\t\t\tlet parentName = parent.$options.name;\r\n\t\t\t\twhile (parentName !== name) {\r\n\t\t\t\t\tparent = parent.$parent;\r\n\t\t\t\t\tif (!parent) return false;\r\n\t\t\t\t\tparentName = parent.$options.name;\r\n\t\t\t\t}\r\n\t\t\t\treturn parent;\r\n\t\t\t},\r\n\r\n\t\t\tonEyes() {\r\n\t\t\t\tthis.showPassword = !this.showPassword\r\n\t\t\t},\r\n\t\t\tonInput(event) {\r\n\t\t\t\tlet value = event.detail.value;\r\n\t\t\t\t// 判断是否去除空格\r\n\t\t\t\tif (this.trim) {\r\n\t\t\t\t\tif (typeof(this.trim) === 'boolean' && this.trim) {\r\n\t\t\t\t\t\tvalue = this.trimStr(value)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof(this.trim) === 'string') {\r\n\t\t\t\t\t\tvalue = this.trimStr(value, this.trim)\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tif (this.errMsg) this.errMsg = ''\r\n\t\t\t\tthis.val = value\r\n\t\t\t\t// TODO 兼容 vue2\r\n\t\t\t\tthis.$emit('input', value);\r\n\t\t\t\t// TODO　兼容　vue3\r\n\t\t\t\tthis.$emit('update:modelValue',value)\r\n\t\t\t},\r\n\r\n\t\t\tonFocus(event) {\r\n\t\t\t\tthis.$emit('focus', event);\r\n\t\t\t},\r\n\t\t\tonBlur(event) {\r\n\t\t\t\tlet value = event.detail.value;\r\n\t\t\t\tthis.$emit('blur', event);\r\n\t\t\t},\r\n\t\t\tonConfirm(e) {\r\n\t\t\t\tthis.$emit('confirm', e.detail.value);\r\n\t\t\t},\r\n\t\t\tonClear(event) {\r\n\t\t\t\tthis.val = '';\r\n\t\t\t\t// TODO 兼容 vue2\r\n\t\t\t\tthis.$emit('input', '');\r\n\t\t\t\t// TODO 兼容 vue2\r\n\t\t\t\t// TODO　兼容　vue3\r\n\t\t\t\tthis.$emit('update:modelValue','')\r\n\t\t\t},\r\n\t\t\tfieldClick() {\r\n\t\t\t\tthis.$emit('click');\r\n\t\t\t},\r\n\t\t\ttrimStr(str, pos = 'both') {\r\n\t\t\t\tif (pos === 'both') {\r\n\t\t\t\t\treturn str.trim();\r\n\t\t\t\t} else if (pos === 'left') {\r\n\t\t\t\t\treturn str.trimLeft();\r\n\t\t\t\t} else if (pos === 'right') {\r\n\t\t\t\t\treturn str.trimRight();\r\n\t\t\t\t} else if (pos === 'start') {\r\n\t\t\t\t\treturn str.trimStart()\r\n\t\t\t\t} else if (pos === 'end') {\r\n\t\t\t\t\treturn str.trimEnd()\r\n\t\t\t\t} else if (pos === 'all') {\r\n\t\t\t\t\treturn str.replace(/\\s+/g, '');\r\n\t\t\t\t} else if (pos === 'none') {\r\n\t\t\t\t\treturn str;\r\n\t\t\t\t}\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\n\t$uni-error: #e43d33;\n\t$uni-border-1: #DCDFE6 !default;\r\n\t.uni-easyinput {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\twidth: 100%;\r\n\t\t/* #endif */\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\ttext-align: left;\r\n\t\tcolor: #333;\r\n\t\tfont-size: 14px;\n\t}\r\n\r\n\t.uni-easyinput__content {\r\n\t\tflex: 1;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\n\t\tmin-height: 36px;\r\n\t\t/* #endif */\n\t\tflex-direction: row;\r\n\t\talign-items: center;\n\t}\r\n\r\n\t.uni-easyinput__content-input {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\twidth: auto;\r\n\t\t/* #endif */\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tflex: 1;\r\n\t\tline-height: 1;\r\n\t\tfont-size: 14px;\n\t}\r\n\t.uni-easyinput__placeholder-class {\n\t\tcolor: #999;\n\t\tfont-size: 12px;\n\t\tfont-weight: 200;\n\t}\r\n\t.is-textarea {\r\n\t\talign-items: flex-start;\r\n\t}\r\n\r\n\t.is-textarea-icon {\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\r\n\t.uni-easyinput__content-textarea {\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tflex: 1;\r\n\t\tline-height: 1.5;\r\n\t\tfont-size: 14px;\r\n\t\tpadding-top: 6px;\r\n\t\tpadding-bottom: 10px;\r\n\t\theight: 80px;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tmin-height: 80px;\r\n\t\twidth: auto;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.input-padding {\r\n\t\tpadding-left: 10px;\r\n\t}\r\n\r\n\t.content-clear-icon {\r\n\t\tpadding: 0 5px;\r\n\t}\r\n\r\n\t.label-icon {\r\n\t\tmargin-right: 5px;\r\n\t\tmargin-top: -1px;\r\n\t}\r\n\r\n\t// 显示边框\r\n\t.is-input-border {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\r\n\t\t/* #endif */\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tborder: 1px solid $uni-border-1;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.uni-error-message {\r\n\t\tposition: absolute;\r\n\t\tbottom: -17px;\r\n\t\tleft: 0;\r\n\t\tline-height: 12px;\r\n\t\tcolor: $uni-error;\r\n\t\tfont-size: 12px;\r\n\t\ttext-align: left;\r\n\t}\r\n\r\n\t.uni-error-msg--boeder {\r\n\t\tposition: relative;\r\n\t\tbottom: 0;\r\n\t\tline-height: 22px;\r\n\t}\r\n\r\n\t.is-input-error-border {\r\n\t\tborder-color: $uni-error;\n\t\t.uni-easyinput__placeholder-class {\n\t\t\tcolor: mix(#fff, $uni-error, 50%);;\n\t\t}\r\n\t}\n\r\n\r\n\t.uni-easyinput--border {\r\n\t\tmargin-bottom: 0;\r\n\t\tpadding: 10px 15px;\r\n\t\t// padding-bottom: 0;\r\n\t\tborder-top: 1px #eee solid;\r\n\t}\r\n\r\n\t.uni-easyinput-error {\r\n\t\tpadding-bottom: 0;\r\n\t}\r\n\r\n\t.is-first-border {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tborder: none;\r\n\t\t/* #endif */\r\n\t\t/* #ifdef APP-NVUE */\r\n\t\tborder-width: 0;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.is-disabled {\n\t\tborder-color: red;\r\n\t\tbackground-color: #F7F6F6;\n\t\tcolor: #D5D5D5;\n\t\t.uni-easyinput__placeholder-class {\n\t\t\tcolor: #D5D5D5;\n\t\t\tfont-size: 12px;\n\t\t}\r\n\t}\r\n</style>\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","<!--\r\n * @Author: Aiden(戴林波)\r\n * @Date: 2021-12-17 17:50:13\r\n * @LastEditTime: 2022-04-15 14:59:47\r\n * @LastEditors: Aiden(戴林波)\r\n * @Description: \r\n * @Email: jason_dlb@sina.cn\r\n-->\r\n<template>\r\n  <view class=\"share-wraper\">\r\n    <!-- <uni-file-picker\r\n      file-mediatype=\"all\"\r\n      @select=\"onSelect\"\r\n      @progress=\"onProgress\"\r\n      @success=\"success\"\r\n      @fail=\"fail\"\r\n    >\r\n      <button>选择文件</button>\r\n    </uni-file-picker> -->\r\n    <!-- <view class=\"progress-large-file\"> -->\r\n    <!-- </view> -->\r\n    <!-- <progress :percent=\"80\" active :fontSize=\"24\" activeColor=\"#00f\" show-info stroke-width=\"3\"/> -->\r\n    <!-- <view>\r\n      <button @tap=\"uploadVideo\">上传视频</button>\r\n      <video :src=\"src\"></video>\r\n    </view> -->\r\n\r\n    <!-- <view>\r\n      <uni-file-picker\r\n        file-mediatype=\"image\"\r\n        @select=\"onSelectImage\"\r\n        @progress=\"progressImages\"\r\n        @success=\"successImage\"\r\n        @fail=\"failImage\"\r\n      >\r\n        <button>选择图片</button>\r\n      </uni-file-picker>\r\n      <progress\r\n        :percent=\"progressImage\"\r\n        active\r\n        :fontSize=\"24\"\r\n        activeColor=\"#00f\"\r\n        show-info\r\n        stroke-width=\"3\"\r\n      />\r\n    </view> -->\r\n    <uni-forms ref=\"form\" :modelValue=\"formData\" :rules=\"rules\">\r\n      <view class=\"info-item\">\r\n        <uni-forms-item\r\n          required\r\n          label=\"标    题：\"\r\n          name=\"title\"\r\n          label-width=\"80\"\r\n        >\r\n          <uni-easyinput\r\n            v-model=\"title\"\r\n            placeholder=\"请输入标题\"\r\n          ></uni-easyinput>\r\n        </uni-forms-item>\r\n      </view>\r\n      <view class=\"info-item\">\r\n        <!-- <view class=\"title-wraper\">\r\n          <text class=\"title\">个人签名</text>\r\n        </view> -->\r\n        <uni-forms-item\r\n          required\r\n          label=\"兴    趣：\"\r\n          name=\"hobby\"\r\n          label-width=\"80\"\r\n        >\r\n          <!-- <uni-data-checkbox\r\n            :value=\"hobby\"\r\n            :multiple=\"false\"\r\n            :localdata=\"hobbys\"\r\n            @change=\"hobbyChange\"\r\n          ></uni-data-checkbox> -->\r\n          <radio-group class=\"uni-list\" @change=\"hobbyChange\">\r\n            <label\r\n              class=\"uni-list-cell uni-list-cell-pd\"\r\n              v-for=\"(item, index) in hobbys\"\r\n              :key=\"index\"\r\n            >\r\n              <view>\r\n                <radio :id=\"item.value\" :value=\"item.value\"></radio>\r\n              </view>\r\n              <view>\r\n                <label class=\"label-2-text\" :for=\"item.value\">\r\n                  <text>{{ item.text }}</text>\r\n                </label>\r\n              </view>\r\n            </label>\r\n          </radio-group>\r\n        </uni-forms-item>\r\n      </view>\r\n      <view class=\"info-item\">\r\n        <uni-forms-item\r\n          required\r\n          label=\"文件类型：\"\r\n          name=\"fileType\"\r\n          label-width=\"80\"\r\n        >\r\n          <!-- <uni-data-checkbox\r\n            :multiple=\"false\"\r\n            :value=\"fileType\"\r\n            :localdata=\"fileTypes\"\r\n            @change=\"typeChange\"\r\n          ></uni-data-checkbox> -->\r\n          <radio-group class=\"uni-list\" @change=\"typeChange\">\r\n            <label\r\n              class=\"uni-list-cell uni-list-cell-pd\"\r\n              v-for=\"item in fileTypes\"\r\n              :key=\"item.value\"\r\n            >\r\n              <view>\r\n                <radio :id=\"item.value\" :value=\"item.value\"></radio>\r\n              </view>\r\n              <view>\r\n                <label class=\"label-2-text\" :for=\"item.value\">\r\n                  <text>{{ item.text }}</text>\r\n                </label>\r\n              </view>\r\n            </label>\r\n          </radio-group>\r\n        </uni-forms-item>\r\n      </view>\r\n      <view class=\"info-item\">\r\n        <uni-forms-item\r\n          required\r\n          label=\"内    容：\"\r\n          name=\"content\"\r\n          label-width=\"80\"\r\n        >\r\n          <uni-easyinput\r\n            type=\"textarea\"\r\n            :maxlength=\"-1\"\r\n            autoHeight\r\n            v-model=\"content\"\r\n            placeholder=\"请输入正文内容\"\r\n          ></uni-easyinput>\r\n        </uni-forms-item>\r\n      </view>\r\n    </uni-forms>\r\n    <button @tap=\"submit\" type=\"primary\">上传分享</button>\r\n    <progress\r\n      v-if=\"uploadLoading\"\r\n      :percent=\"progressPercent\"\r\n      :fontSize=\"24\"\r\n      activeColor=\"#00f\"\r\n      show-info\r\n      stroke-width=\"12\"\r\n    />\r\n    <view class=\"upload-text\">\r\n      <text v-if=\"uploadFlag\" @click=\"onPause\">{{ uploadText }}</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, computed, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport qs from \"qs\";\r\nimport SparkMD5 from \"spark-md5\";\r\nimport { fileParse } from \"../../utils/util\";\r\nimport { uploadImage, mergeFile } from \"../../api/file\";\r\nimport { request } from \"../../utils/request\";\r\n\r\nconst store = useStore();\r\nconst userInfo = computed(() => store.state.user.userInfo).value;\r\n\r\nlet src = ref(\"\");\r\nlet progressPercent = ref(0);\r\nlet partListLength = ref(0);\r\nlet cutParts = ref([]);\r\nlet uploadText = ref(\"暂停\");\r\nlet uploadFlag = ref(false);\r\nlet uploadBtn = ref(false);\r\nlet abort = ref(false);\r\nlet uploadLoading = ref(false);\r\n\r\nconst success = (e) => {\r\n  console.log(\"e===\", e);\r\n};\r\nconst onSelect1 = (e) => {\r\n  console.log(\"select \", e);\r\n  const { tempFilePaths } = e;\r\n  src.value = tempFilePaths[0];\r\n  console.log(\"tempFilePath===\", tempFilePaths[0]);\r\n  const uploadTask = uni.uploadFile({\r\n    // url: \"/upload/files/uploadVideo\",\r\n    url: \"/prod/files/uploadVideo\",\r\n    filePath: tempFilePaths[0],\r\n    name: \"file\",\r\n    fileType: \"video\",\r\n    // formData: {\r\n    //   user: \"test\",\r\n    // },\r\n    success: (uploadFileRes) => {\r\n      console.log(\"uploadFileRes===\", uploadFileRes);\r\n    },\r\n  });\r\n\r\n  uploadTask.onProgressUpdate((res) => {\r\n    console.log(\"res===\", res);\r\n    console.log(\"上传进度\" + res.progress);\r\n    progressPercent.value = res.progress;\r\n    console.log(\"已经上传的数据长度\" + res.totalBytesSent);\r\n    console.log(\"预期需要上传的数据总长度\" + res.totalBytesExpectedToSend);\r\n\r\n    // 测试条件，取消上传任务。\r\n    // if (res.progress > 50) {\r\n    //   uploadTask.abort();\r\n    // }\r\n  });\r\n};\r\n\r\n// 大文件上传\r\nlet hash = ref(\"\");\r\nlet partList = ref([]);\r\nlet requestList = ref([]);\r\nlet total = ref(0);\r\nlet sendIndex = ref(0);\r\n\r\n/**\r\n * @description: 传递完文件后合并切片文件\r\n * @param {*}\r\n * @Author:\r\n * @return {*}\r\n */\r\nconst complete = () => {\r\n  console.log(\"去调用接口合并文件\");\r\n  const { avatar, username } = userInfo;\r\n  const params = {\r\n    hash: hash.value,\r\n    title: formData.title,\r\n    hobby: formData.hobby,\r\n    fileType: formData.fileType,\r\n    content: formData.content,\r\n    avatar,\r\n    username,\r\n  };\r\n  mergeFile(params).then((data) => {\r\n    console.log(\"data===\", data);\r\n    uploadFlag.value = false;\r\n    uploadLoading.value = false;\r\n    // progressPercent.value  = 100\r\n  });\r\n};\r\n\r\nconst promiseSend = (item, index) => {\r\n  return new Promise((resolve, reject) => {\r\n    const blobUrl = URL.createObjectURL(item.chunk);\r\n    console.log(\"blobUrl===\", blobUrl);\r\n    const uploadTask = uni.uploadFile({\r\n      url: \"/prod/files/uploadLargeFile\",\r\n      // url: \"/upload/files/uploadLargeFile\",\r\n      // url: \"http://localhost:3000/files/uploadLargeFile\",\r\n      filePath: blobUrl,\r\n      name: \"file\",\r\n      fileType: \"video\",\r\n      formData: {\r\n        filename: item.filename,\r\n      },\r\n      success: (uploadFileRes) => {\r\n        console.log(\"uploadFileRes===\", uploadFileRes);\r\n        const { statusCode } = uploadFileRes;\r\n        // 上传完就从切片数组中删除当前部分\r\n        console.log(\"index================================\", index);\r\n        if (statusCode === 200) {\r\n          // partListLength.value / partList.value.length\r\n          let parts = partList.value;\r\n          const part = parts.splice(0, 1);\r\n          cutParts.value.push(part);\r\n          partList.value = [...parts];\r\n          console.log(\"partList=\", partList);\r\n          console.log(\"cutPartslength=\", cutParts.value.length);\r\n          console.log(\"partListLength=\", partListLength.value);\r\n          progressPercent.value = (\r\n            (cutParts.value.length / partListLength.value) *\r\n            100\r\n          ).toFixed(2);\r\n          resolve(true);\r\n        } else {\r\n          resolve(false);\r\n        }\r\n      },\r\n      fail: (err) => {\r\n        console.log(\"err=\", err);\r\n      },\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * @description: 串行发送请求\r\n * @param {*}\r\n * @Author:\r\n * @return {*}\r\n */\r\n\r\n/**\r\n * @description:   传递,使用串行（传完一个再传递下一个）\r\n * @param {*}\r\n * @Author:\r\n * @return {*}\r\n */\r\nconst sendRequest = async () => {\r\n  //   let activeIndex = 0\r\n  //   console.log('partList.value.length=', partList.value.length)\r\n  uploadFlag.value = true;\r\n  // uploadText.value = '暂停'\r\n  requestList.value = [];\r\n  //   let i = 0\r\n  //   const send = async () => {\r\n  //           if (i >= partList.value.length) {\r\n  //             // 发送完毕\r\n  //             complete()\r\n  //             return\r\n  //           }\r\n  //           // await requestList[i]()\r\n  //           const items = partList.value\r\n  //           const activeIndex = await promiseSend(items[i], i);\r\n  //           // partList.value.splice(activeIndex, 1)\r\n  //           i++\r\n  //           console.log('activeIndex=', activeIndex)\r\n  //           console.log('i=', i)\r\n  //           send()\r\n  // };\r\n  //   send()\r\n\r\n  console.log(\"partList.value=\", partList.value);\r\n  partList.value.forEach((item, index) => {\r\n    const fn = () => promiseSend(item, index);\r\n    requestList.value.push(fn);\r\n  });\r\n\r\n  let i = 0;\r\n  const send = async () => {\r\n    if (abort.value) {\r\n      return;\r\n    }\r\n    console.log(\"abort\", abort.value);\r\n    console.log(\"requestList.value===\", requestList.value);\r\n    if (i >= requestList.value.length) {\r\n      complete();\r\n      return;\r\n    }\r\n    try {\r\n      const isStep = await requestList.value[i]();\r\n      console.log(\"isStep=\", isStep);\r\n      if (isStep) {\r\n        i++;\r\n      }\r\n      send();\r\n    } catch (error) {\r\n      throw new Error(\"err happened\");\r\n    }\r\n  };\r\n  send();\r\n\r\n  // for (let item of partList.value) {\r\n  //   // 如果中断则不再传递\r\n  // if(abort.value){\r\n  //   return\r\n  // }\r\n  //   await promiseSend(item, activeIndex);\r\n  //   activeIndex++\r\n  //   progressPercent.value = activeIndex\r\n  //   console.log('progressPercent.value===', progressPercent.value)\r\n  //   if(activeIndex >= partList.value.length){\r\n  //     complete()\r\n  //   }\r\n  // }\r\n};\r\n\r\nconst sends = async (tempFile) => {\r\n  console.log(\"tempFiles===\", tempFile);\r\n  uploadLoading.value = true;\r\n  const buffer = await fileParse(tempFile, \"buffer\");\r\n  const spark = new SparkMD5.ArrayBuffer();\r\n  let suffix;\r\n  spark.append(buffer);\r\n  hash.value = spark.end();\r\n  suffix = /\\.([0-9a-zA-Z]+)$/i.exec(tempFile.name)[1];\r\n  // 创建切片\r\n  // let partsize = tempFile.size / 100;\r\n  // let cut = 0;\r\n  // for (let i = 0; i < 100; i++) {\r\n  //   let item = {\r\n  //     chunk: tempFile.slice(cut, cut + partsize),\r\n  //     filename: `${hash.value}_${i}_.${suffix}`,\r\n  //   };\r\n  //   cut += partsize;\r\n  //   partList.value.push(item);\r\n  // }\r\n  const partSize = 524288;\r\n  let cut = 0;\r\n  partListLength.value = Math.ceil(tempFile.size / partSize);\r\n  console.log(\"partListLength=\", partListLength.value);\r\n  for (let i = 0; i < partListLength.value; i++) {\r\n    let item = {\r\n      chunk: tempFile.slice(cut, cut + partSize),\r\n      filename: `${hash.value}_${i}_.${suffix}`,\r\n    };\r\n    cut += partSize;\r\n    partList.value.push(item);\r\n  }\r\n  sendRequest();\r\n};\r\n\r\nconst uploadVideo = () => {\r\n  uni.chooseVideo({\r\n    sourceType: [\"camera\", \"album\"],\r\n    success: function(res) {\r\n      console.log(\"res===\", res);\r\n      src.value = res.tempFilePath;\r\n      uploadBtn.value = true;\r\n      sends(res.tempFile);\r\n      // uni.uploadFile({\r\n      //   url: \"/dev/files/uploadVideo\",\r\n      //   filePath: res.tempFilePath,\r\n      //   name: \"file\",\r\n      //   fileType: \"video\",\r\n      //   formData: {\r\n      //     user: \"test\",\r\n      //   },\r\n      //   success: (uploadFileRes) => {\r\n      //     console.log(\"uploadFileRes===\", uploadFileRes);\r\n      //   },\r\n      // });\r\n    },\r\n  });\r\n};\r\n\r\nconst onSelect = async (e) => {\r\n  console.log(\"select \", e);\r\n  const { tempFilePaths, tempFiles } = e;\r\n  const file = tempFiles[0].file;\r\n  src.value = tempFilePaths[0];\r\n  console.log(\"tempFilePath===\", tempFilePaths[0]);\r\n  console.log(\"tempFiles===\", tempFiles[0]);\r\n  console.log(\"file===\", file);\r\n  const buffer = await fileParse(file, \"buffer\");\r\n  const spark = new SparkMD5.ArrayBuffer();\r\n  let suffix;\r\n  spark.append(buffer);\r\n  hash.value = spark.end();\r\n  suffix = /\\.([0-9a-zA-Z]+)$/i.exec(file.name)[1];\r\n  // 创建切片\r\n  let partsize = file.size / 100;\r\n  let cut = 0;\r\n  for (let i = 0; i < 100; i++) {\r\n    let item = {\r\n      chunk: file.slice(cut, cut + partsize),\r\n      filename: `${hash.value}_${i}_.${suffix}`,\r\n    };\r\n    cut += partsize;\r\n    partList.value.push(item);\r\n  }\r\n  sendRequest();\r\n};\r\n\r\nconst onPause = () => {\r\n  if (uploadBtn.value) {\r\n    uploadText.value = \"继续\";\r\n    uploadBtn.value = false;\r\n    abort.value = true;\r\n    // 暂停上传\r\n  } else {\r\n    uploadText.value = \"暂停\";\r\n    uploadBtn.value = true;\r\n    abort.value = false;\r\n    // 继续上传\r\n    sendRequest();\r\n  }\r\n};\r\n\r\nconst onProgress = (e) => {\r\n  console.log(\"e process=\", e);\r\n};\r\n// const progress = (e) => {\r\n//   console.log(\"progress=\", e);\r\n// };\r\nconst fail = (err) => {\r\n  console.log(\"err=\", err);\r\n};\r\n\r\n// 图片\r\nlet srcImage = ref(\"\");\r\nlet progressImage = ref(0);\r\nconst onSelectImage = async (e) => {\r\n  console.log(\"image=\", e);\r\n  if (!e) return;\r\n  const { tempFilePaths, tempFiles } = e;\r\n  uploadLoading.value = true;\r\n  const files = Object.assign([], tempFiles)\r\n  const fileAll = []\r\n  for(let item of files){\r\n    const chunk = await fileParse(item, \"base64\")\r\n    fileAll.push({\r\n      filename: item.name,\r\n      chunk: chunk\r\n    })\r\n  }\r\n  const buffer = await fileParse(tempFiles[0], \"buffer\");\r\n  const spark = new SparkMD5.ArrayBuffer();\r\n  spark.append(buffer);\r\n  const hash = spark.end();\r\n  const { avatar, username } = userInfo;\r\n  uploadImage(\r\n    qs.stringify({\r\n      fileAll,\r\n      hash,\r\n      title: formData.title,\r\n      hobby: parseInt(formData.hobby),\r\n      fileType: formData.fileType,\r\n      content: formData.content,\r\n      avatar,\r\n      username,\r\n    })\r\n  ).then((data) => {\r\n    console.log(\"data===\", data);\r\n    const {\r\n      data: { code },\r\n    } = data;\r\n    if (code === 200) {\r\n      progressPercent.value = 100;\r\n      uploadLoading.value = false;\r\n    }\r\n  });\r\n};\r\nconst onUploadImage = async () => {\r\n  uni.chooseImage({\r\n    count: 6, //默认9\r\n    sizeType: [\"original\", \"compressed\"], //可以指定是原图还是压缩图，默认二者都有\r\n    sourceType: [\"album\"], //从相册选择\r\n    success: function(res) {\r\n      onSelectImage(res);\r\n    },\r\n  });\r\n};\r\nconst progressImages = (e) => {\r\n  console.log(\"image process=\", e);\r\n};\r\nconst successImage = () => {};\r\nconst failImage = () => {};\r\n\r\n// 表单数据\r\nconst form = ref(null);\r\nlet formData = reactive({\r\n  title: \"\",\r\n  hobby: \"\",\r\n  fileType: \"\",\r\n  content: \"\",\r\n});\r\nlet rules = {\r\n  title: {\r\n    rules: [\r\n      {\r\n        required: true,\r\n        errorMessage: \"请输入标题\",\r\n      },\r\n    ],\r\n  },\r\n  hobby: {\r\n    rules: [\r\n      {\r\n        required: true,\r\n        errorMessage: \"请选择兴趣\",\r\n      },\r\n    ],\r\n  },\r\n  fileType: {\r\n    rules: [\r\n      {\r\n        required: true,\r\n        errorMessage: \"请选择文件类型\",\r\n      },\r\n    ],\r\n  },\r\n  content: {\r\n    rules: [\r\n      {\r\n        required: true,\r\n        errorMessage: \"请输入正文内容\",\r\n      },\r\n    ],\r\n  },\r\n};\r\nlet title = ref(\"\");\r\nlet content = ref(\"\");\r\nlet hobby = ref(\"\");\r\nlet fileType = ref(\"\");\r\nlet hobbys = reactive([\r\n  { value: 0, text: \"狼人杀\", disable: false },\r\n  { value: 1, text: \"剧本杀\", disable: false },\r\n  { value: 2, text: \"登山\", disable: false },\r\n  { value: 3, text: \"旅游\", disable: false },\r\n  { value: 4, text: \"视频\", disable: false },\r\n]);\r\nlet fileTypes = ref([\r\n  { value: 0, text: \"图片\", disable: false },\r\n  { value: 1, text: \"视频\", disable: false },\r\n]);\r\nconst hobbyChange = (e) => {\r\n  console.log(\"e=\", e);\r\n  const {\r\n    detail: { value },\r\n  } = e;\r\n  hobby.value = value;\r\n  form.value.setValue(\"hobby\", value);\r\n};\r\nconst typeChange = (e) => {\r\n  const {\r\n    detail: { value },\r\n  } = e;\r\n  fileType.value = value;\r\n  form.value.setValue(\"fileType\", value);\r\n};\r\nconst submit = () => {\r\n  form.value\r\n    .validate()\r\n    .then((res) => {\r\n      console.log(\"表单数据信息：\", res);\r\n      const { fileType, title, content, hobby } = res;\r\n      formData.content = content;\r\n      formData.title = title;\r\n      formData.fileType = fileType;\r\n      formData.hobby = hobby;\r\n      if (fileType === 0) {\r\n        onUploadImage();\r\n      } else {\r\n        uploadVideo();\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"表单错误信息：\", err);\r\n    });\r\n};\r\n\r\n// 监听\r\nwatch(\r\n  () => {\r\n    return hobby.value;\r\n  },\r\n  (state) => {\r\n    console.log(\"state=\", state);\r\n    switch (state) {\r\n      case 0:\r\n      case 1:\r\n        fileTypes.value = [{ value: 0, text: \"图片\", disable: false }];\r\n        break;\r\n      case 2:\r\n      case 3:\r\n        fileTypes.value = [\r\n          { value: 0, text: \"图片\", disable: false },\r\n          { value: 1, text: \"视频\", disable: false },\r\n        ];\r\n        break;\r\n      case 4:\r\n        fileTypes.value = [{ value: 1, text: \"视频\", disable: false }];\r\n        break;\r\n    }\r\n  },\r\n  {\r\n    deep: true,\r\n  }\r\n);\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.share-wraper {\r\n  padding: 100rpx 30rpx 0;\r\n  .progress-large-file {\r\n    display: flex;\r\n  }\r\n  .upload-text {\r\n    text-align: center;\r\n  }\r\n  .title-wraper {\r\n    padding: 20rpx 0;\r\n    .title {\r\n      font-weight: 700;\r\n    }\r\n  }\r\n  .uni-list {\r\n    display: flex;\r\n    .uni-list-cell {\r\n      margin-right: 46rpx;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","/*\r\n * @Author: Aiden(戴林波)\r\n * @Date: 2021-12-22 11:15:02\r\n * @LastEditTime: 2022-02-23 22:15:24\r\n * @LastEditors: Aiden(戴林波)\r\n * @Description: \r\n * @Email: jason_dlb@sina.cn\r\n */\r\nimport { request } from '../utils/request.js'\r\n\r\nexport const fileUpload = (params) => {\r\n\treturn request(`/users/uploadFile`,'POST', params)\r\n}\r\n\r\nexport const uploadVideo = (params) => {\r\n\treturn request(`/files/uploadVideo`, 'POST', params)\r\n}\r\n\r\n/**\r\n * @description: 上传图片\r\n * @param {*} params\r\n * @Author: \r\n * @return {*}\r\n */\r\nexport const uploadImage = (params) => {\r\n\treturn request(`/files/uploadImage`, 'POST', params, 'application/x-www-form-urlencoded')\r\n}\r\n\r\n/**\r\n * @description: 上传视频文件\r\n * @param {*} params\r\n * @Author: \r\n * @return {*}\r\n */\r\nexport const uploadLargeFile = (params) => {\r\n\treturn request(`/files/uploadLargeFile`, 'POST', params, 'form')\r\n}\r\n\r\n\r\n/**\r\n * @description: 合并视频文件并传递输入的参数\r\n * @param {*} params\r\n * @Author: \r\n * @return {*}\r\n */\r\nexport const mergeFile = (params) => {\r\n\treturn request(`/files/mergeFile`, 'POST', params)\r\n}"],"names":["name","emits","model","prop","event","props","String","value","Number","modelValue","type","default","clearable","Boolean","autoHeight","placeholder","placeholderStyle","focus","disabled","maxlength","confirmType","clearSize","inputBorder","prefixIcon","suffixIcon","trim","passwordIcon","styles","Object","color","disableColor","borderColor","errorMessage","data","focused","errMsg","val","showMsg","border","isFirstBorder","showClearIcon","showPassword","computed","msg","this","inputMaxlength","watch","newVal","form","formItem","is_reset","setValue","$nextTick","created","getForm","rename","inputChildrens","push","mounted","methods","init","onClickIcon","$emit","parent","$parent","parentName","$options","onEyes","onInput","detail","trimStr","onFocus","onBlur","onConfirm","e","onClear","fieldClick","str","pos","trimLeft","trimRight","trimStart","trimEnd","replace","class","key","password","$data","size","undefined","hex_chr","x","k","a","b","c","d","s","i","md5blks","charCodeAt","length","tail","tmp","lo","hi","n","state","md5blk","substring","toString","match","parseInt","md5blk_array","subarray","Uint8Array","j","rhex","join","test","unescape","encodeURIComponent","returnUInt8Array","buff","ArrayBuffer","arr","fromCharCode","apply","first","second","result","byteLength","set","buffer","hex2","bytes","substr","reset","hex","md51","prototype","slice","Math","max","min","from","to","num","target","targetArray","sourceArray","begin","clamp","end","append","appendBinary","toUtf8","contents","_buff","_length","_hash","raw","ret","_finish","hexToBinaryString","getState","hash","setState","destroy","SparkMD52","hashBinary","content","concatenateArrayBuffers","call","arrayBuffer2Utf8Str","utf8Str2ArrayBuffer","md51_array","factory","store","useStore","userInfo","user","src","ref","progressPercent","partListLength","cutParts","uploadText","uploadFlag","uploadBtn","abort","uploadLoading","partList","requestList","complete","log","avatar","username","params","request","title","formData","hobby","fileType","then","sendRequest","async","forEach","item","index2","Promise","resolve","reject","blobUrl","URL","createObjectURL","chunk","url","filePath","filename","success","uploadFileRes","statusCode","parts","part","splice","toFixed","fail","err","promiseSend","send","isStep","error","Error","uploadVideo","sourceType","res","tempFilePath","tempFile","fileParse","spark","SparkMD5","suffix","exec","partSize","cut","ceil","onPause","onSelectImage","tempFilePaths","tempFiles","files","assign","fileAll","hash2","qs","stringify","code","reactive","rules","required","hobbys","text","disable","fileTypes","hobbyChange","typeChange","submit","validate","content2","title2","fileType2","hobby2","count","sizeType","catch","deep"],"mappings":"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"}