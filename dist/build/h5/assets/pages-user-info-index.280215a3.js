import{y as e,x as a,r as s,as as o,b as t,c as l,d as r,g as i,u as n,i as d,t as u,h as c,e as f,f as p,F as m,L as v,H as g,k as _,m as C,q as h,p as y,z as b,Y as k,at as x}from"./index.4f21874d.js";import{_ as j,a as w}from"./uni-forms.24d536c2.js";import{r as P}from"./uni-app.es.186d8cb4.js";import{_ as D}from"./PickerRegion.3087a51f.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.770916ad.js";const I={onBackPress:e=>"navigateBack"!==e.from&&(v({url:"/pages/user/index"}),!0)};var B=F(Object.assign(I,{setup(v){const F="/static/images/default_avatar.png",I=g();let B=e((()=>I.state.user.userInfo)).value,E=a(B.photos);console.log("images===",E);const L=s(B.avatar),M=s(o().diff(B.birthday,"years")),Y=()=>{console.log("why"),_({url:"/pages/user/info/Editor"})};return(e,a)=>{const s=C,o=h,v=y,g=P(b("uni-forms-item"),j),I=P(b("uni-forms"),w),q=k;return t(),l(v,{class:"userinfo-wraper"},{default:r((()=>[i(v,{class:"userinfo"},{default:r((()=>[i(s,{mode:"aspectFill",src:L.value?L.value:F,class:"avatar"},null,8,["src"]),i(v,{class:"basic-info"},{default:r((()=>[i(D,{isDisabled:"",propsProvinceCode:n(B).location&&n(B).location.provinceCode,propsCityCode:n(B).location&&n(B).location.cityCode},null,8,["propsProvinceCode","propsCityCode"]),d("/"+u(e.$filters.filterGender(n(B).gender)||"暂无")+"/",1),M.value||0===M.value?(t(),l(o,{key:0},{default:r((()=>[d(u(M.value)+"岁",1)])),_:1})):c("v-if",!0),M.value||0===M.value?c("v-if",!0):(t(),l(o,{key:1},{default:r((()=>[d("暂无")])),_:1})),c(' <uni-tag\r\n          v-if="!age && age !== 0"\r\n          disabled\r\n          inverted\r\n          text="暂无"\r\n        ></uni-tag> ')])),_:1})])),_:1}),i(v,{class:"photos"},{default:r((()=>[(t(!0),f(m,null,p(n(E),((e,a)=>(t(),l(v,{class:"photo-wraper",onClick:s=>((e,a)=>{if(console.log("item, index===",e,a),e)return void x({urls:E,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮,第"+(e.index+1)+"张图片")},fail:function(e){console.log(e.errMsg)}}});_({url:"/pages/user/info/Editor"}),(e=>{const a=new Date;let s=a.getFullYear(),o=a.getMonth()+1,t=a.getDate();"start"===e?s-=60:"end"===e&&(s+=2),o=o>9?o:"0"+o,t=t>9?t:"0"+t})({format:!0})})(e,a),key:a},{default:r((()=>[i(s,{mode:"aspectFill",src:e||F,class:"photo"},null,8,["src"]),!e&&n(E)[a-1]||0===a&&!n(E)[0]?(t(),l(o,{key:0,class:"photo-add"},{default:r((()=>[d("+")])),_:1})):c("v-if",!0)])),_:2},1032,["onClick"])))),128))])),_:1}),i(I,null,{default:r((()=>[i(g,{label:"家乡"},{default:r((()=>[i(D,{isDisabled:"",propsProvinceCode:n(B).hometown&&n(B).hometown.provinceCode,propsCityCode:n(B).hometown&&n(B).hometown.cityCode},null,8,["propsProvinceCode","propsCityCode"])])),_:1}),i(g,{label:"学校"},{default:r((()=>[i(v,null,{default:r((()=>[d(u(n(B).schoolName||"暂未填写"),1)])),_:1})])),_:1}),i(g,{label:"职业"},{default:r((()=>[i(v,null,{default:r((()=>[d(u(n(B).job||"暂未填写"),1)])),_:1})])),_:1})])),_:1}),i(q,{onClick:Y},{default:r((()=>[d("编辑资料")])),_:1})])),_:1})}}}),[["__scopeId","data-v-6edd5b40"]]);export{B as default};
//# sourceMappingURL=pages-user-info-index.280215a3.js.map
